{"version":3,"file":"ClickOutSide.dfe1ecac.js","sources":["../../../src/vueComponent/clickOutSide/useClickOutSide.ts","../../../src/vueComponent/clickOutSide/ClickOutSide.vue","../../src/views/vueComponents/clickOutSide/demo/index.vue","../../src/views/vueComponents/clickOutSide/demo/Index.md","../../src/views/vueComponents/clickOutSide/demo2/index.vue","../../src/views/vueComponents/clickOutSide/demo2/Index.md"],"sourcesContent":["import { Ref } from 'vue';\r\nexport function useClickOutSide(ref: Ref<HTMLElement>, callback: (e: MouseEvent) => void) {\r\n  function clickOutSide(e: MouseEvent) {\r\n    const el = unref(ref)\r\n    const target = e.target as HTMLElement\r\n    if (el.contains(target)) {\r\n      return false\r\n    }\r\n    callback(e)\r\n  }\r\n\r\n  onMounted(() => {\r\n    document.body.addEventListener(\"click\", clickOutSide)\r\n  })\r\n\r\n  onUnmounted(() => {\r\n    document.body.removeEventListener(\"click\", clickOutSide)\r\n  })\r\n}","\r\n<template>\r\n    <div ref=\"outSideEl\" :class=\"prefixCls\">\r\n      <slot></slot>\r\n    </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\n\r\nimport { usePrefixCls } from '../../less/useDesign';\r\nimport { useClickOutSide } from './useClickOutSide';\r\n\r\nconst prefixCls = usePrefixCls(\"out-side\")\r\n\r\nconst emit = defineEmits<{\r\n  (e: \"clickSide\", values: MouseEvent): void,\r\n}>()\r\n\r\nconst outSideEl = ref()\r\n\r\nuseClickOutSide(outSideEl, (e) => {\r\n  emit(\"clickSide\", e)\r\n})\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@prefix-cls: ~'@{namespace}-out-side';\r\n\r\n.@{prefix-cls}{\r\n  display: inline-block;\r\n}\r\n</style>","<template>\r\n  <div class=\"demo\" ref=\"area\" @click=\"message='您点击了区域内部'\">\r\n    {{message}}\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { useClickOutSide } from \"howuse/vueComponent\"\r\nimport { ref } from 'vue';\r\n\r\nconst message = ref(\"点击区域外部\")\r\nconst area = ref()\r\nuseClickOutSide(area, ()=>{\r\n  message.value = \"您点击了区域外部\"\r\n})\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.demo {\r\n  width: 200px;\r\n  height: 200px;\r\n  background-color: aquamarine;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n</style>","\n<script setup lang=\"ts\">\nconst excerpt = undefined\n  defineExpose({ frontmatter: {}, excerpt: undefined })\n</script>\n<script lang=\"ts\">\n/** frontmatter meta-data for MD page **/\nexport interface Frontmatter {\n  title?: string\n  description?: string\n  subject?: string\n  category?: string\n  name?: string\n  excerpt?: string\n  image?: string\n  layout?: string\n  requiredAuth?: boolean\n  meta?: Record<string, any>[]\n  [key: string]: unknown\n}\nexport const frontmatter: Frontmatter = {}\nexport const excerpt: string | undefined = \"\"\n\n</script>\n<template>\n<div class=\"markdown-body\"><pre class=\"language-vue\"><code class=\"language-vue\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>demo<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>area<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>message='您点击了区域内部'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n    &#123&#123message&#125&#125\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ts<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">setup</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useClickOutSide <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"howuse/vueComponent\"</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ref <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> message <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"点击区域外部\"</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">const</span> area <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token function\">useClickOutSide</span><span class=\"token punctuation\">(</span>area<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\r\n  message<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"您点击了区域外部\"</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>less<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">scoped</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\r\n<span class=\"token selector\">.demo</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\r\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\r\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> aquamarine<span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\r\n  <span class=\"token property\">align-items</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\r\n  <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></code></pre>\n</div>\n</template>\n","<template>\r\n  <how-click-out-side @click-side=\"message='点击区域外部'\"> \r\n    <div class=\"demo\" @click=\"message='您点击了区域内部'\">\r\n      {{message}}\r\n    </div>\r\n  </how-click-out-side>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { HowClickOutSide } from \"howuse/vueComponent\"\r\nimport { ref } from 'vue';\r\n\r\nconst message = ref(\"点击区域外部\")\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.demo {\r\n  width: 200px;\r\n  height: 200px;\r\n  background-color: aquamarine;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n</style>","\n<script setup lang=\"ts\">\nconst excerpt = undefined\n  defineExpose({ frontmatter: {}, excerpt: undefined })\n</script>\n<script lang=\"ts\">\n/** frontmatter meta-data for MD page **/\nexport interface Frontmatter {\n  title?: string\n  description?: string\n  subject?: string\n  category?: string\n  name?: string\n  excerpt?: string\n  image?: string\n  layout?: string\n  requiredAuth?: boolean\n  meta?: Record<string, any>[]\n  [key: string]: unknown\n}\nexport const frontmatter: Frontmatter = {}\nexport const excerpt: string | undefined = \"\"\n\n</script>\n<template>\n<div class=\"markdown-body\"><pre class=\"language-vue\"><code class=\"language-vue\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>how-click-out-side</span> <span class=\"token attr-name\">@click-side</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>message='点击区域外部'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span> \r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>demo<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>message='您点击了区域内部'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n      &#123&#123message&#125&#125\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>how-click-out-side</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ts<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">setup</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> HowClickOutSide <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"howuse/vueComponent\"</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ref <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> message <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"点击区域外部\"</span><span class=\"token punctuation\">)</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>less<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">scoped</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\r\n<span class=\"token selector\">.demo</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\r\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\r\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> aquamarine<span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\r\n  <span class=\"token property\">align-items</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\r\n  <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></code></pre>\n</div>\n</template>\n"],"names":["useClickOutSide","ref","callback","clickOutSide","e","el","unref","target","onMounted","onUnmounted","prefixCls","usePrefixCls","outSideEl","emit","message","area","expose"],"mappings":"4PACO,SAAAA,EAAAC,EAAAC,EAAA,CACL,SAAAC,EAAAC,EAAA,CACE,MAAAC,EAAAC,EAAAL,CAAA,EACAM,EAAAH,EAAA,OACA,GAAAC,EAAA,SAAAE,CAAA,EACE,MAAA,GAEFL,EAAAE,CAAA,CAAU,CAGZI,EAAA,IAAA,CACE,SAAA,KAAA,iBAAA,QAAAL,CAAA,CAAoD,CAAA,EAGtDM,EAAA,IAAA,CACE,SAAA,KAAA,oBAAA,QAAAN,CAAA,CAAuD,CAAA,CAE3D,kDCPA,MAAAO,EAAAC,EAAA,UAAA,EAMAC,EAAAX,IAEA,OAAAD,EAAAY,EAAAR,GAAA,CACES,EAAA,YAAAT,CAAA,CAAmB,CAAA,mKCXrB,MAAAU,EAAAb,EAAA,sCAAA,EACAc,EAAAd,IACA,OAAAD,EAAAe,EAAA,IAAA,CACED,EAAA,MAAA,kDAAgB,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;yNCThB,OAAAE,EAAa,CAAE,YAAa,CAAA,EAAI,QAAS,OAAW,6CCQtD,MAAAF,EAAAb,EAAA,sCAAA;;;;;;;;;;;;;;;;;;;;;;;yNCRE,OAAAe,EAAa,CAAE,YAAa,CAAA,EAAI,QAAS,OAAW"}