{"version":3,"file":"Drag.1ca93896.js","sources":["../../../src/vueComponent/dragDialog/Index.vue","../../src/views/vueComponents/dragDialog/index.vue","../../src/views/vueComponents/dragDialog/Index.md","../../src/views/vueComponents/dragDialog/api.md"],"sourcesContent":["<template>\r\n  <Transition name=\"custom-classes\" enter-active-class=\"animate__animated animate__faster animate__zoomIn\"\r\n    leave-active-class=\"animate__animated animate__faster animate__zoomOut\">\r\n    <Draggable :class=\"prefixCls\" v-slot=\"{ x, y }\" :handle=\"handle\" :prevent-default=\"true\" v-if=\"visible\"\r\n      :position=\"position\" :lock-boundary=\"lockBoundary\" :boundary=\"boundary\">\r\n      <template v-if=\"any\">\r\n        <div style=\"user-select: none;\">\r\n          <slot :x=\"x\" :y=\"y\"></slot>\r\n        </div>\r\n      </template>\r\n      <template v-else>\r\n        <div :class=\"`${prefixCls}__move`\" ref=\"handle\">\r\n          <div :class=\"`${prefixCls}__move--title`\">\r\n            <slot name=\"header\" :x=\"x\" :y=\"y\"></slot>\r\n          </div>\r\n          <div :class=\"`${prefixCls}__move--close`\" @click=\"close\">X</div>\r\n        </div>\r\n        <div :class=\"`${prefixCls}__content`\">\r\n          <slot></slot>\r\n        </div>\r\n        <div :class=\"`${prefixCls}__footer`\" v-if=\"isShowSlot('footer')\">\r\n          <slot name=\"footer\"></slot>\r\n        </div>\r\n      </template>\r\n    </Draggable>\r\n  </Transition>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { usePrefixCls } from '../../less/useDesign';\r\nimport { useVModel } from '@vueuse/core'\r\nimport { UseDraggable as Draggable } from './component'\r\nimport { PropType } from 'vue';\r\nconst slots = useSlots()\r\nconst isShowSlot = (name: string) => !!slots[name];\r\n\r\nconst handle = ref<HTMLElement | null>(null)\r\n\r\nconst prefixCls = usePrefixCls(\"drag-dialog\")\r\n\r\nconst props = defineProps({\r\n  visible: {\r\n    default: false,\r\n    type: Boolean\r\n  },\r\n  position: {\r\n    default: [0, 0],\r\n    type: Array as unknown as PropType<[number, number]>\r\n  },\r\n  any: {\r\n    default: false,\r\n    type: Boolean\r\n  },\r\n  lockBoundary: {\r\n    default: true\r\n  },\r\n  boundary: {\r\n    default: () => document.body, // 拖动活动边界元素\r\n    type: [HTMLDivElement, HTMLElement]\r\n  }\r\n})\r\n\r\nconst emit = defineEmits<{\r\n  (e: \"update:visible\", visible: boolean): void;\r\n  (e: \"update:position\", visible: boolean): void;\r\n  (e: \"after-close\", visible: boolean): void;\r\n}>()\r\n\r\n\r\nuseVModel(props, \"visible\", emit)\r\n\r\n\r\nfunction close() {\r\n  emit(\"update:visible\", false)\r\n  emit(\"after-close\", false)\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@prefix-cls: ~'@{namespace}-drag-dialog';\r\n\r\n.@{prefix-cls} {\r\n  min-width: 100px;\r\n  border-radius: 2px;\r\n  box-shadow: 0 3px 6px -4px #0000001f, 0 6px 16px #00000014, 0 9px 28px 8px #0000000d;\r\n  background-color: #FFF;\r\n  display: inline-block;\r\n  position: fixed;\r\n  z-index:~'@{defaultZIndex}';\r\n\r\n  &__move {\r\n    min-height: 55px;\r\n    cursor: move;\r\n    border-bottom: 1px solid #f0f0f0;\r\n    border-radius: 2px 2px 0 0;\r\n\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0 14px;\r\n    user-select: none;\r\n\r\n    &--title {\r\n      cursor: default;\r\n      color: #000000d9;\r\n      font-weight: 500;\r\n    }\r\n\r\n    &--close {\r\n      font-weight: bold;\r\n      cursor: pointer;\r\n      padding: 12px;\r\n    }\r\n  }\r\n\r\n  &__content {\r\n    min-height: 100px;\r\n    padding: 12px 14px;\r\n  }\r\n\r\n  &__footer {\r\n    min-height: 55px;\r\n    padding: 0 14px;\r\n    border-top: 1px solid #f0f0f0;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n}\r\n</style>","<template>\r\n  <a-space>\r\n    <a-button type=\"primary\" @click=\"visible=true\">打开可自由移动的弹窗</a-button>\r\n    <a-button type=\"primary\" @click=\"anyVisible=true\">自定义任意移动的弹窗</a-button>\r\n  </a-space>\r\n  <how-drag-dialog v-model:visible=\"visible\" :position=\"position\" @after-close=\"afterClose\">\r\n    <template #header=\"{ x, y }\">拖动这里可自由移动， 当前位置 {{ Math.round(x) }}, {{ Math.round(y) }}</template>\r\n    <div class=\"test-content\">\r\n      一般而言给内容指定宽度比较好\r\n    </div>\r\n    <template #footer>\r\n      自定义底部操作内容\r\n    </template>\r\n  </how-drag-dialog>\r\n  <how-drag-dialog v-model:visible=\"anyVisible\" :position=\"position\" any>\r\n    按住这里拖动我\r\n    <a-button @click=\"anyVisible = false\">点我关闭</a-button>\r\n  </how-drag-dialog>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { HowDragDialog } from \"howuse/vueComponent\"\r\nimport { message } from 'ant-design-vue';\r\n\r\n// 设置初始位置 相对于窗口x，y位置\r\nconst position = ref<[number, number]>([window.innerWidth / 3.6, 200])\r\n\r\nconst visible = ref(false)\r\nconst anyVisible = ref(false)\r\n\r\nfunction afterClose() {\r\n  message.success(\"弹窗关闭了\")\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n:slotted(.howuse-drag-dialog__content) {\r\n  background-color: green !important;\r\n}\r\n\r\n.test-content {\r\n  height: 300px;\r\n  width: 400px;\r\n}\r\n</style>","\n<script setup lang=\"ts\">\nconst excerpt = undefined\n  defineExpose({ frontmatter: {}, excerpt: undefined })\n</script>\n<script lang=\"ts\">\n/** frontmatter meta-data for MD page **/\nexport interface Frontmatter {\n  title?: string\n  description?: string\n  subject?: string\n  category?: string\n  name?: string\n  excerpt?: string\n  image?: string\n  layout?: string\n  requiredAuth?: boolean\n  meta?: Record<string, any>[]\n  [key: string]: unknown\n}\nexport const frontmatter: Frontmatter = {}\nexport const excerpt: string | undefined = \"\"\n\n</script>\n<template>\n<div class=\"markdown-body\"><pre class=\"language-vue\"><code class=\"language-vue\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a-space</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a-button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>primary<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>visible=true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>打开可自由移动的弹窗<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a-button</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a-button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>primary<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anyVisible=true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>自定义任意移动的弹窗<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a-button</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a-space</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>how-drag-dialog</span> <span class=\"token attr-name\"><span class=\"token namespace\">v-model:</span>visible</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>visible<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:position</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>position<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">@after-close</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>afterClose<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">#header</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{ x, y }<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>拖动这里可自由移动， 当前位置 &#123&#123 Math.round(x) &#125&#125, &#123&#123 Math.round(y) &#125&#125<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>test-content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n      一般而言给内容指定宽度比较好\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">#footer</span><span class=\"token punctuation\">></span></span>\r\n      自定义底部操作内容\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>how-drag-dialog</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>how-drag-dialog</span> <span class=\"token attr-name\"><span class=\"token namespace\">v-model:</span>visible</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anyVisible<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:position</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>position<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">any</span><span class=\"token punctuation\">></span></span>\r\n    按住这里拖动我\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a-button</span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anyVisible = false<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>点我关闭<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a-button</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>how-drag-dialog</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ts<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">setup</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> HowDragDialog <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"howuse/vueComponent\"</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> message <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'ant-design-vue'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// 设置初始位置 相对于窗口x，y位置</span>\r\n<span class=\"token keyword\">const</span> position <span class=\"token operator\">=</span> ref<span class=\"token operator\">&lt;</span><span class=\"token punctuation\">[</span>number<span class=\"token punctuation\">,</span> number<span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>window<span class=\"token punctuation\">.</span>innerWidth <span class=\"token operator\">/</span> <span class=\"token number\">3.6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token keyword\">const</span> visible <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">const</span> anyVisible <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">afterClose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  message<span class=\"token punctuation\">.</span><span class=\"token function\">success</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"弹窗关闭了\"</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>less<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">scoped</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\r\n<span class=\"token selector\">:slotted(.howuse-drag-dialog__content)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> green <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token selector\">.test-content</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 300px<span class=\"token punctuation\">;</span>\r\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 400px<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></code></pre>\n</div>\n</template>\n","\n<script setup lang=\"ts\">\nconst excerpt = undefined\n  defineExpose({ frontmatter: {}, excerpt: undefined })\n</script>\n<script lang=\"ts\">\n/** frontmatter meta-data for MD page **/\nexport interface Frontmatter {\n  title?: string\n  description?: string\n  subject?: string\n  category?: string\n  name?: string\n  excerpt?: string\n  image?: string\n  layout?: string\n  requiredAuth?: boolean\n  meta?: Record<string, any>[]\n  [key: string]: unknown\n}\nexport const frontmatter: Frontmatter = {}\nexport const excerpt: string | undefined = \"\"\n\n</script>\n<template>\n<div class=\"markdown-body\"><h1>API 说明</h1>\n<p><a href=\"https://vueuse.org/core/useDraggable/\">https://vueuse.org/core/useDraggable/</a> 这里其实实现了大部分内容，本组件也是在这个方法的基础上封装，做了轻微修改，以便于适应自身业务</p>\n<h2>props &amp; event</h2>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>说明</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>visible</td>\n<td>打开或者关闭，默认<code>false</code></td>\n<td>true/false</td>\n</tr>\n<tr>\n<td>position</td>\n<td>弹窗位置，默认 [0，0]</td>\n<td>[number,number]</td>\n</tr>\n<tr>\n<td>any</td>\n<td>是否为任意内容弹窗 ，默认 <code>false</code></td>\n<td>boolean</td>\n</tr>\n<tr>\n<td>lockBoundary</td>\n<td>是否锁定边界，默认<code>true</code>。</td>\n<td>boolean</td>\n</tr>\n</tbody>\n</table>\n<h2>slot</h2>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>header</td>\n<td>头部内容</td>\n</tr>\n<tr>\n<td>default</td>\n<td>中间部分内容</td>\n</tr>\n<tr>\n<td>footer</td>\n<td>底部内容</td>\n</tr>\n</tbody>\n</table>\n</div>\n</template>\n"],"names":["slots","useSlots","isShowSlot","name","handle","ref","prefixCls","usePrefixCls","useVModel","props","emit","close","position","visible","anyVisible","afterClose","message","expose"],"mappings":"0rBAgCAA,EAAAC,IACAC,EAAAC,GAAA,CAAA,CAAAH,EAAAG,GAEAC,EAAAC,EAAA,IAAA,EAEAC,EAAAC,EAAA,aAAA,EA+BAC,EAAAC,EAAA,UAAAC,CAAA,EAGA,SAAAC,GAAA,CACED,EAAA,iBAAA,EAAA,EACAA,EAAA,cAAA,EAAA,CAAyB,m8CCjD3B,MAAAE,EAAAP,EAAA,CAAA,OAAA,WAAA,IAAA,GAAA,CAAA,EAEAQ,EAAAR,EAAA,EAAA,EACAS,EAAAT,EAAA,EAAA,EAEA,SAAAU,GAAA,CACEC,EAAA,QAAA,gCAAA,CAAuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2NC3BvB,OAAAC,EAAa,CAAE,YAAa,CAAA,EAAI,QAAS,OAAW,y5CCApD,OAAAA,EAAa,CAAE,YAAa,CAAA,EAAI,QAAS,OAAW"}