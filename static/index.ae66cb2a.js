import{Z as U,V as Xa,aw as qi,di as Ka,k as ve,c9 as ar,ca as he,R as we,bz as ir,cI as j,bZ as Ot,a1 as et,aJ as It,dj as Wt,l as Q,a$ as ji,h as lt,W as Ji,dk as Qi,g as tn,dl as en,cO as rn,dm as an,dn as nn,dp as nr,dq as on,dr as sn,ds as ln,d2 as un,dt as Ue,db as vn,c$ as hn,du as cn,dv as dn,dw as fn,dg as pn,dx as gn,bE as st,dy as yn,r as qa,aK as Ut,aM as ce,L as Ft,aG as mn,dz as xn,dA as Sn,dh as ja,aA as rt,aP as or,bC as de,bP as bn,b0 as Yt,bD as Ja,aD as kt,aC as sr,aE as ct,bO as gt,co as Mn,dB as _n,dC as An,c5 as Tn,b8 as Qa,bR as wn,aH as Ct,dD as In,dE as Cn,dF as ti,dG as Ln,dH as Dn,dI as Pn,dJ as Rn,dK as Vn,dL as En,d as O,e as T,i as zt,dM as kn,b_ as zn,G as ut,t as R,j as xt,I as V,q as J,H as Lt,x as St,F as Y,B as H,b as Z,m as vt,C as ht,a as ft,aV as Dr,b4 as Pr,bI as ei,J as it,ah as lr,a2 as W,dN as On,dO as Bn,cr as Gn,dP as Nn,dQ as Hn,b7 as $n,bt as At,c_ as Wn,_ as L,dR as ri,dS as Fn,dT as ai,bT as ii,bV as Ye,cb as wt,bB as Xt,dU as ni,dV as Rr,bK as oi,S as ur,bF as bt,y as Zn,dW as Vr,dX as jt,cd as si,P,dY as vr,ce as Xe,bY as Tt,dZ as Un,d_ as Yn,d$ as Xn,e0 as Kn,e1 as qn,e2 as jn,e3 as li,e4 as Jn,e5 as ui,e6 as Qn,e7 as Er,e8 as to,e9 as eo,c as dt,ag as $t,s as ro,cG as vi,bM as Kt,c1 as hi,ea as ao,ar as mt,eb as ci,ec as di,ed as te,c7 as hr,az as kr,ax as io,bc as Jt,T as no,Q as oo,cs as Ke,bG as so,ee as lo,ef as uo,aT as vo,aO as ho,a0 as cr,a9 as fi,cn as zr,aQ as co,aN as fo,b2 as po,aR as go,bX as yo,X as Or,c8 as mo,eg as xo,aF as pi,c0 as qt,br as yt,cL as So,eh as bo,c6 as Mo,ei as _o,cF as Br,d4 as $,ej as gi,ek as Ao,ab as To,el as wo,em as Io,d3 as Co,en as Lo,aX as Do,eo as fe,cC as yi,ep as dr,bv as Po,aZ as Qt,cg as fr,eq as Le,er as Ro,es as Vo,et as Eo,eu as ko,ev as zo,ew as Oo,ex as Bo,ey as Go}from"./index.767c3463.js";import{bF as ic,b4 as nc,C as oc,a as sc,k as lc,eB as uc,aV as vc,f2 as hc,eD as cc,eY as dc,eA as fc,eE as pc,eF as gc,eG as yc,z as mc,eQ as xc,eH as Sc,eI as bc,eW as Mc,eC as _c,f4 as Ac,e$ as Tc,A as wc,eP as Ic,eR as Cc,eT as Lc,eZ as Dc,eV as Pc,eM as Rc,eN as Vc,eK as Ec,eL as kc,eJ as zc,eX as Oc,eO as Bc,eS as Gc,eU as Nc,f3 as Hc,bg as $c,P as Wc,f0 as Fc,ez as Zc,f1 as Uc,e_ as Yc}from"./index.767c3463.js";import{f as No,t as Ho,B as $o,c as Et,n as pr,s as Ie,D as Gr,d as Wo,i as Fo}from"./install.b71690e3.js";import{c as Kc}from"./install.b71690e3.js";import{u as Zo,v as Uo,w as Nr,x as Yo,y as Xo,z as Ko,A as De,B as qo,C as Hr,D as jo,E as Jo,V as K,F as Bt,L as Qo,R as ts,i as es,a as rs,b as as,c as is,d as ns,e as os,f as ss,g as ls,h as us,j as vs,k as hs,l as cs,m as ds,n as fs,o as ps,p as gs,q as ys,r as ms,s as xs,t as Ss,G as bs,H as Ms}from"./install.6e12723a.js";import{I as jc,I as Jc}from"./install.6e12723a.js";import{B as _s,T as As,r as Ts,M as Ce,a as mi,g as ws,n as Is,d as pe,b as ge,c as Cs,e as xi,z as Ls,D as ye,f as Si,h as bi,i as Mi,j as Ds,k as Ps,l as Rs}from"./index.2f875bf2.js";import"./index.20ecd292.js";import"./merge.d4762bc3.js";import"./_baseFor.5caa5d0d.js";function Vs(a,e,t,r,i,n,o,s){var l=new U({style:{text:a,font:e,align:t,verticalAlign:r,padding:i,rich:n,overflow:o?"truncate":null,lineHeight:s}});return l.getBoundingRect()}function Es(a){return No(null,a)}var ks={isDimensionStacked:Xa,enableDataStack:qi,getStackedDimension:Ka};function zs(a,e){var t=e;e instanceof ve||(t=new ve(e));var r=ar(t);return r.setExtent(a[0],a[1]),he(r,t),r}function Os(a){we(a,ir)}function Bs(a,e){return e=e||{},j(a,null,null,e.state!=="normal")}const Uh=Object.freeze(Object.defineProperty({__proto__:null,createList:Es,getLayoutRect:Ot,dataStack:ks,createScale:zs,mixinAxisModelCommonMethods:Os,getECData:et,createTextStyle:Bs,createDimensions:Ho,createSymbol:It,enableHoverEmphasis:Wt},Symbol.toStringTag,{value:"Module"})),Yh=Object.freeze(Object.defineProperty({__proto__:null,linearMap:Q,round:ji,asc:lt,getPrecision:Ji,getPrecisionSafe:Qi,getPixelPrecision:tn,getPercentWithPrecision:en,MAX_SAFE_INTEGER:rn,remRadian:an,isRadianAroundZero:nn,parseDate:nr,quantity:on,quantityExponent:sn,nice:ln,quantile:un,reformIntervals:Ue,isNumeric:vn,numericToNumber:hn},Symbol.toStringTag,{value:"Module"})),Xh=Object.freeze(Object.defineProperty({__proto__:null,parse:nr,format:cn},Symbol.toStringTag,{value:"Module"})),Kh=Object.freeze(Object.defineProperty({__proto__:null,extendShape:dn,extendPath:fn,makePath:pn,makeImage:gn,mergePath:st,resizePath:yn,createIcon:qa,updateProps:Ut,initProps:ce,getTransform:Ft,clipPointsByRect:mn,clipRectByRect:xn,registerShape:Sn,getShapeClass:ja,Group:rt,Image:or,Text:U,Circle:de,Ellipse:bn,Sector:Yt,Ring:Ja,Polygon:kt,Polyline:sr,Rect:ct,Line:gt,BezierCurve:Mn,Arc:_n,IncrementalDisplayable:An,CompoundPath:Tn,LinearGradient:Qa,RadialGradient:wn,BoundingRect:Ct},Symbol.toStringTag,{value:"Module"})),qh=Object.freeze(Object.defineProperty({__proto__:null,addCommas:In,toCamelCase:Cn,normalizeCssArray:ti,encodeHTML:Ln,formatTpl:Dn,getTooltipMarker:Pn,formatTime:Rn,capitalFirst:Vn,truncateText:En,getTextRect:Vs},Symbol.toStringTag,{value:"Module"})),jh=Object.freeze(Object.defineProperty({__proto__:null,map:O,each:T,indexOf:zt,inherits:kn,reduce:zn,filter:ut,bind:R,curry:xt,isArray:V,isString:J,isObject:Lt,isFunction:St,extend:Y,defaults:H,clone:Z,merge:vt},Symbol.toStringTag,{value:"Module"}));function Jh(a){var e=ht.extend(a);return ht.registerClass(e),e}function Qh(a){var e=ft.extend(a);return ft.registerClass(e),e}function tc(a){var e=Dr.extend(a);return Dr.registerClass(e),e}function ec(a){var e=Pr.extend(a);return Pr.registerClass(e),e}function Gs(a){if(a){for(var e=[],t=0;t<a.length;t++)e.push(a[t].slice());return e}}function Ns(a,e){var t=a.label,r=e&&e.getTextGuideLine();return{dataIndex:a.dataIndex,dataType:a.dataType,seriesIndex:a.seriesModel.seriesIndex,text:a.label.style.text,rect:a.hostRect,labelRect:a.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:Gs(r&&r.shape.points)}}var $r=["align","verticalAlign","width","height","fontSize"],q=new ei,Pe=it(),Hs=it();function ee(a,e,t){for(var r=0;r<t.length;r++){var i=t[r];e[i]!=null&&(a[i]=e[i])}}var re=["x","y","rotation"],$s=function(){function a(){this._labelList=[],this._chartViewList=[]}return a.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},a.prototype._addLabel=function(e,t,r,i,n){var o=i.style,s=i.__hostTarget,l=s.textConfig||{},u=i.getComputedTransform(),v=i.getBoundingRect().plain();Ct.applyTransform(v,v,u),u?q.setLocalTransform(u):(q.x=q.y=q.rotation=q.originX=q.originY=0,q.scaleX=q.scaleY=1);var h=i.__hostTarget,c;if(h){c=h.getBoundingRect().plain();var d=h.getComputedTransform();Ct.applyTransform(c,c,d)}var f=c&&h.getTextGuideLine();this._labelList.push({label:i,labelLine:f,seriesModel:r,dataIndex:e,dataType:t,layoutOption:n,computedLayoutOption:null,rect:v,hostRect:c,priority:c?c.width*c.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:f&&f.ignore,x:q.x,y:q.y,scaleX:q.scaleX,scaleY:q.scaleY,rotation:q.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},a.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var r=e.__model,i=r.get("labelLayout");!(St(i)||lr(i).length)||e.group.traverse(function(n){if(n.ignore)return!0;var o=n.getTextContent(),s=et(n);o&&!o.disableLabelLayout&&t._addLabel(s.dataIndex,s.dataType,r,o,i)})},a.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),r=e.getHeight();function i(m,M){return function(){Nr(m,M)}}for(var n=0;n<this._labelList.length;n++){var o=this._labelList[n],s=o.label,l=s.__hostTarget,u=o.defaultAttr,v=void 0;St(o.layoutOption)?v=o.layoutOption(Ns(o,l)):v=o.layoutOption,v=v||{},o.computedLayoutOption=v;var h=Math.PI/180;l&&l.setTextConfig({local:!1,position:v.x!=null||v.y!=null?null:u.attachedPos,rotation:v.rotate!=null?v.rotate*h:u.attachedRot,offset:[v.dx||0,v.dy||0]});var c=!1;if(v.x!=null?(s.x=W(v.x,t),s.setStyle("x",0),c=!0):(s.x=u.x,s.setStyle("x",u.style.x)),v.y!=null?(s.y=W(v.y,r),s.setStyle("y",0),c=!0):(s.y=u.y,s.setStyle("y",u.style.y)),v.labelLinePoints){var d=l.getTextGuideLine();d&&(d.setShape({points:v.labelLinePoints}),c=!1)}var f=Pe(s);f.needsUpdateLabelLine=c,s.rotation=v.rotate!=null?v.rotate*h:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var p=0;p<$r.length;p++){var g=$r[p];s.setStyle(g,v[g]!=null?v[g]:u.style[g])}if(v.draggable){if(s.draggable=!0,s.cursor="move",l){var y=o.seriesModel;if(o.dataIndex!=null){var b=o.seriesModel.getData(o.dataType);y=b.getItemModel(o.dataIndex)}s.on("drag",i(l,y.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},a.prototype.layout=function(e){var t=e.getWidth(),r=e.getHeight(),i=On(this._labelList),n=ut(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),o=ut(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});Bn(n,0,t),Gn(o,0,r);var s=ut(i,function(l){return l.layoutOption.hideOverlap});Nn(s)},a.prototype.processLabelsOverall=function(){var e=this;T(this._chartViewList,function(t){var r=t.__model,i=t.ignoreLabelLineUpdate,n=r.isAnimationEnabled();t.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!i,l=o.getTextContent();!s&&l&&(s=Pe(l).needsUpdateLabelLine),s&&e._updateLabelLine(o,r),n&&e._animateLabels(o,r)})})},a.prototype._updateLabelLine=function(e,t){var r=e.getTextContent(),i=et(e),n=i.dataIndex;if(r&&n!=null){var o=t.getData(i.dataType),s=o.getItemModel(n),l={},u=o.getItemVisual(n,"style"),v=o.getVisual("drawType");l.stroke=u[v];var h=s.getModel("labelLine");Zo(e,Uo(s),l),Nr(e,h)}},a.prototype._animateLabels=function(e,t){var r=e.getTextContent(),i=e.getTextGuideLine();if(r&&(e.forceLabelAnimation||!r.ignore&&!r.invisible&&!e.disableLabelAnimation&&!Hn(e))){var n=Pe(r),o=n.oldLayout,s=et(e),l=s.dataIndex,u={x:r.x,y:r.y,rotation:r.rotation},v=t.getData(s.dataType);if(o){r.attr(o);var c=e.prevStates;c&&(zt(c,"select")>=0&&r.attr(n.oldLayoutSelect),zt(c,"emphasis")>=0&&r.attr(n.oldLayoutEmphasis)),Ut(r,u,t,l)}else if(r.attr(u),!$n(r).valueAnimation){var h=At(r.style.opacity,1);r.style.opacity=0,ce(r,{style:{opacity:h}},t,l)}if(n.oldLayout=u,r.states.select){var d=n.oldLayoutSelect={};ee(d,u,re),ee(d,r.states.select,re)}if(r.states.emphasis){var f=n.oldLayoutEmphasis={};ee(f,u,re),ee(f,r.states.emphasis,re)}Wn(r,l,v,t,t)}if(i&&!i.ignore&&!i.invisible){var n=Hs(i),o=n.oldLayout,p={points:i.shape.points};o?(i.attr({shape:o}),Ut(i,{shape:p},t)):(i.setShape(p),i.style.strokePercent=0,ce(i,{style:{strokePercent:1}},t)),n.oldLayout=p}},a}();const Ws=$s;var Re=it();function Fs(a){a.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){var i=Re(t).labelManager;i||(i=Re(t).labelManager=new Ws),i.clearLabels()}),a.registerUpdateLifecycle("series:layoutlabels",function(e,t,r){var i=Re(t).labelManager;r.updatedSeries.forEach(function(n){i.addLabelsOfSeries(t.getViewOfSeriesModel(n))}),i.updateLayoutConfig(t),i.layout(t),i.processLabelsOverall()})}var Zs=function(a){L(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,n,o){var s=i.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),v=u.getExtent(),h=s.dataToCoord(r),c=n.get("type");if(c&&c!=="none"){var d=ri(n),f=Ys[c](s,l,h,v);f.style=d,t.graphicKey=f.type,t.pointer=f}var p=n.get(["label","margin"]),g=Us(r,i,n,l,p);Fn(t,i,n,o,g)},e}(ai);function Us(a,e,t,r,i){var n=e.axis,o=n.dataToCoord(a),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=r.getRadiusAxis().getExtent(),u,v,h;if(n.dim==="radius"){var c=oi();ii(c,c,s),Ye(c,c,[r.cx,r.cy]),u=wt([o,-i],c);var d=e.getModel("axisLabel").get("rotate")||0,f=Xt.innerTextLayout(s,d*Math.PI/180,-1);v=f.textAlign,h=f.textVerticalAlign}else{var p=l[1];u=r.coordToPoint([p+i,o]);var g=r.cx,y=r.cy;v=Math.abs(u[0]-g)/p<.3?"center":u[0]>g?"left":"right",h=Math.abs(u[1]-y)/p<.3?"middle":u[1]>y?"top":"bottom"}return{position:u,align:v,verticalAlign:h}}var Ys={line:function(a,e,t,r){return a.dim==="angle"?{type:"Line",shape:ni(e.coordToPoint([r[0],t]),e.coordToPoint([r[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(a,e,t,r){var i=Math.max(1,a.getBandWidth()),n=Math.PI/180;return a.dim==="angle"?{type:"Sector",shape:Rr(e.cx,e.cy,r[0],r[1],(-t-i/2)*n,(-t+i/2)*n)}:{type:"Sector",shape:Rr(e.cx,e.cy,t-i/2,t+i/2,0,Math.PI*2)}}};const Xs=Zs;var Ks=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var r,i=this.ecModel;return i.eachComponent(t,function(n){n.getCoordSysModel()===this&&(r=n)},this),r},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(ht);const qs=Ks;var gr=function(a){L(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",ur).models[0]},e.type="polarAxis",e}(ht);we(gr,ir);var js=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e}(gr),Js=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e}(gr),yr=function(a){L(e,a);function e(t,r){return a.call(this,"radius",t,r)||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e}(bt);yr.prototype.dataToRadius=bt.prototype.dataToCoord;yr.prototype.radiusToData=bt.prototype.coordToData;const Qs=yr;var tl=it(),mr=function(a){L(e,a);function e(t,r){return a.call(this,"angle",t,r||[0,360])||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,r=t.getLabelModel(),i=t.scale,n=i.getExtent(),o=i.count();if(n[1]-n[0]<1)return 0;var s=n[0],l=t.dataToCoord(s+1)-t.dataToCoord(s),u=Math.abs(l),v=Zn(s==null?"":s+"",r.getFont(),"center","top"),h=Math.max(v.height,7),c=h/u;isNaN(c)&&(c=1/0);var d=Math.max(0,Math.floor(c)),f=tl(t.model),p=f.lastAutoInterval,g=f.lastTickCount;return p!=null&&g!=null&&Math.abs(p-d)<=1&&Math.abs(g-o)<=1&&p>d?d=p:(f.lastTickCount=o,f.lastAutoInterval=d),d},e}(bt);mr.prototype.dataToAngle=bt.prototype.dataToCoord;mr.prototype.angleToData=bt.prototype.coordToData;const el=mr;var _i=["radius","angle"],rl=function(){function a(e){this.dimensions=_i,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new Qs,this._angleAxis=new el,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return a.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},a.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},a.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},a.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},a.prototype.getAxesByScale=function(e){var t=[],r=this._angleAxis,i=this._radiusAxis;return r.scale.type===e&&t.push(r),i.scale.type===e&&t.push(i),t},a.prototype.getAngleAxis=function(){return this._angleAxis},a.prototype.getRadiusAxis=function(){return this._radiusAxis},a.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},a.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},a.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},a.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},a.prototype.pointToData=function(e,t){var r=this.pointToCoord(e);return[this._radiusAxis.radiusToData(r[0],t),this._angleAxis.angleToData(r[1],t)]},a.prototype.pointToCoord=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,i=this.getAngleAxis(),n=i.getExtent(),o=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);i.inverse?o=s-360:s=o+360;var l=Math.sqrt(t*t+r*r);t/=l,r/=l;for(var u=Math.atan2(-r,t)/Math.PI*180,v=u<o?1:-1;u<o||u>s;)u+=v*360;return[l,u]},a.prototype.coordToPoint=function(e){var t=e[0],r=e[1]/180*Math.PI,i=Math.cos(r)*t+this.cx,n=-Math.sin(r)*t+this.cy;return[i,n]},a.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),r=t.getExtent().slice();r[0]>r[1]&&r.reverse();var i=e.getExtent(),n=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*n,endAngle:-i[1]*n,clockwise:e.inverse,contain:function(o,s){var l=o-this.cx,u=s-this.cy,v=l*l+u*u-1e-4,h=this.r,c=this.r0;return v<=h*h&&v>=c*c}}},a.prototype.convertToPixel=function(e,t,r){var i=Wr(t);return i===this?this.dataToPoint(r):null},a.prototype.convertFromPixel=function(e,t,r){var i=Wr(t);return i===this?this.pointToData(r):null},a}();function Wr(a){var e=a.seriesModel,t=a.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}const al=rl;function il(a,e,t){var r=e.get("center"),i=t.getWidth(),n=t.getHeight();a.cx=W(r[0],i),a.cy=W(r[1],n);var o=a.getRadiusAxis(),s=Math.min(i,n)/2,l=e.get("radius");l==null?l=[0,"100%"]:V(l)||(l=[0,l]);var u=[W(l[0],s),W(l[1],s)];o.inverse?o.setExtent(u[1],u[0]):o.setExtent(u[0],u[1])}function nl(a,e){var t=this,r=t.getAngleAxis(),i=t.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),a.eachSeries(function(s){if(s.coordinateSystem===t){var l=s.getData();T(Vr(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),T(Vr(l,"angle"),function(u){r.scale.unionExtentFromData(l,u)})}}),he(r.scale,r.model),he(i.scale,i.model),r.type==="category"&&!r.onBand){var n=r.getExtent(),o=360/r.scale.count();r.inverse?n[1]+=o:n[1]-=o,r.setExtent(n[0],n[1])}}function ol(a){return a.mainType==="angleAxis"}function Fr(a,e){if(a.type=e.get("type"),a.scale=ar(e),a.onBand=e.get("boundaryGap")&&a.type==="category",a.inverse=e.get("inverse"),ol(e)){a.inverse=a.inverse!==e.get("clockwise");var t=e.get("startAngle");a.setExtent(t,t+(a.inverse?-360:360))}e.axis=a,a.model=e}var sl={dimensions:_i,create:function(a,e){var t=[];return a.eachComponent("polar",function(r,i){var n=new al(i+"");n.update=nl;var o=n.getRadiusAxis(),s=n.getAngleAxis(),l=r.findAxisModel("radiusAxis"),u=r.findAxisModel("angleAxis");Fr(o,l),Fr(s,u),il(n,r,e),t.push(n),r.coordinateSystem=n,n.model=r}),a.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var i=r.getReferringComponents("polar",ur).models[0];r.coordinateSystem=i.coordinateSystem}}),t}};const ll=sl;var ul=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function ae(a,e,t){e[1]>e[0]&&(e=e.slice().reverse());var r=a.coordToPoint([e[0],t]),i=a.coordToPoint([e[1],t]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function ie(a){var e=a.getRadiusAxis();return e.inverse?0:1}function Zr(a){var e=a[0],t=a[a.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&a.pop()}var vl=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var i=t.axis,n=i.polar,o=n.getRadiusAxis().getExtent(),s=i.getTicksCoords(),l=i.getMinorTicksCoords(),u=O(i.getViewLabels(),function(v){v=Z(v);var h=i.scale,c=h.type==="ordinal"?h.getRawOrdinalNumber(v.tickValue):v.tickValue;return v.coord=i.dataToCoord(c),v});Zr(u),Zr(s),T(ul,function(v){t.get([v,"show"])&&(!i.scale.isBlank()||v==="axisLine")&&hl[v](this.group,t,n,s,l,o,u)},this)}},e.type="angleAxis",e}(jt),hl={axisLine:function(a,e,t,r,i,n){var o=e.getModel(["axisLine","lineStyle"]),s=ie(t),l=s?0:1,u;n[l]===0?u=new de({shape:{cx:t.cx,cy:t.cy,r:n[s]},style:o.getLineStyle(),z2:1,silent:!0}):u=new Ja({shape:{cx:t.cx,cy:t.cy,r:n[s],r0:n[l]},style:o.getLineStyle(),z2:1,silent:!0}),u.style.fill=null,a.add(u)},axisTick:function(a,e,t,r,i,n){var o=e.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=n[ie(t)],u=O(r,function(v){return new gt({shape:ae(t,[l,l+s],v.coord)})});a.add(st(u,{style:H(o.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(a,e,t,r,i,n){if(!!i.length){for(var o=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),u=n[ie(t)],v=[],h=0;h<i.length;h++)for(var c=0;c<i[h].length;c++)v.push(new gt({shape:ae(t,[u,u+l],i[h][c].coord)}));a.add(st(v,{style:H(s.getModel("lineStyle").getLineStyle(),H(o.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(a,e,t,r,i,n,o){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),v=e.get("triggerEvent");T(o,function(h,c){var d=l,f=h.tickValue,p=n[ie(t)],g=t.coordToPoint([p+u,h.coord]),y=t.cx,b=t.cy,m=Math.abs(g[0]-y)/p<.3?"center":g[0]>y?"left":"right",M=Math.abs(g[1]-b)/p<.3?"middle":g[1]>b?"top":"bottom";if(s&&s[f]){var x=s[f];Lt(x)&&x.textStyle&&(d=new ve(x.textStyle,l,l.ecModel))}var S=new U({silent:Xt.isLabelSilent(e),style:j(d,{x:g[0],y:g[1],fill:d.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:h.formattedLabel,align:m,verticalAlign:M})});if(a.add(S),v){var _=Xt.makeAxisEventDataBase(e);_.targetType="axisLabel",_.value=h.rawLabel,et(S).eventData=_}},this)},splitLine:function(a,e,t,r,i,n){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var v=[],h=0;h<r.length;h++){var c=u++%l.length;v[c]=v[c]||[],v[c].push(new gt({shape:ae(t,n,r[h].coord)}))}for(var h=0;h<v.length;h++)a.add(st(v[h],{style:H({stroke:l[h%l.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(a,e,t,r,i,n){if(!!i.length){for(var o=e.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var v=0;v<i[u].length;v++)l.push(new gt({shape:ae(t,n,i[u][v].coord)}));a.add(st(l,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(a,e,t,r,i,n){if(!!r.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var v=[],h=Math.PI/180,c=-r[0].coord*h,d=Math.min(n[0],n[1]),f=Math.max(n[0],n[1]),p=e.get("clockwise"),g=1,y=r.length;g<=y;g++){var b=g===y?r[0].coord:r[g].coord,m=u++%l.length;v[m]=v[m]||[],v[m].push(new Yt({shape:{cx:t.cx,cy:t.cy,r0:d,r:f,startAngle:c,endAngle:-b*h,clockwise:p},silent:!0})),c=-b*h}for(var g=0;g<v.length;g++)a.add(st(v[g],{style:H({fill:l[g%l.length]},s.getAreaStyle()),silent:!0}))}}};const cl=vl;var dl=["axisLine","axisTickLabel","axisName"],fl=["splitLine","splitArea","minorSplitLine"],pl=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var i=this._axisGroup,n=this._axisGroup=new rt;this.group.add(n);var o=t.axis,s=o.polar,l=s.getAngleAxis(),u=o.getTicksCoords(),v=o.getMinorTicksCoords(),h=l.getExtent()[0],c=o.getExtent(),d=yl(s,t,h),f=new Xt(t,d);T(dl,f.add,f),n.add(f.getGroup()),si(i,n,t),T(fl,function(p){t.get([p,"show"])&&!o.scale.isBlank()&&gl[p](this.group,t,s,h,c,u,v)},this)}},e.type="radiusAxis",e}(jt),gl={splitLine:function(a,e,t,r,i,n){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var v=[],h=0;h<n.length;h++){var c=u++%l.length;v[c]=v[c]||[],v[c].push(new de({shape:{cx:t.cx,cy:t.cy,r:Math.max(n[h].coord,0)}}))}for(var h=0;h<v.length;h++)a.add(st(v[h],{style:H({stroke:l[h%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(a,e,t,r,i,n,o){if(!!o.length){for(var s=e.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],v=0;v<o.length;v++)for(var h=0;h<o[v].length;h++)u.push(new de({shape:{cx:t.cx,cy:t.cy,r:o[v][h].coord}}));a.add(st(u,{style:H({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(a,e,t,r,i,n){if(!!n.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var v=[],h=n[0].coord,c=1;c<n.length;c++){var d=u++%l.length;v[d]=v[d]||[],v[d].push(new Yt({shape:{cx:t.cx,cy:t.cy,r0:h,r:n[c].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),h=n[c].coord}for(var c=0;c<v.length;c++)a.add(st(v[c],{style:H({fill:l[c%l.length]},s.getAreaStyle()),silent:!0}))}}};function yl(a,e,t){return{position:[a.cx,a.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}const ml=pl;function Ai(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function Ti(a,e){return e.dim+a.model.componentIndex}function xl(a,e,t){var r={},i=Sl(ut(e.getSeriesByType(a),function(n){return!e.isSeriesFiltered(n)&&n.coordinateSystem&&n.coordinateSystem.type==="polar"}));e.eachSeriesByType(a,function(n){if(n.coordinateSystem.type==="polar"){var o=n.getData(),s=n.coordinateSystem,l=s.getBaseAxis(),u=Ti(s,l),v=Ai(n),h=i[u][v],c=h.offset,d=h.width,f=s.getOtherAxis(l),p=n.coordinateSystem.cx,g=n.coordinateSystem.cy,y=n.get("barMinHeight")||0,b=n.get("barMinAngle")||0;r[v]=r[v]||[];for(var m=o.mapDimension(f.dim),M=o.mapDimension(l.dim),x=Xa(o,m),S=l.dim!=="radius"||!n.get("roundCap",!0),_=f.dataToCoord(0),w=0,A=o.count();w<A;w++){var I=o.get(m,w),C=o.get(M,w),k=I>=0?"p":"n",D=_;x&&(r[v][C]||(r[v][C]={p:_,n:_}),D=r[v][C][k]);var z=void 0,B=void 0,E=void 0,N=void 0;if(f.dim==="radius"){var G=f.dataToCoord(I)-_,F=l.dataToCoord(C);Math.abs(G)<y&&(G=(G<0?-1:1)*y),z=D,B=D+G,E=F-c,N=E-d,x&&(r[v][C][k]=B)}else{var X=f.dataToCoord(I,S)-_,at=l.dataToCoord(C);Math.abs(X)<b&&(X=(X<0?-1:1)*b),z=at+c,B=z+d,E=D,N=D+X,x&&(r[v][C][k]=N)}o.setItemLayout(w,{cx:p,cy:g,r0:z,r:B,startAngle:-E*Math.PI/180,endAngle:-N*Math.PI/180,clockwise:E>=N})}}})}function Sl(a){var e={};T(a,function(r,i){var n=r.getData(),o=r.coordinateSystem,s=o.getBaseAxis(),l=Ti(o,s),u=s.getExtent(),v=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/n.count(),h=e[l]||{bandWidth:v,remainedWidth:v,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},c=h.stacks;e[l]=h;var d=Ai(r);c[d]||h.autoWidthCount++,c[d]=c[d]||{width:0,maxWidth:0};var f=W(r.get("barWidth"),v),p=W(r.get("barMaxWidth"),v),g=r.get("barGap"),y=r.get("barCategoryGap");f&&!c[d].width&&(f=Math.min(h.remainedWidth,f),c[d].width=f,h.remainedWidth-=f),p&&(c[d].maxWidth=p),g!=null&&(h.gap=g),y!=null&&(h.categoryGap=y)});var t={};return T(e,function(r,i){t[i]={};var n=r.stacks,o=r.bandWidth,s=W(r.categoryGap,o),l=W(r.gap,1),u=r.remainedWidth,v=r.autoWidthCount,h=(u-s)/(v+(v-1)*l);h=Math.max(h,0),T(n,function(p,g){var y=p.maxWidth;y&&y<h&&(y=Math.min(y,u),p.width&&(y=Math.min(y,p.width)),u-=y,p.width=y,v--)}),h=(u-s)/(v+(v-1)*l),h=Math.max(h,0);var c=0,d;T(n,function(p,g){p.width||(p.width=h),d=p,c+=p.width*(1+l)}),d&&(c-=d.width*l);var f=-c/2;T(n,function(p,g){t[i][g]=t[i][g]||{offset:f,width:p.width},f+=p.width*(1+l)})}),t}var bl={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Ml={splitNumber:5},_l=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e}(ft);function Al(a){P(vr),jt.registerAxisPointerClass("PolarAxisPointer",Xs),a.registerCoordinateSystem("polar",ll),a.registerComponentModel(qs),a.registerComponentView(_l),Xe(a,"angle",js,bl),Xe(a,"radius",Js,Ml),a.registerComponentView(cl),a.registerComponentView(ml),a.registerLayout(xt(xl,"bar"))}function qe(a,e){e=e||{};var t=a.coordinateSystem,r=a.axis,i={},n=r.position,o=r.orient,s=t.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[o==="vertical"?u.vertical[n]:l[0],o==="horizontal"?u.horizontal[n]:l[3]];var v={horizontal:0,vertical:1};i.rotation=Math.PI/2*v[o];var h={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=h[n],a.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Tt(e.labelInside,a.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var c=e.rotate;return c==null&&(c=a.get(["axisLabel","rotate"])),i.labelRotation=n==="top"?-c:c,i.z2=1,i}var Tl=["axisLine","axisTickLabel","axisName"],wl=["splitArea","splitLine"],Il=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return e.prototype.render=function(t,r,i,n){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new rt;var l=qe(t),u=new Xt(t,l);T(Tl,u.add,u),o.add(this._axisGroup),o.add(u.getGroup()),T(wl,function(v){t.get([v,"show"])&&Cl[v](this,this.group,this._axisGroup,t)},this),si(s,this._axisGroup,t),a.prototype.render.call(this,t,r,i,n)},e.prototype.remove=function(){Un(this)},e.type="singleAxis",e}(jt),Cl={splitLine:function(a,e,t,r){var i=r.axis;if(!i.scale.isBlank()){var n=r.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color");s=s instanceof Array?s:[s];for(var l=o.get("width"),u=r.coordinateSystem.getRect(),v=i.isHorizontal(),h=[],c=0,d=i.getTicksCoords({tickModel:n}),f=[],p=[],g=0;g<d.length;++g){var y=i.toGlobalCoord(d[g].coord);v?(f[0]=y,f[1]=u.y,p[0]=y,p[1]=u.y+u.height):(f[0]=u.x,f[1]=y,p[0]=u.x+u.width,p[1]=y);var b=new gt({shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},silent:!0});Yn(b.shape,l);var m=c++%s.length;h[m]=h[m]||[],h[m].push(b)}for(var M=o.getLineStyle(["color"]),g=0;g<h.length;++g)e.add(st(h[g],{style:H({stroke:s[g%s.length]},M),silent:!0}))}},splitArea:function(a,e,t,r){Xn(a,t,r,r)}};const Ll=Il;var wi=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(ht);we(wi,ir.prototype);const Ve=wi;var Dl=function(a){L(e,a);function e(t,r,i,n,o){var s=a.call(this,t,r,i)||this;return s.type=n||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,r){return this.coordinateSystem.pointToData(t)[0]},e}(bt);const Pl=Dl;var Ii=["single"],Rl=function(){function a(e,t,r){this.type="single",this.dimension="single",this.dimensions=Ii,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,r)}return a.prototype._init=function(e,t,r){var i=this.dimension,n=new Pl(i,ar(e),[0,0],e.get("type"),e.get("position")),o=n.type==="category";n.onBand=o&&e.get("boundaryGap"),n.inverse=e.get("inverse"),n.orient=e.get("orient"),e.axis=n,n.model=e,n.coordinateSystem=this,this._axis=n},a.prototype.update=function(e,t){e.eachSeries(function(r){if(r.coordinateSystem===this){var i=r.getData();T(i.mapDimensionsAll(this.dimension),function(n){this._axis.scale.unionExtentFromData(i,n)},this),he(this._axis.scale,this._axis.model)}},this)},a.prototype.resize=function(e,t){this._rect=Ot({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},a.prototype.getRect=function(){return this._rect},a.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,r=t.isHorizontal(),i=r?[0,e.width]:[0,e.height],n=t.inverse?1:0;t.setExtent(i[n],i[1-n]),this._updateAxisTransform(t,r?e.x:e.y)},a.prototype._updateAxisTransform=function(e,t){var r=e.getExtent(),i=r[0]+r[1],n=e.isHorizontal();e.toGlobalCoord=n?function(o){return o+t}:function(o){return i-o+t},e.toLocalCoord=n?function(o){return o-t}:function(o){return i-o+t}},a.prototype.getAxis=function(){return this._axis},a.prototype.getBaseAxis=function(){return this._axis},a.prototype.getAxes=function(){return[this._axis]},a.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},a.prototype.containPoint=function(e){var t=this.getRect(),r=this.getAxis(),i=r.orient;return i==="horizontal"?r.contain(r.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:r.contain(r.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},a.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[t.orient==="horizontal"?0:1]))]},a.prototype.dataToPoint=function(e){var t=this.getAxis(),r=this.getRect(),i=[],n=t.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),i[n]=t.toGlobalCoord(t.dataToCoord(+e)),i[1-n]=n===0?r.y+r.height/2:r.x+r.width/2,i},a.prototype.convertToPixel=function(e,t,r){var i=Ur(t);return i===this?this.dataToPoint(r):null},a.prototype.convertFromPixel=function(e,t,r){var i=Ur(t);return i===this?this.pointToData(r):null},a}();function Ur(a){var e=a.seriesModel,t=a.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function Vl(a,e){var t=[];return a.eachComponent("singleAxis",function(r,i){var n=new Rl(r,a,e);n.name="single_"+i,n.resize(r,e),r.coordinateSystem=n,t.push(n)}),a.eachSeries(function(r){if(r.get("coordinateSystem")==="singleAxis"){var i=r.getReferringComponents("singleAxis",ur).models[0];r.coordinateSystem=i&&i.coordinateSystem}}),t}var El={create:Vl,dimensions:Ii};const kl=El;var Yr=["x","y"],zl=["width","height"],Ol=function(a){L(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,n,o){var s=i.axis,l=s.coordinateSystem,u=Ee(l,1-me(s)),v=l.dataToPoint(r)[0],h=n.get("type");if(h&&h!=="none"){var c=ri(n),d=Bl[h](s,v,u);d.style=c,t.graphicKey=d.type,t.pointer=d}var f=qe(i);Kn(r,t,f,i,n,o)},e.prototype.getHandleTransform=function(t,r,i){var n=qe(r,{labelInside:!1});n.labelMargin=i.get(["handle","margin"]);var o=qn(r.axis,t,n);return{x:o[0],y:o[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,i,n){var o=i.axis,s=o.coordinateSystem,l=me(o),u=Ee(s,l),v=[t.x,t.y];v[l]+=r[l],v[l]=Math.min(u[1],v[l]),v[l]=Math.max(u[0],v[l]);var h=Ee(s,1-l),c=(h[1]+h[0])/2,d=[c,c];return d[l]=v[l],{x:v[0],y:v[1],rotation:t.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},e}(ai),Bl={line:function(a,e,t){var r=ni([e,t[0]],[e,t[1]],me(a));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(a,e,t){var r=a.getBandWidth(),i=t[1]-t[0];return{type:"Rect",shape:jn([e-r/2,t[0]],[r,i],me(a))}}};function me(a){return a.isHorizontal()?0:1}function Ee(a,e){var t=a.getRect();return[t[Yr[e]],t[Yr[e]]+t[zl[e]]]}const Gl=Ol;var Nl=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="single",e}(ft);function Hl(a){P(vr),jt.registerAxisPointerClass("SingleAxisPointer",Gl),a.registerComponentView(Nl),a.registerComponentView(Ll),a.registerComponentModel(Ve),Xe(a,"single",Ve,Ve.defaultOption),a.registerCoordinateSystem("single",kl)}var $l=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r,i){var n=li(t);a.prototype.init.apply(this,arguments),Xr(t,n)},e.prototype.mergeOption=function(t){a.prototype.mergeOption.apply(this,arguments),Xr(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(ht);function Xr(a,e){var t=a.cellSize,r;V(t)?r=t:r=a.cellSize=[t,t],r.length===1&&(r[1]=r[0]);var i=O([0,1],function(n){return Jn(e,n)&&(r[n]="auto"),r[n]!=null&&r[n]!=="auto"});ui(a,e,{type:"box",ignoreSize:i})}const Wl=$l;var Fl=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var n=this.group;n.removeAll();var o=t.coordinateSystem,s=o.getRangeInfo(),l=o.getOrient(),u=r.getLocaleModel();this._renderDayRect(t,s,n),this._renderLines(t,s,l,n),this._renderYearText(t,s,l,n),this._renderMonthText(t,u,l,n),this._renderWeekText(t,u,s,l,n)},e.prototype._renderDayRect=function(t,r,i){for(var n=t.coordinateSystem,o=t.getModel("itemStyle").getItemStyle(),s=n.getCellWidth(),l=n.getCellHeight(),u=r.start.time;u<=r.end.time;u=n.getNextNDay(u,1).time){var v=n.dataToRect([u],!1).tl,h=new ct({shape:{x:v[0],y:v[1],width:s,height:l},cursor:"default",style:o});i.add(h)}},e.prototype._renderLines=function(t,r,i,n){var o=this,s=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),u=t.get(["splitLine","show"]),v=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=r.start,c=0;h.time<=r.end.time;c++){f(h.formatedDate),c===0&&(h=s.getDateInfo(r.start.y+"-"+r.start.m));var d=h.date;d.setMonth(d.getMonth()+1),h=s.getDateInfo(d)}f(s.getNextNDay(r.end.time,1).formatedDate);function f(p){o._firstDayOfMonth.push(s.getDateInfo(p)),o._firstDayPoints.push(s.dataToRect([p],!1).tl);var g=o._getLinePointsOfOneWeek(t,p,i);o._tlpoints.push(g[0]),o._blpoints.push(g[g.length-1]),u&&o._drawSplitline(g,l,n)}u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,v,i),l,n),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,v,i),l,n)},e.prototype._getEdgesPoints=function(t,r,i){var n=[t[0].slice(),t[t.length-1].slice()],o=i==="horizontal"?0:1;return n[0][o]=n[0][o]-r/2,n[1][o]=n[1][o]+r/2,n},e.prototype._drawSplitline=function(t,r,i){var n=new sr({z2:20,shape:{points:t},style:r});i.add(n)},e.prototype._getLinePointsOfOneWeek=function(t,r,i){for(var n=t.coordinateSystem,o=n.getDateInfo(r),s=[],l=0;l<7;l++){var u=n.getNextNDay(o.time,l),v=n.dataToRect([u.time],!1);s[2*u.day]=v.tl,s[2*u.day+1]=v[i==="horizontal"?"bl":"tr"]}return s},e.prototype._formatterLabel=function(t,r){return J(t)&&t?Qn(t,r):St(t)?t(r):r.nameMap},e.prototype._yearTextPositionControl=function(t,r,i,n,o){var s=r[0],l=r[1],u=["center","bottom"];n==="bottom"?(l+=o,u=["center","top"]):n==="left"?s-=o:n==="right"?(s+=o,u=["center","top"]):l-=o;var v=0;return(n==="left"||n==="right")&&(v=Math.PI/2),{rotation:v,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(t,r,i,n){var o=t.getModel("yearLabel");if(!!o.get("show")){var s=o.get("margin"),l=o.get("position");l||(l=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],v=(u[0][0]+u[1][0])/2,h=(u[0][1]+u[1][1])/2,c=i==="horizontal"?0:1,d={top:[v,u[c][1]],bottom:[v,u[1-c][1]],left:[u[1-c][0],h],right:[u[c][0],h]},f=r.start.y;+r.end.y>+r.start.y&&(f=f+"-"+r.end.y);var p=o.get("formatter"),g={start:r.start.y,end:r.end.y,nameMap:f},y=this._formatterLabel(p,g),b=new U({z2:30,style:j(o,{text:y})});b.attr(this._yearTextPositionControl(b,d[l],i,l,s)),n.add(b)}},e.prototype._monthTextPositionControl=function(t,r,i,n,o){var s="left",l="top",u=t[0],v=t[1];return i==="horizontal"?(v=v+o,r&&(s="center"),n==="start"&&(l="bottom")):(u=u+o,r&&(l="middle"),n==="start"&&(s="right")),{x:u,y:v,align:s,verticalAlign:l}},e.prototype._renderMonthText=function(t,r,i,n){var o=t.getModel("monthLabel");if(!!o.get("show")){var s=o.get("nameMap"),l=o.get("margin"),u=o.get("position"),v=o.get("align"),h=[this._tlpoints,this._blpoints];(!s||J(s))&&(s&&(r=Er(s)||r),s=r.get(["time","monthAbbr"])||[]);var c=u==="start"?0:1,d=i==="horizontal"?0:1;l=u==="start"?-l:l;for(var f=v==="center",p=0;p<h[c].length-1;p++){var g=h[c][p].slice(),y=this._firstDayOfMonth[p];if(f){var b=this._firstDayPoints[p];g[d]=(b[d]+h[0][p+1][d])/2}var m=o.get("formatter"),M=s[+y.m-1],x={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:M},S=this._formatterLabel(m,x),_=new U({z2:30,style:Y(j(o,{text:S}),this._monthTextPositionControl(g,f,i,u,l))});n.add(_)}}},e.prototype._weekTextPositionControl=function(t,r,i,n,o){var s="center",l="middle",u=t[0],v=t[1],h=i==="start";return r==="horizontal"?(u=u+n+(h?1:-1)*o[0]/2,s=h?"right":"left"):(v=v+n+(h?1:-1)*o[1]/2,l=h?"bottom":"top"),{x:u,y:v,align:s,verticalAlign:l}},e.prototype._renderWeekText=function(t,r,i,n,o){var s=t.getModel("dayLabel");if(!!s.get("show")){var l=t.coordinateSystem,u=s.get("position"),v=s.get("nameMap"),h=s.get("margin"),c=l.getFirstDayOfWeek();if(!v||J(v)){v&&(r=Er(v)||r);var d=r.get(["time","dayOfWeekShort"]);v=d||O(r.get(["time","dayOfWeekAbbr"]),function(x){return x[0]})}var f=l.getNextNDay(i.end.time,7-i.lweek).time,p=[l.getCellWidth(),l.getCellHeight()];h=W(h,Math.min(p[1],p[0])),u==="start"&&(f=l.getNextNDay(i.start.time,-(7+i.fweek)).time,h=-h);for(var g=0;g<7;g++){var y=l.getNextNDay(f,g),b=l.dataToRect([y.time],!1).center,m=g;m=Math.abs((g+c)%7);var M=new U({z2:30,style:Y(j(s,{text:v[m]}),this._weekTextPositionControl(b,n,u,h,p))});o.add(M)}}},e.type="calendar",e}(ft);const Zl=Fl;var ke=864e5,Ul=function(){function a(e,t,r){this.type="calendar",this.dimensions=a.dimensions,this.getDimensionsInfo=a.getDimensionsInfo,this._model=e}return a.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},a.prototype.getRangeInfo=function(){return this._rangeInfo},a.prototype.getModel=function(){return this._model},a.prototype.getRect=function(){return this._rect},a.prototype.getCellWidth=function(){return this._sw},a.prototype.getCellHeight=function(){return this._sh},a.prototype.getOrient=function(){return this._orient},a.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},a.prototype.getDateInfo=function(e){e=nr(e);var t=e.getFullYear(),r=e.getMonth()+1,i=r<10?"0"+r:""+r,n=e.getDate(),o=n<10?"0"+n:""+n,s=e.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:t+"",m:i,d:o,day:s,time:e.getTime(),formatedDate:t+"-"+i+"-"+o,date:e}},a.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},a.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],n=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[r,7]:[7,r];T([0,1],function(h){v(n,h)&&(o[i[h]]=n[h]*s[h])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=Ot(o,l);T([0,1],function(h){v(n,h)||(n[h]=u[i[h]]/s[h])});function v(h,c){return h[c]!=null&&h[c]!=="auto"}this._sw=n[0],this._sh=n[1]},a.prototype.dataToPoint=function(e,t){V(e)&&(e=e[0]),t==null&&(t=!0);var r=this.getDateInfo(e),i=this._rangeInfo,n=r.formatedDate;if(t&&!(r.time>=i.start.time&&r.time<i.end.time+ke))return[NaN,NaN];var o=r.day,s=this._getRangeInfo([i.start.time,n]).nthWeek;return this._orient==="vertical"?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},a.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},a.prototype.dataToRect=function(e,t){var r=this.dataToPoint(e,t);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},a.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,r=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,t-1,i):this._getDateByWeeksAndDay(t,r-1,i)},a.prototype.convertToPixel=function(e,t,r){var i=Kr(t);return i===this?i.dataToPoint(r):null},a.prototype.convertFromPixel=function(e,t,r){var i=Kr(t);return i===this?i.pointToData(r):null},a.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},a.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(V(e)&&e.length===1&&(e=e[0]),V(e))t=e;else{var r=e.toString();if(/^\d{4}$/.test(r)&&(t=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r),n=i.date;n.setMonth(n.getMonth()+1);var o=this.getNextNDay(n,-1);t=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(t=[r,r])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},a.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],r;t[0].time>t[1].time&&(r=!0,t.reverse());var i=Math.floor(t[1].time/ke)-Math.floor(t[0].time/ke)+1,n=new Date(t[0].time),o=n.getDate(),s=t[1].date.getDate();n.setDate(o+i-1);var l=n.getDate();if(l!==s)for(var u=n.getTime()-t[1].time>0?1:-1;(l=n.getDate())!==s&&(n.getTime()-t[1].time)*u>0;)i-=u,n.setDate(l-u);var v=Math.floor((i+t[0].day+6)/7),h=r?-v+1:v-1;return r&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:v,nthWeek:h,fweek:t[0].day,lweek:t[1].day}},a.prototype._getDateByWeeksAndDay=function(e,t,r){var i=this._getRangeInfo(r);if(e>i.weeks||e===0&&t<i.fweek||e===i.weeks&&t>i.lweek)return null;var n=(e-1)*7-i.fweek+t,o=new Date(i.start.time);return o.setDate(+i.start.d+n),this.getDateInfo(o)},a.create=function(e,t){var r=[];return e.eachComponent("calendar",function(i){var n=new a(i);r.push(n),i.coordinateSystem=n}),e.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=r[i.get("calendarIndex")||0])}),r},a.dimensions=["time","value"],a}();function Kr(a){var e=a.calendarModel,t=a.seriesModel,r=e?e.coordinateSystem:t?t.coordinateSystem:null;return r}const Yl=Ul;function Xl(a){a.registerComponentModel(Wl),a.registerComponentView(Zl),a.registerCoordinateSystem("calendar",Yl)}function Kl(a,e){var t=a.existing;if(e.id=a.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var r=e.parentOption;r?e.parentId=r.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function qr(a,e){var t;return T(e,function(r){a[r]!=null&&a[r]!=="auto"&&(t=!0)}),t}function ql(a,e,t){var r=Y({},t),i=a[e],n=t.$action||"merge";n==="merge"?i?(vt(i,r,!0),ui(i,r,{ignoreSize:!0}),eo(t,i),ne(t,i),ne(t,i,"shape"),ne(t,i,"style"),ne(t,i,"extra"),t.clipPath=i.clipPath):a[e]=r:n==="replace"?a[e]=r:n==="remove"&&i&&(a[e]=null)}var Ci=["transition","enterFrom","leaveTo"],jl=Ci.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function ne(a,e,t){if(t&&(!a[t]&&e[t]&&(a[t]={}),a=a[t],e=e[t]),!(!a||!e))for(var r=t?Ci:jl,i=0;i<r.length;i++){var n=r[i];a[n]==null&&e[n]!=null&&(a[n]=e[n])}}function Jl(a,e){if(!!a&&(a.hv=e.hv=[qr(e,["left","right"]),qr(e,["top","bottom"])],a.type==="group")){var t=a,r=e;t.width==null&&(t.width=r.width=0),t.height==null&&(t.height=r.height=0)}}var Ql=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,r){var i=this.option.elements;this.option.elements=null,a.prototype.mergeOption.call(this,t,r),this.option.elements=i},e.prototype.optionUpdated=function(t,r){var i=this.option,n=(r?i:t).elements,o=i.elements=r?[]:i.elements,s=[];this._flatten(n,s,null);var l=to(o,s,"normalMerge"),u=this._elOptionsToUpdate=[];T(l,function(v,h){var c=v.newOption;!c||(u.push(c),Kl(v,c),ql(o,h,c),Jl(o[h],c))},this),i.elements=ut(o,function(v){return v&&delete v.$action,v!=null})},e.prototype._flatten=function(t,r,i){T(t,function(n){if(!!n){i&&(n.parentOption=i),r.push(n);var o=n.children;o&&o.length&&this._flatten(o,r,n),delete n.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(ht),jr={path:null,compoundPath:null,group:rt,image:or,text:U},tt=it(),tu=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=dt()},e.prototype.render=function(t,r,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,i)},e.prototype._updateElements=function(t){var r=t.useElOptionsToUpdate();if(!!r){var i=this._elMap,n=this.group,o=t.get("z"),s=t.get("zlevel");T(r,function(l){var u=$t(l.id,null),v=u!=null?i.get(u):null,h=$t(l.parentId,null),c=h!=null?i.get(h):n,d=l.type,f=l.style;d==="text"&&f&&l.hv&&l.hv[1]&&(f.textVerticalAlign=f.textBaseline=f.verticalAlign=f.align=null);var p=l.textContent,g=l.textConfig;if(f&&Yo(f,d,!!g,!!p)){var y=Xo(f,d,!0);!g&&y.textConfig&&(g=l.textConfig=y.textConfig),!p&&y.textContent&&(p=y.textContent)}var b=eu(l),m=l.$action||"merge",M=m==="merge",x=m==="replace";if(M){var S=!v,_=v;S?_=Jr(u,c,l.type,i):(_&&(tt(_).isNew=!1),Ko(_)),_&&(De(_,b,t,{isInit:S}),Qr(_,l,o,s))}else if(x){le(v,l,i,t);var w=Jr(u,c,l.type,i);w&&(De(w,b,t,{isInit:!0}),Qr(w,l,o,s))}else m==="remove"&&(qo(v,l),le(v,l,i,t));var A=i.get(u);if(A&&p)if(M){var I=A.getTextContent();I?I.attr(p):A.setTextContent(new U(p))}else x&&A.setTextContent(new U(p));if(A){var C=l.clipPath;if(C){var k=C.type,D=void 0,S=!1;if(M){var z=A.getClipPath();S=!z||tt(z).type!==k,D=S?je(k):z}else x&&(S=!0,D=je(k));A.setClipPath(D),De(D,C,t,{isInit:S}),Hr(D,C.keyframeAnimation,t)}var B=tt(A);A.setTextConfig(g),B.option=l,ru(A,t,l),ro({el:A,componentModel:t,itemName:A.name,itemTooltipOption:l.tooltip}),Hr(A,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,r){for(var i=t.option.elements,n=this.group,o=this._elMap,s=r.getWidth(),l=r.getHeight(),u=["x","y"],v=0;v<i.length;v++){var h=i[v],c=$t(h.id,null),d=c!=null?o.get(c):null;if(!(!d||!d.isGroup)){var f=d.parent,p=f===n,g=tt(d),y=tt(f);g.width=W(g.option.width,p?s:y.width)||0,g.height=W(g.option.height,p?l:y.height)||0}}for(var v=i.length-1;v>=0;v--){var h=i[v],c=$t(h.id,null),d=c!=null?o.get(c):null;if(!!d){var f=d.parent,y=tt(f),b=f===n?{width:s,height:l}:{width:y.width,height:y.height},m={},M=vi(d,h,b,null,{hv:h.hv,boundingMode:h.bounding},m);if(!tt(d).isNew&&M){for(var x=h.transition,S={},_=0;_<u.length;_++){var w=u[_],A=m[w];x&&(jo(x)||zt(x,w)>=0)?S[w]=A:d[w]=A}Ut(d,S,t,0)}else d.attr(m)}}},e.prototype._clear=function(){var t=this,r=this._elMap;r.each(function(i){le(i,tt(i).option,r,t._lastGraphicModel)}),this._elMap=dt()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(ft);function je(a){var e=Kt(jr,a)?jr[a]:ja(a),t=new e({});return tt(t).type=a,t}function Jr(a,e,t,r){var i=je(t);return e.add(i),r.set(a,i),tt(i).id=a,tt(i).isNew=!0,i}function le(a,e,t,r){var i=a&&a.parent;i&&(a.type==="group"&&a.traverse(function(n){le(n,e,t,r)}),Jo(a,e,r),t.removeKey(tt(a).id))}function Qr(a,e,t,r){a.isGroup||T([["cursor",hi.prototype.cursor],["zlevel",r||0],["z",t||0],["z2",0]],function(i){var n=i[0];Kt(e,n)?a[n]=At(e[n],i[1]):a[n]==null&&(a[n]=i[1])}),T(lr(e),function(i){if(i.indexOf("on")===0){var n=e[i];a[i]=St(n)?n:null}}),Kt(e,"draggable")&&(a.draggable=e.draggable),e.name!=null&&(a.name=e.name),e.id!=null&&(a.id=e.id)}function eu(a){return a=Y({},a),T(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(ao),function(e){delete a[e]}),a}function ru(a,e,t){var r=et(a).eventData;!a.silent&&!a.ignore&&!r&&(r=et(a).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:a.name}),r&&(r.info=t.info)}function au(a){a.registerComponentModel(Ql),a.registerComponentView(tu),a.registerPreprocessor(function(e){var t=e.graphic;V(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var iu=["rect","polygon","keep","clear"];function nu(a,e){var t=mt(a?a.brush:[]);if(!!t.length){var r=[];T(t,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(r=r.concat(u))});var i=a&&a.toolbox;V(i)&&(i=i[0]),i||(i={feature:{}},a.toolbox=[i]);var n=i.feature||(i.feature={}),o=n.brush||(n.brush={}),s=o.type||(o.type=[]);s.push.apply(s,r),ou(s),e&&!s.length&&s.push.apply(s,iu)}}function ou(a){var e={};T(a,function(t){e[t]=1}),a.length=0,T(e,function(t,r){a.push(r)})}var ta=T;function ea(a){if(a){for(var e in a)if(a.hasOwnProperty(e))return!0}}function Je(a,e,t){var r={};return ta(e,function(n){var o=r[n]=i();ta(a[n],function(s,l){if(!!K.isValidType(l)){var u={type:l,visual:s};t&&t(u,n),o[l]=new K(u),l==="opacity"&&(u=Z(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new K(u))}})}),r;function i(){var n=function(){};n.prototype.__hidden=n.prototype;var o=new n;return o}}function Li(a,e,t){var r;T(t,function(i){e.hasOwnProperty(i)&&ea(e[i])&&(r=!0)}),r&&T(t,function(i){e.hasOwnProperty(i)&&ea(e[i])?a[i]=Z(e[i]):delete a[i]})}function su(a,e,t,r,i,n){var o={};T(a,function(h){var c=K.prepareVisualTypes(e[h]);o[h]=c});var s;function l(h){return ci(t,s,h)}function u(h,c){di(t,s,h,c)}n==null?t.each(v):t.each([n],v);function v(h,c){s=n==null?h:c;var d=t.getRawDataItem(s);if(!(d&&d.visualMap===!1))for(var f=r.call(i,h),p=e[f],g=o[f],y=0,b=g.length;y<b;y++){var m=g[y];p[m]&&p[m].applyVisual(h,l,u)}}}function lu(a,e,t,r){var i={};return T(a,function(n){var o=K.prepareVisualTypes(e[n]);i[n]=o}),{progress:function(o,s){var l;r!=null&&(l=s.getDimensionIndex(r));function u(x){return ci(s,h,x)}function v(x,S){di(s,h,x,S)}for(var h,c=s.getStore();(h=o.next())!=null;){var d=s.getRawDataItem(h);if(!(d&&d.visualMap===!1))for(var f=r!=null?c.get(l,h):h,p=t(f),g=e[p],y=i[p],b=0,m=y.length;b<m;b++){var M=y[b];g[M]&&g[M].applyVisual(f,u,v)}}}}}function uu(a){var e=a.brushType,t={point:function(r){return ra[e].point(r,t,a)},rect:function(r){return ra[e].rect(r,t,a)}};return t}var ra={lineX:aa(0),lineY:aa(1),rect:{point:function(a,e,t){return a&&t.boundingRect.contain(a[0],a[1])},rect:function(a,e,t){return a&&t.boundingRect.intersect(a)}},polygon:{point:function(a,e,t){return a&&t.boundingRect.contain(a[0],a[1])&&Bt(t.range,a[0],a[1])},rect:function(a,e,t){var r=t.range;if(!a||r.length<=1)return!1;var i=a.x,n=a.y,o=a.width,s=a.height,l=r[0];if(Bt(r,i,n)||Bt(r,i+o,n)||Bt(r,i,n+s)||Bt(r,i+o,n+s)||Ct.create(a).contain(l[0],l[1])||te(i,n,i+o,n,r)||te(i,n,i,n+s,r)||te(i+o,n,i+o,n+s,r)||te(i,n+s,i+o,n+s,r))return!0}}};function aa(a){var e=["x","y"],t=["width","height"];return{point:function(r,i,n){if(r){var o=n.range,s=r[a];return Gt(s,o)}},rect:function(r,i,n){if(r){var o=n.range,s=[r[e[a]],r[e[a]]+r[t[a]]];return s[1]<s[0]&&s.reverse(),Gt(s[0],o)||Gt(s[1],o)||Gt(o[0],s)||Gt(o[1],s)}}}}function Gt(a,e){return e[0]<=a&&a<=e[1]}var ia=["inBrush","outOfBrush"],ze="__ecBrushSelect",Qe="__ecInBrushSelectEvent";function Di(a){a.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new _s(e.option,a);t.setInputRanges(e.areas,a)})}function vu(a,e,t){var r=[],i,n;a.eachComponent({mainType:"brush"},function(o){t&&t.type==="takeGlobalCursor"&&o.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),Di(a),a.eachComponent({mainType:"brush"},function(o,s){var l={brushId:o.id,brushIndex:s,brushName:o.name,areas:Z(o.areas),selected:[]};r.push(l);var u=o.option,v=u.brushLink,h=[],c=[],d=[],f=!1;s||(i=u.throttleType,n=u.throttleDelay);var p=O(o.areas,function(x){var S=fu[x.brushType],_=H({boundingRect:S?S(x):void 0},x);return _.selectors=uu(_),_}),g=Je(o.option,ia,function(x){x.mappingMethod="fixed"});V(v)&&T(v,function(x){h[x]=1});function y(x){return v==="all"||!!h[x]}function b(x){return!!x.length}a.eachSeries(function(x,S){var _=d[S]=[];x.subType==="parallel"?m(x,S):M(x,S,_)});function m(x,S){var _=x.coordinateSystem;f=f||_.hasAxisBrushed(),y(S)&&_.eachActiveState(x.getData(),function(w,A){w==="active"&&(c[A]=1)})}function M(x,S,_){if(!(!x.brushSelector||du(o,S))&&(T(p,function(A){o.brushTargetManager.controlSeries(A,x,a)&&_.push(A),f=f||b(_)}),y(S)&&b(_))){var w=x.getData();w.each(function(A){na(x,_,w,A)&&(c[A]=1)})}}a.eachSeries(function(x,S){var _={seriesId:x.id,seriesIndex:S,seriesName:x.name,dataIndex:[]};l.selected.push(_);var w=d[S],A=x.getData(),I=y(S)?function(C){return c[C]?(_.dataIndex.push(A.getRawIndex(C)),"inBrush"):"outOfBrush"}:function(C){return na(x,w,A,C)?(_.dataIndex.push(A.getRawIndex(C)),"inBrush"):"outOfBrush"};(y(S)?f:b(w))&&su(ia,g,A,I)})}),hu(e,i,n,r,t)}function hu(a,e,t,r,i){if(!!i){var n=a.getZr();if(!n[Qe]){n[ze]||(n[ze]=cu);var o=hr(n,ze,t,e);o(a,r)}}}function cu(a,e){if(!a.isDisposed()){var t=a.getZr();t[Qe]=!0,a.dispatchAction({type:"brushSelect",batch:e}),t[Qe]=!1}}function na(a,e,t,r){for(var i=0,n=e.length;i<n;i++){var o=e[i];if(a.brushSelector(r,t,o.selectors,o))return!0}}function du(a,e){var t=a.option.seriesIndex;return t!=null&&t!=="all"&&(V(t)?zt(t,e)<0:e!==t)}var fu={rect:function(a){return oa(a.range)},polygon:function(a){for(var e,t=a.range,r=0,i=t.length;r<i;r++){e=e||[[1/0,-1/0],[1/0,-1/0]];var n=t[r];n[0]<e[0][0]&&(e[0][0]=n[0]),n[0]>e[0][1]&&(e[0][1]=n[0]),n[1]<e[1][0]&&(e[1][0]=n[1]),n[1]>e[1][1]&&(e[1][1]=n[1])}return e&&oa(e)}};function oa(a){return new Ct(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}var pu=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r,this.model,(this._brushController=new $o(r.getZr())).on("brush",R(this._onBrush,this)).mount()},e.prototype.render=function(t,r,i,n){this.model=t,this._updateController(t,r,i,n)},e.prototype.updateTransform=function(t,r,i,n){Di(r),this._updateController(t,r,i,n)},e.prototype.updateVisual=function(t,r,i,n){this.updateTransform(t,r,i,n)},e.prototype.updateView=function(t,r,i,n){this._updateController(t,r,i,n)},e.prototype._updateController=function(t,r,i,n){(!n||n.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var r=this.model.id,i=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:Z(i),$from:r}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:Z(i),$from:r})},e.type="brush",e}(ft);const gu=pu;var yu="#ddd",mu=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return e.prototype.optionUpdated=function(t,r){var i=this.option;!r&&Li(i,t,["inBrush","outOfBrush"]);var n=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:yu},n.hasOwnProperty("liftZ")||(n.liftZ=5)},e.prototype.setAreas=function(t){!t||(this.areas=O(t,function(r){return sa(this.option,r)},this))},e.prototype.setBrushOption=function(t){this.brushOption=sa(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(ht);function sa(a,e){return vt({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:new ve(a.brushStyle).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},e,!0)}const xu=mu;var Su=["rect","polygon","lineX","lineY","keep","clear"],bu=function(a){L(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.render=function(t,r,i){var n,o,s;r.eachComponent({mainType:"brush"},function(l){n=l.brushType,o=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=n,this._brushMode=o,T(t.get("type",!0),function(l){t.setIconStatus(l,(l==="keep"?o==="multiple":l==="clear"?s:l===n)?"emphasis":"normal")})},e.prototype.updateView=function(t,r,i){this.render(t,r,i)},e.prototype.getIcons=function(){var t=this.model,r=t.get("icon",!0),i={};return T(t.get("type",!0),function(n){r[n]&&(i[n]=r[n])}),i},e.prototype.onclick=function(t,r,i){var n=this._brushType,o=this._brushMode;i==="clear"?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?n:n===i?!1:i,brushMode:i==="keep"?o==="multiple"?"single":"multiple":o}})},e.getDefaultOption=function(t){var r={show:!0,type:Su.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return r},e}(As);const Mu=bu;function _u(a){a.registerComponentView(gu),a.registerComponentModel(xu),a.registerPreprocessor(nu),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,vu),a.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(r){r.setAreas(e.areas)})}),a.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},kr),a.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},kr),Ts("brush",Mu)}var Au=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),this._initData()},e.prototype.mergeOption=function(t){a.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var r=this._data.count();this.option.loop?t=(t%r+r)%r:(t>=r&&(t=r-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,r=t.data||[],i=t.axisType,n=this._names=[],o;i==="category"?(o=[],T(r,function(u,v){var h=$t(io(u),""),c;Lt(u)?(c=Z(u),c.value=v):c=v,o.push(c),n.push(h)})):o=r;var s={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new Et([{name:"value",type:s}],this);l.initData(o,n)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(ht);const la=Au;var Pi=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=Jt(la.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(la);we(Pi,no.prototype);const Tu=Pi;var wu=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e}(ft);const Iu=wu;var Cu=function(a){L(e,a);function e(t,r,i,n){var o=a.call(this,t,r,i)||this;return o.type=n||"value",o}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e}(bt);const Lu=Cu;var Oe=Math.PI,ua=it(),Du=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.api=r},e.prototype.render=function(t,r,i){if(this.model=t,this.api=i,this.ecModel=r,this.group.removeAll(),t.get("show",!0)){var n=this._layout(t,i),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(n,t);t.formatTooltip=function(u){var v=l.scale.getLabel({value:u});return oo("nameValue",{noName:!0,value:v})},T(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](n,o,l,t)},this),this._renderAxisLabel(n,s,l,t),this._position(n,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,r){var i=t.get(["label","position"]),n=t.get("orient"),o=Ru(t,r),s;i==null||i==="auto"?s=n==="horizontal"?o.y+o.height/2<r.getHeight()/2?"-":"+":o.x+o.width/2<r.getWidth()/2?"+":"-":J(i)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[n][i]:s=i;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},v={horizontal:0,vertical:Oe/2},h=n==="vertical"?o.height:o.width,c=t.getModel("controlStyle"),d=c.get("show",!0),f=d?c.get("itemSize"):0,p=d?c.get("itemGap"):0,g=f+p,y=t.get(["label","rotate"])||0;y=y*Oe/180;var b,m,M,x=c.get("position",!0),S=d&&c.get("showPlayBtn",!0),_=d&&c.get("showPrevBtn",!0),w=d&&c.get("showNextBtn",!0),A=0,I=h;x==="left"||x==="bottom"?(S&&(b=[0,0],A+=g),_&&(m=[A,0],A+=g),w&&(M=[I-f,0],I-=g)):(S&&(b=[I-f,0],I-=g),_&&(m=[0,0],A+=g),w&&(M=[I-f,0],I-=g));var C=[A,I];return t.get("inverse")&&C.reverse(),{viewRect:o,mainLength:h,orient:n,rotation:v[n],labelRotation:y,labelPosOpt:s,labelAlign:t.get(["label","align"])||l[n],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[n],playPosition:b,prevBtnPosition:m,nextBtnPosition:M,axisExtent:C,controlSize:f,controlGap:p}},e.prototype._position=function(t,r){var i=this._mainGroup,n=this._labelGroup,o=t.viewRect;if(t.orient==="vertical"){var s=oi(),l=o.x,u=o.y+o.height;Ye(s,s,[-l,-u]),ii(s,s,-Oe/2),Ye(s,s,[l,u]),o=o.clone(),o.applyTransform(s)}var v=b(o),h=b(i.getBoundingRect()),c=b(n.getBoundingRect()),d=[i.x,i.y],f=[n.x,n.y];f[0]=d[0]=v[0][0];var p=t.labelPosOpt;if(p==null||J(p)){var g=p==="+"?0:1;m(d,h,v,1,g),m(f,c,v,1,1-g)}else{var g=p>=0?0:1;m(d,h,v,1,g),f[1]=d[1]+p}i.setPosition(d),n.setPosition(f),i.rotation=n.rotation=t.rotation,y(i),y(n);function y(M){M.originX=v[0][0]-M.x,M.originY=v[1][0]-M.y}function b(M){return[[M.x,M.x+M.width],[M.y,M.y+M.height]]}function m(M,x,S,_,w){M[_]+=S[_][w]-x[_][w]}},e.prototype._createAxis=function(t,r){var i=r.getData(),n=r.get("axisType"),o=Pu(r,n);o.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var s=i.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var l=new Lu("value",o,t.axisExtent,n);return l.model=r,l},e.prototype._createGroup=function(t){var r=this[t]=new rt;return this.group.add(r),r},e.prototype._renderAxisLine=function(t,r,i,n){var o=i.getExtent();if(!!n.get(["lineStyle","show"])){var s=new gt({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:Y({lineCap:"round"},n.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(s);var l=this._progressLine=new gt({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:H({lineCap:"round",lineWidth:s.style.lineWidth},n.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(l)}},e.prototype._renderAxisTick=function(t,r,i,n){var o=this,s=n.getData(),l=i.scale.getTicks();this._tickSymbols=[],T(l,function(u){var v=i.dataToCoord(u.value),h=s.getItemModel(u.value),c=h.getModel("itemStyle"),d=h.getModel(["emphasis","itemStyle"]),f=h.getModel(["progress","itemStyle"]),p={x:v,y:0,onclick:R(o._changeTimeline,o,u.value)},g=va(h,c,r,p);g.ensureState("emphasis").style=d.getItemStyle(),g.ensureState("progress").style=f.getItemStyle(),Wt(g);var y=et(g);h.get("tooltip")?(y.dataIndex=u.value,y.dataModel=n):y.dataIndex=y.dataModel=null,o._tickSymbols.push(g)})},e.prototype._renderAxisLabel=function(t,r,i,n){var o=this,s=i.getLabelModel();if(!!s.get("show")){var l=n.getData(),u=i.getViewLabels();this._tickLabels=[],T(u,function(v){var h=v.tickValue,c=l.getItemModel(h),d=c.getModel("label"),f=c.getModel(["emphasis","label"]),p=c.getModel(["progress","label"]),g=i.dataToCoord(v.tickValue),y=new U({x:g,y:0,rotation:t.labelRotation-t.rotation,onclick:R(o._changeTimeline,o,h),silent:!1,style:j(d,{text:v.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});y.ensureState("emphasis").style=j(f),y.ensureState("progress").style=j(p),r.add(y),Wt(y),ua(y).dataIndex=h,o._tickLabels.push(y)})}},e.prototype._renderControl=function(t,r,i,n){var o=t.controlSize,s=t.rotation,l=n.getModel("controlStyle").getItemStyle(),u=n.getModel(["emphasis","controlStyle"]).getItemStyle(),v=n.getPlayState(),h=n.get("inverse",!0);c(t.nextBtnPosition,"next",R(this._changeTimeline,this,h?"-":"+")),c(t.prevBtnPosition,"prev",R(this._changeTimeline,this,h?"+":"-")),c(t.playPosition,v?"stop":"play",R(this._handlePlayClick,this,!v),!0);function c(d,f,p,g){if(!!d){var y=Ke(At(n.get(["controlStyle",f+"BtnSize"]),o),o),b=[0,-y/2,y,y],m=Vu(n,f+"Icon",b,{x:d[0],y:d[1],originX:o/2,originY:0,rotation:g?-s:0,rectHover:!0,style:l,onclick:p});m.ensureState("emphasis").style=u,r.add(m),Wt(m)}}},e.prototype._renderCurrentPointer=function(t,r,i,n){var o=n.getData(),s=n.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),u=this,v={onCreate:function(h){h.draggable=!0,h.drift=R(u._handlePointerDrag,u),h.ondragend=R(u._handlePointerDragend,u),ha(h,u._progressLine,s,i,n,!0)},onUpdate:function(h){ha(h,u._progressLine,s,i,n)}};this._currentPointer=va(l,l,this._mainGroup,{},this._currentPointer,v)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,r,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,r){var i=this._toAxisCoord(t)[0],n=this._axis,o=lt(n.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=i,s.dirty());var l=this._findNearestTick(i),u=this.model;(r||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=t.model;t._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var r=this._mainGroup.getLocalTransform();return wt(t,r,!0)},e.prototype._findNearestTick=function(t){var r=this.model.getData(),i=1/0,n,o=this._axis;return r.each(["value"],function(s,l){var u=o.dataToCoord(s),v=Math.abs(u-t);v<i&&(i=v,n=l)}),n},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var r=this.model.getCurrentIndex();t==="+"?t=r+1:t==="-"&&(t=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),r=this._tickSymbols,i=this._tickLabels;if(r)for(var n=0;n<r.length;n++)r&&r[n]&&r[n].toggleState("progress",n<t);if(i)for(var n=0;n<i.length;n++)i&&i[n]&&i[n].toggleState("progress",ua(i[n]).dataIndex<=t)},e.type="timeline.slider",e}(Iu);function Pu(a,e){if(e=e||a.get("type"),e)switch(e){case"category":return new uo({ordinalMeta:a.getCategories(),extent:[1/0,-1/0]});case"time":return new lo({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new so}}function Ru(a,e){return Ot(a.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},a.get("padding"))}function Vu(a,e,t,r){var i=r.style,n=qa(a.get(["controlStyle",e]),r||{},new Ct(t[0],t[1],t[2],t[3]));return i&&n.setStyle(i),n}function va(a,e,t,r,i,n){var o=e.get("color");if(i)i.setColor(o),t.add(i),n&&n.onUpdate(i);else{var s=a.get("symbol");i=It(s,-1,-1,2,2,o),i.setStyle("strokeNoScale",!0),t.add(i),n&&n.onCreate(i)}var l=e.getItemStyle(["color"]);i.setStyle(l),r=vt({rectHover:!0,z2:100},r,!0);var u=vo(a.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var v=ho(a.get("symbolOffset"),u);v&&(r.x=(r.x||0)+v[0],r.y=(r.y||0)+v[1]);var h=a.get("symbolRotate");return r.rotation=(h||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function ha(a,e,t,r,i,n){if(!a.dragging){var o=i.getModel("checkpointStyle"),s=r.dataToCoord(i.getData().get("value",t));if(n||!o.get("animation",!0))a.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};a.stopAnimation(null,!0),a.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}const Eu=Du;function ku(a){a.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,r){var i=t.getComponent("timeline");return i&&e.currentIndex!=null&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),H({currentIndex:i.option.currentIndex},e)}),a.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var r=t.getComponent("timeline");r&&e.playState!=null&&r.setPlayState(e.playState)})}function zu(a){var e=a&&a.timeline;V(e)||(e=e?[e]:[]),T(e,function(t){!t||Ou(t)})}function Ou(a){var e=a.type,t={number:"value",time:"time"};if(t[e]&&(a.axisType=t[e],delete a.type),ca(a),_t(a,"controlPosition")){var r=a.controlStyle||(a.controlStyle={});_t(r,"position")||(r.position=a.controlPosition),r.position==="none"&&!_t(r,"show")&&(r.show=!1,delete r.position),delete a.controlPosition}T(a.data||[],function(i){Lt(i)&&!V(i)&&(!_t(i,"value")&&_t(i,"name")&&(i.value=i.name),ca(i))})}function ca(a){var e=a.itemStyle||(a.itemStyle={}),t=e.emphasis||(e.emphasis={}),r=a.label||a.label||{},i=r.normal||(r.normal={}),n={normal:1,emphasis:1};T(r,function(o,s){!n[s]&&!_t(i,s)&&(i[s]=o)}),t.label&&!_t(r,"emphasis")&&(r.emphasis=t.label,delete t.label)}function _t(a,e){return a.hasOwnProperty(e)}function Bu(a){a.registerComponentModel(Tu),a.registerComponentView(Eu),a.registerSubTypeDefaulter("timeline",function(){return"slider"}),ku(a),a.registerPreprocessor(zu)}var Gu=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(Ce);const Nu=Gu;var oe=it(),Hu=function(a,e,t,r){var i=a.getData(),n;if(V(r))n=r;else{var o=r.type;if(o==="min"||o==="max"||o==="average"||o==="median"||r.xAxis!=null||r.yAxis!=null){var s=void 0,l=void 0;if(r.yAxis!=null||r.xAxis!=null)s=e.getAxis(r.yAxis!=null?"y":"x"),l=Tt(r.yAxis,r.xAxis);else{var u=ws(r,i,e,a);s=u.valueAxis;var v=Ka(i,u.valueDataDim);l=Is(i,v,o)}var h=s.dim==="x"?0:1,c=1-h,d=Z(r),f={coord:[]};d.type=null,d.coord=[],d.coord[c]=-1/0,f.coord[c]=1/0;var p=t.get("precision");p>=0&&fi(l)&&(l=+l.toFixed(Math.min(p,20))),d.coord[h]=f.coord[h]=l,n=[d,f,{type:o,valueIndex:r.valueIndex,value:l}]}else n=[]}var g=[pe(a,n[0]),pe(a,n[1]),Y({},n[2])];return g[2].type=g[2].type||null,vt(g[2],g[0]),vt(g[2],g[1]),g};function xe(a){return!isNaN(a)&&!isFinite(a)}function da(a,e,t,r){var i=1-a,n=r.dimensions[a];return xe(e[i])&&xe(t[i])&&e[a]===t[a]&&r.getAxis(n).containData(e[a])}function $u(a,e){if(a.type==="cartesian2d"){var t=e[0].coord,r=e[1].coord;if(t&&r&&(da(1,t,r,a)||da(0,t,r,a)))return!0}return ge(a,e[0])&&ge(a,e[1])}function Be(a,e,t,r,i){var n=r.coordinateSystem,o=a.getItemModel(e),s,l=W(o.get("x"),i.getWidth()),u=W(o.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition)s=r.getMarkerPosition(a.getValues(a.dimensions,e));else{var v=n.dimensions,h=a.get(v[0],e),c=a.get(v[1],e);s=n.dataToPoint([h,c])}if(pr(n,"cartesian2d")){var d=n.getAxis("x"),f=n.getAxis("y"),v=n.dimensions;xe(a.get(v[0],e))?s[0]=d.toGlobalCoord(d.getExtent()[t?0:1]):xe(a.get(v[1],e))&&(s[1]=f.toGlobalCoord(f.getExtent()[t?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}a.setItemLayout(e,s)}var Wu=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,i){r.eachSeries(function(n){var o=Ce.getMarkerModelFromSeries(n,"markLine");if(o){var s=o.getData(),l=oe(o).from,u=oe(o).to;l.each(function(v){Be(l,v,!0,n,i),Be(u,v,!1,n,i)}),s.each(function(v){s.setItemLayout(v,[l.getItemLayout(v),u.getItemLayout(v)])}),this.markerGroupMap.get(n.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,r,i,n){var o=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,v=u.get(s)||u.set(s,new Qo);this.group.add(v.group);var h=Fu(o,t,r),c=h.from,d=h.to,f=h.line;oe(r).from=c,oe(r).to=d,r.setData(f);var p=r.get("symbol"),g=r.get("symbolSize"),y=r.get("symbolRotate"),b=r.get("symbolOffset");V(p)||(p=[p,p]),V(g)||(g=[g,g]),V(y)||(y=[y,y]),V(b)||(b=[b,b]),h.from.each(function(M){m(c,M,!0),m(d,M,!1)}),f.each(function(M){var x=f.getItemModel(M).getModel("lineStyle").getLineStyle();f.setItemLayout(M,[c.getItemLayout(M),d.getItemLayout(M)]),x.stroke==null&&(x.stroke=c.getItemVisual(M,"style").fill),f.setItemVisual(M,{fromSymbolKeepAspect:c.getItemVisual(M,"symbolKeepAspect"),fromSymbolOffset:c.getItemVisual(M,"symbolOffset"),fromSymbolRotate:c.getItemVisual(M,"symbolRotate"),fromSymbolSize:c.getItemVisual(M,"symbolSize"),fromSymbol:c.getItemVisual(M,"symbol"),toSymbolKeepAspect:d.getItemVisual(M,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(M,"symbolOffset"),toSymbolRotate:d.getItemVisual(M,"symbolRotate"),toSymbolSize:d.getItemVisual(M,"symbolSize"),toSymbol:d.getItemVisual(M,"symbol"),style:x})}),v.updateData(f),h.line.eachItemGraphicEl(function(M){et(M).dataModel=r,M.traverse(function(x){et(x).dataModel=r})});function m(M,x,S){var _=M.getItemModel(x);Be(M,x,S,t,n);var w=_.getModel("itemStyle").getItemStyle();w.fill==null&&(w.fill=cr(l,"color")),M.setItemVisual(x,{symbolKeepAspect:_.get("symbolKeepAspect"),symbolOffset:At(_.get("symbolOffset",!0),b[S?0:1]),symbolRotate:At(_.get("symbolRotate",!0),y[S?0:1]),symbolSize:At(_.get("symbolSize"),g[S?0:1]),symbol:At(_.get("symbol",!0),p[S?0:1]),style:w})}this.markKeep(v),v.group.silent=r.get("silent")||t.get("silent")},e.type="markLine",e}(mi);function Fu(a,e,t){var r;a?r=O(a&&a.dimensions,function(u){var v=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return Y(Y({},v),{name:u,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var i=new Et(r,t),n=new Et(r,t),o=new Et([],t),s=O(t.get("data"),xt(Hu,e,a,t));a&&(s=ut(s,xt($u,a)));var l=Cs(!!a,r);return i.initData(O(s,function(u){return u[0]}),null,l),n.initData(O(s,function(u){return u[1]}),null,l),o.initData(O(s,function(u){return u[2]})),o.hasItemOption=!0,{from:i,to:n,line:o}}const Zu=Wu;function Uu(a){a.registerComponentModel(Nu),a.registerComponentView(Zu),a.registerPreprocessor(function(e){xi(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var Yu=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(Ce);const Xu=Yu;var se=it(),Ku=function(a,e,t,r){var i=r[0],n=r[1];if(!(!i||!n)){var o=pe(a,i),s=pe(a,n),l=o.coord,u=s.coord;l[0]=Tt(l[0],-1/0),l[1]=Tt(l[1],-1/0),u[0]=Tt(u[0],1/0),u[1]=Tt(u[1],1/0);var v=yo([{},o,s]);return v.coord=[o.coord,s.coord],v.x0=o.x,v.y0=o.y,v.x1=s.x,v.y1=s.y,v}};function Se(a){return!isNaN(a)&&!isFinite(a)}function fa(a,e,t,r){var i=1-a;return Se(e[i])&&Se(t[i])}function qu(a,e){var t=e.coord[0],r=e.coord[1],i={coord:t,x:e.x0,y:e.y0},n={coord:r,x:e.x1,y:e.y1};return pr(a,"cartesian2d")?t&&r&&(fa(1,t,r)||fa(0,t,r))?!0:Ls(a,i,n):ge(a,i)||ge(a,n)}function pa(a,e,t,r,i){var n=r.coordinateSystem,o=a.getItemModel(e),s,l=W(o.get(t[0]),i.getWidth()),u=W(o.get(t[1]),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition){var v=a.getValues(["x0","y0"],e),h=a.getValues(["x1","y1"],e),c=n.clampData(v),d=n.clampData(h),f=[];t[0]==="x0"?f[0]=c[0]>d[0]?h[0]:v[0]:f[0]=c[0]>d[0]?v[0]:h[0],t[1]==="y0"?f[1]=c[1]>d[1]?h[1]:v[1]:f[1]=c[1]>d[1]?v[1]:h[1],s=r.getMarkerPosition(f,t,!0)}else{var p=a.get(t[0],e),g=a.get(t[1],e),y=[p,g];n.clampData&&n.clampData(y,y),s=n.dataToPoint(y,!0)}if(pr(n,"cartesian2d")){var b=n.getAxis("x"),m=n.getAxis("y"),p=a.get(t[0],e),g=a.get(t[1],e);Se(p)?s[0]=b.toGlobalCoord(b.getExtent()[t[0]==="x0"?0:1]):Se(g)&&(s[1]=m.toGlobalCoord(m.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var ga=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],ju=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,i){r.eachSeries(function(n){var o=Ce.getMarkerModelFromSeries(n,"markArea");if(o){var s=o.getData();s.each(function(l){var u=O(ga,function(h){return pa(s,l,h,n,i)});s.setItemLayout(l,u);var v=s.getItemGraphicEl(l);v.setShape("points",u)})}},this)},e.prototype.renderSeries=function(t,r,i,n){var o=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,v=u.get(s)||u.set(s,{group:new rt});this.group.add(v.group),this.markKeep(v);var h=Ju(o,t,r);r.setData(h),h.each(function(c){var d=O(ga,function(w){return pa(h,c,w,t,n)}),f=o.getAxis("x").scale,p=o.getAxis("y").scale,g=f.getExtent(),y=p.getExtent(),b=[f.parse(h.get("x0",c)),f.parse(h.get("x1",c))],m=[p.parse(h.get("y0",c)),p.parse(h.get("y1",c))];lt(b),lt(m);var M=!(g[0]>b[1]||g[1]<b[0]||y[0]>m[1]||y[1]<m[0]),x=!M;h.setItemLayout(c,{points:d,allClipped:x});var S=h.getItemModel(c).getModel("itemStyle").getItemStyle(),_=cr(l,"color");S.fill||(S.fill=_,J(S.fill)&&(S.fill=zr(S.fill,.4))),S.stroke||(S.stroke=_),h.setItemVisual(c,"style",S)}),h.diff(se(v).data).add(function(c){var d=h.getItemLayout(c);if(!d.allClipped){var f=new kt({shape:{points:d.points}});h.setItemGraphicEl(c,f),v.group.add(f)}}).update(function(c,d){var f=se(v).data.getItemGraphicEl(d),p=h.getItemLayout(c);p.allClipped?f&&v.group.remove(f):(f?Ut(f,{shape:{points:p.points}},r,c):f=new kt({shape:{points:p.points}}),h.setItemGraphicEl(c,f),v.group.add(f))}).remove(function(c){var d=se(v).data.getItemGraphicEl(c);v.group.remove(d)}).execute(),h.eachItemGraphicEl(function(c,d){var f=h.getItemModel(d),p=h.getItemVisual(d,"style");c.useStyle(h.getItemVisual(d,"style")),co(c,fo(f),{labelFetcher:r,labelDataIndex:d,defaultText:h.getName(d)||"",inheritColor:J(p.fill)?zr(p.fill,1):"#000"}),po(c,f),go(c,null,null,f.get(["emphasis","disabled"])),et(c).dataModel=r}),se(v).data=h,v.group.silent=r.get("silent")||t.get("silent")},e.type="markArea",e}(mi);function Ju(a,e,t){var r,i,n=["x0","y0","x1","y1"];if(a){var o=O(a&&a.dimensions,function(u){var v=e.getData(),h=v.getDimensionInfo(v.mapDimension(u))||{};return Y(Y({},h),{name:u,ordinalMeta:null})});i=O(n,function(u,v){return{name:u,type:o[v%2].type}}),r=new Et(i,t)}else i=[{name:"value",type:"float"}],r=new Et(i,t);var s=O(t.get("data"),xt(Ku,e,a,t));a&&(s=ut(s,xt(qu,a)));var l=a?function(u,v,h,c){var d=u.coord[Math.floor(c/2)][c%2];return Or(d,i[c])}:function(u,v,h,c){return Or(u.value,i[c])};return r.initData(s,null,l),r.hasItemOption=!0,r}const Qu=ju;function tv(a){a.registerComponentModel(Xu),a.registerComponentView(Qu),a.registerPreprocessor(function(e){xi(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var ev=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=Jt(ye.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(ye);const rv=ev;var xr=it();function av(a,e,t){xr(a).coordSysRecordMap.each(function(r){var i=r.dataZoomInfoMap.get(e.uid);i&&(i.getRange=t)})}function iv(a,e){for(var t=xr(a).coordSysRecordMap,r=t.keys(),i=0;i<r.length;i++){var n=r[i],o=t.get(n),s=o.dataZoomInfoMap;if(s){var l=e.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||Ri(t,o))}}}function Ri(a,e){if(e){a.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function nv(a,e){var t={model:e,containsPoint:xt(sv,e),dispatchAction:xt(ov,a),dataZoomInfoMap:null,controller:null},r=t.controller=new ts(a.getZr());return T(["pan","zoom","scrollMove"],function(i){r.on(i,function(n){var o=[];t.dataZoomInfoMap.each(function(s){if(!!n.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[i],u=l&&l(s.dzReferCoordSysInfo,t.model.mainType,t.controller,n);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&t.dispatchAction(o)})}),t}function ov(a,e){a.isDisposed()||a.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function sv(a,e,t,r){return a.coordinateSystem.containPoint([t,r])}function lv(a){var e,t="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return a.each(function(n){var o=n.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;r[t+s]>r[t+e]&&(e=s),i=i&&o.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function uv(a){a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,function(e,t){var r=xr(t),i=r.coordSysRecordMap||(r.coordSysRecordMap=dt());i.each(function(n){n.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(n){var o=Si(n);T(o.infoList,function(s){var l=s.model.uid,u=i.get(l)||i.set(l,nv(t,s.model)),v=u.dataZoomInfoMap||(u.dataZoomInfoMap=dt());v.set(n.uid,{dzReferCoordSysInfo:s,model:n,getRange:null})})}),i.each(function(n){var o=n.controller,s,l=n.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){Ri(i,n);return}var v=lv(l);o.enable(v.controlType,v.opt),o.setPointerChecker(n.containsPoint),hr(n,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var vv=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,r,i){if(a.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),av(i,t,{pan:R(Ge.pan,this),zoom:R(Ge.zoom,this),scrollMove:R(Ge.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){iv(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(bi),Ge={zoom:function(a,e,t,r){var i=this.range,n=i.slice(),o=a.axisModels[0];if(!!o){var s=Ne[e](null,[r.originX,r.originY],o,t,a),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(n[1]-n[0])+n[0],u=Math.max(1/r.scale,0);n[0]=(n[0]-l)*u+l,n[1]=(n[1]-l)*u+l;var v=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Ie(0,n,[0,100],0,v.minSpan,v.maxSpan),this.range=n,i[0]!==n[0]||i[1]!==n[1])return n}},pan:ya(function(a,e,t,r,i,n){var o=Ne[r]([n.oldX,n.oldY],[n.newX,n.newY],e,i,t);return o.signal*(a[1]-a[0])*o.pixel/o.pixelLength}),scrollMove:ya(function(a,e,t,r,i,n){var o=Ne[r]([0,0],[n.scrollDelta,n.scrollDelta],e,i,t);return o.signal*(a[1]-a[0])*n.scrollDelta})};function ya(a){return function(e,t,r,i){var n=this.range,o=n.slice(),s=e.axisModels[0];if(!!s){var l=a(o,s,e,t,r,i);if(Ie(l,o,[0,100],"all"),this.range=o,n[0]!==o[0]||n[1]!==o[1])return o}}}var Ne={grid:function(a,e,t,r,i){var n=t.axis,o={},s=i.model.coordinateSystem.getRect();return a=a||[0,0],n.dim==="x"?(o.pixel=e[0]-a[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=n.inverse?1:-1):(o.pixel=e[1]-a[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=n.inverse?-1:1),o},polar:function(a,e,t,r,i){var n=t.axis,o={},s=i.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return a=a?s.pointToCoord(a):[0,0],e=s.pointToCoord(e),t.mainType==="radiusAxis"?(o.pixel=e[0]-a[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=n.inverse?1:-1):(o.pixel=e[1]-a[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=n.inverse?-1:1),o},singleAxis:function(a,e,t,r,i){var n=t.axis,o=i.model.coordinateSystem.getRect(),s={};return a=a||[0,0],n.orient==="horizontal"?(s.pixel=e[0]-a[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=n.inverse?1:-1):(s.pixel=e[1]-a[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=n.inverse?-1:1),s}};const hv=vv;function Vi(a){Mi(a),a.registerComponentModel(rv),a.registerComponentView(hv),uv(a)}var cv=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Jt(ye.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(ye);const dv=cv;var Nt=ct,ma=7,fv=1,He=30,pv=7,Ht="horizontal",xa="vertical",gv=5,yv=["line","bar","candlestick","scatter"],mv={easing:"cubicOut",duration:100,delay:0},xv=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,r){this.api=r,this._onBrush=R(this._onBrush,this),this._onBrushEnd=R(this._onBrushEnd,this)},e.prototype.render=function(t,r,i,n){if(a.prototype.render.apply(this,arguments),hr(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!n||n.type!=="dataZoom"||n.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){mo(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new rt;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(r),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,r=this.api,i=t.get("brushSelect"),n=i?pv:0,o=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===Ht?{right:s.width-o.x-o.width,top:s.height-He-ma-n,width:o.width,height:He}:{right:ma,top:o.y,width:He,height:o.height},u=li(t.option);T(["right","top","width","height"],function(h){u[h]==="ph"&&(u[h]=l[h])});var v=Ot(u,s);this._location={x:v.x,y:v.y},this._size=[v.width,v.height],this._orient===xa&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,r=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(i===Ht&&!o?{scaleY:l?1:-1,scaleX:1}:i===Ht&&o?{scaleY:l?1:-1,scaleX:-1}:i===xa&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([s]);t.x=r.x-u.x,t.y=r.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,r=this._size,i=this._displayables.sliderGroup,n=t.get("brushSelect");i.add(new Nt({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var o=new Nt({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:R(this._onClickPanel,this)}),s=this.api.getZr();n?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),i.add(o)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var r=this._size,i=this._shadowSize||[],n=t.series,o=n.getRawData(),s=n.getShadowDim&&n.getShadowDim(),l=s&&o.getDimensionInfo(s)?n.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,v=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||r[0]!==i[0]||r[1]!==i[1]){var h=o.getDataExtent(l),c=(h[1]-h[0])*.3;h=[h[0]-c,h[1]+c];var d=[0,r[1]],f=[0,r[0]],p=[[r[0],0],[0,0]],g=[],y=f[1]/(o.count()-1),b=0,m=Math.round(o.count()/r[0]),M;o.each([l],function(A,I){if(m>0&&I%m){b+=y;return}var C=A==null||isNaN(A)||A==="",k=C?0:Q(A,h,d,!0);C&&!M&&I?(p.push([p[p.length-1][0],0]),g.push([g[g.length-1][0],0])):!C&&M&&(p.push([b,0]),g.push([b,0])),p.push([b,k]),g.push([b,k]),b+=y,M=C}),u=this._shadowPolygonPts=p,v=this._shadowPolylinePts=g}this._shadowData=o,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var x=this.dataZoomModel;function S(A){var I=x.getModel(A?"selectedDataBackground":"dataBackground"),C=new rt,k=new kt({shape:{points:u},segmentIgnoreThreshold:1,style:I.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),D=new sr({shape:{points:v},segmentIgnoreThreshold:1,style:I.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return C.add(k),C.add(D),C}for(var _=0;_<3;_++){var w=S(_===1);this._displayables.sliderGroup.add(w),this._displayables.dataShadowSegs.push(w)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,r=t.get("showDataShadow");if(r!==!1){var i,n=this.ecModel;return t.eachTargetAxis(function(o,s){var l=t.getAxisProxy(o,s).getTargetSeriesModels();T(l,function(u){if(!i&&!(r!==!0&&zt(yv,u.get("type"))<0)){var v=n.getComponent(Ds(o),s).axis,h=Sv(o),c,d=u.coordinateSystem;h!=null&&d.getOtherAxis&&(c=d.getOtherAxis(v).inverse),h=u.getData().mapDimension(h),i={thisAxis:v,series:u,thisDim:o,otherDim:h,otherAxisInverse:c}}},this)},this),i}},e.prototype._renderHandle=function(){var t=this.group,r=this._displayables,i=r.handles=[null,null],n=r.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,v=l.get("borderRadius")||0,h=l.get("brushSelect"),c=r.filler=new Nt({silent:h,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(c),o.add(new Nt({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:v},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:fv,fill:"rgba(0,0,0,0)"}})),T([0,1],function(m){var M=l.get("handleIcon");!xo[M]&&M.indexOf("path://")<0&&M.indexOf("image://")<0&&(M="path://"+M);var x=It(M,-1,0,2,2,null,!0);x.attr({cursor:Sa(this._orient),draggable:!0,drift:R(this._onDragMove,this,m),ondragend:R(this._onDragEnd,this),onmouseover:R(this._showDataInfo,this,!0),onmouseout:R(this._showDataInfo,this,!1),z2:5});var S=x.getBoundingRect(),_=l.get("handleSize");this._handleHeight=W(_,this._size[1]),this._handleWidth=S.width/S.height*this._handleHeight,x.setStyle(l.getModel("handleStyle").getItemStyle()),x.style.strokeNoScale=!0,x.rectHover=!0,x.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Wt(x);var w=l.get("handleColor");w!=null&&(x.style.fill=w),o.add(i[m]=x);var A=l.getModel("textStyle");t.add(n[m]=new U({silent:!0,invisible:!0,style:j(A,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:A.getTextColor(),font:A.getFont()}),z2:10}))},this);var d=c;if(h){var f=W(l.get("moveHandleSize"),s[1]),p=r.moveHandle=new ct({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:f}}),g=f*.8,y=r.moveHandleIcon=It(l.get("moveHandleIcon"),-g/2,-g/2,g,g,"#fff",!0);y.silent=!0,y.y=s[1]+f/2-.5,p.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var b=Math.min(s[1]/2,Math.max(f,10));d=r.moveZone=new ct({invisible:!0,shape:{y:s[1]-b,height:f+b}}),d.on("mouseover",function(){u.enterEmphasis(p)}).on("mouseout",function(){u.leaveEmphasis(p)}),o.add(p),o.add(y),o.add(d)}d.attr({draggable:!0,cursor:Sa(this._orient),drift:R(this._onDragMove,this,"all"),ondragstart:R(this._showDataInfo,this,!0),ondragend:R(this._onDragEnd,this),onmouseover:R(this._showDataInfo,this,!0),onmouseout:R(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[Q(t[0],[0,100],r,!0),Q(t[1],[0,100],r,!0)]},e.prototype._updateInterval=function(t,r){var i=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),s=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Ie(r,n,o,i.get("zoomLock")?"all":t,s.minSpan!=null?Q(s.minSpan,l,o,!0):null,s.maxSpan!=null?Q(s.maxSpan,l,o,!0):null);var u=this._range,v=this._range=lt([Q(n[0],o,l,!0),Q(n[1],o,l,!0)]);return!u||u[0]!==v[0]||u[1]!==v[1]},e.prototype._updateView=function(t){var r=this._displayables,i=this._handleEnds,n=lt(i.slice()),o=this._size;T([0,1],function(d){var f=r.handles[d],p=this._handleHeight;f.attr({scaleX:p/2,scaleY:p/2,x:i[d]+(d?-1:1),y:o[1]/2-p/2})},this),r.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]});var s={x:n[0],width:n[1]-n[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,n[0],n[1],o[0]],v=0;v<l.length;v++){var h=l[v],c=h.getClipPath();c||(c=new ct,h.setClipPath(c)),c.setShape({x:u[v],y:0,width:u[v+1]-u[v],height:o[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var r=this.dataZoomModel,i=this._displayables,n=i.handleLabels,o=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,v=this._range,h=t?l.calculateDataWindow({start:v[0],end:v[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(h[0],u),this._formatLabel(h[1],u)]}}var c=lt(this._handleEnds.slice());d.call(this,0),d.call(this,1);function d(f){var p=Ft(i.handles[f].parent,this.group),g=pi(f===0?"right":"left",p),y=this._handleWidth/2+gv,b=wt([c[f]+(f===0?-y:y),this._size[1]/2],p);n[f].setStyle({x:b[0],y:b[1],verticalAlign:o===Ht?"middle":g,align:o===Ht?g:"center",text:s[f]})}},e.prototype._formatLabel=function(t,r){var i=this.dataZoomModel,n=i.get("labelFormatter"),o=i.get("labelPrecision");(o==null||o==="auto")&&(o=r.getPixelPrecision());var s=t==null||isNaN(t)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(o,20));return St(n)?n(t,s):J(n)?n.replace("{value}",s):s},e.prototype._showDataInfo=function(t){t=this._dragging||t;var r=this._displayables,i=r.handleLabels;i[0].attr("invisible",!t),i[1].attr("invisible",!t),r.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},e.prototype._onDragMove=function(t,r,i,n){this._dragging=!0,qt(n.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=wt([r,i],o,!0),l=this._updateInterval(t,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var r=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>r[0]||i[1]<0||i[1]>r[1])){var n=this._handleEnds,o=(n[0]+n[1])/2,s=this._updateInterval("all",i[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var r=t.offsetX,i=t.offsetY;this._brushStart=new yt(r,i),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(!!this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var i=r.shape,n=+new Date;if(!(n-this._brushStartTime<200&&Math.abs(i.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=lt([Q(i.x,o,s,!0),Q(i.x+i.width,o,s,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(qt(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,r){var i=this._displayables,n=this.dataZoomModel,o=i.brushRect;o||(o=i.brushRect=new Nt({silent:!0,style:n.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,r),v=l.transformCoordToLocal(s.x,s.y),h=this._size;u[0]=Math.max(Math.min(h[0],u[0]),0),o.setShape({x:v[0],y:0,width:u[0]-v[0],height:h[1]})},e.prototype._dispatchZoomAction=function(t){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?mv:null,start:r[0],end:r[1]})},e.prototype._findCoordRect=function(){var t,r=Si(this.dataZoomModel).infoList;if(!t&&r.length){var i=r[0].model.coordinateSystem;t=i.getRect&&i.getRect()}if(!t){var n=this.api.getWidth(),o=this.api.getHeight();t={x:n*.2,y:o*.2,width:n*.6,height:o*.6}}return t},e.type="dataZoom.slider",e}(bi);function Sv(a){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[a]}function Sa(a){return a==="vertical"?"ns-resize":"ew-resize"}const bv=xv;function Ei(a){a.registerComponentModel(dv),a.registerComponentView(bv),Mi(a)}function Mv(a){P(Vi),P(Ei)}var _v={get:function(a,e,t){var r=Z((Av[a]||{})[e]);return t&&V(r)?r[r.length-1]:r}},Av={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const ki=_v;var ba=K.mapVisual,Tv=K.eachVisual,wv=V,Ma=T,Iv=lt,Cv=Q,Lv=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},e.prototype.optionUpdated=function(t,r){var i=this.option;!r&&Li(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var r=this.stateList;t=R(t,this),this.controllerVisuals=Je(this.option.controller,r,t),this.targetVisuals=Je(this.option.target,r,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,r=[];return t==null||t==="all"?this.ecModel.eachSeries(function(i,n){r.push(n)}):r=mt(t),r},e.prototype.eachTargetSeries=function(t,r){T(this.getTargetSeriesIndices(),function(i){var n=this.ecModel.getSeriesByIndex(i);n&&t.call(r,n)},this)},e.prototype.isTargetSeries=function(t){var r=!1;return this.eachTargetSeries(function(i){i===t&&(r=!0)}),r},e.prototype.formatValueText=function(t,r,i){var n=this.option,o=n.precision,s=this.dataBound,l=n.formatter,u;i=i||["<",">"],V(t)&&(t=t.slice(),u=!0);var v=r?t:u?[h(t[0]),h(t[1])]:h(t);if(J(l))return l.replace("{value}",u?v[0]:v).replace("{value2}",u?v[1]:v);if(St(l))return u?l(t[0],t[1]):l(t);if(u)return t[0]===s[0]?i[0]+" "+v[1]:t[1]===s[1]?i[1]+" "+v[0]:v[0]+" - "+v[1];return v;function h(c){return c===s[0]?"min":c===s[1]?"max":(+c).toFixed(Math.min(o,20))}},e.prototype.resetExtent=function(){var t=this.option,r=Iv([t.min,t.max]);this._dataExtent=r},e.prototype.getDataDimensionIndex=function(t){var r=this.option.dimension;if(r!=null)return t.getDimensionIndex(r);for(var i=t.dimensions,n=i.length-1;n>=0;n--){var o=i[n],s=t.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,r=this.option,i={inRange:r.inRange,outOfRange:r.outOfRange},n=r.target||(r.target={}),o=r.controller||(r.controller={});vt(n,i),vt(o,i);var s=this.isCategory();l.call(this,n),l.call(this,o),u.call(this,n,"inRange","outOfRange"),v.call(this,o);function l(h){wv(r.color)&&!h.inRange&&(h.inRange={color:r.color.slice().reverse()}),h.inRange=h.inRange||{color:t.get("gradientColor")}}function u(h,c,d){var f=h[c],p=h[d];f&&!p&&(p=h[d]={},Ma(f,function(g,y){if(!!K.isValidType(y)){var b=ki.get(y,"inactive",s);b!=null&&(p[y]=b,y==="color"&&!p.hasOwnProperty("opacity")&&!p.hasOwnProperty("colorAlpha")&&(p.opacity=[0,0]))}}))}function v(h){var c=(h.inRange||{}).symbol||(h.outOfRange||{}).symbol,d=(h.inRange||{}).symbolSize||(h.outOfRange||{}).symbolSize,f=this.get("inactiveColor"),p=this.getItemSymbol(),g=p||"roundRect";Ma(this.stateList,function(y){var b=this.itemSize,m=h[y];m||(m=h[y]={color:s?f:[f]}),m.symbol==null&&(m.symbol=c&&Z(c)||(s?g:[g])),m.symbolSize==null&&(m.symbolSize=d&&Z(d)||(s?b[0]:[b[0],b[0]])),m.symbol=ba(m.symbol,function(S){return S==="none"?g:S});var M=m.symbolSize;if(M!=null){var x=-1/0;Tv(M,function(S){S>x&&(x=S)}),m.symbolSize=ba(M,function(S){return Cv(S,[0,x],[0,b[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(ht);const be=Lv;var _a=[20,140],Dv=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,r){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){a.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=_a[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=_a[1])},e.prototype._resetRange=function(){var t=this.getExtent(),r=this.option.range;!r||r.auto?(t.auto=1,this.option.range=t):V(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],t[0]),r[1]=Math.min(r[1],t[1]))},e.prototype.completeVisualOption=function(){a.prototype.completeVisualOption.apply(this,arguments),T(this.stateList,function(t){var r=this.option.controller[t].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),r=lt((this.get("range")||[]).slice());return r[0]>t[1]&&(r[0]=t[1]),r[1]>t[1]&&(r[1]=t[1]),r[0]<t[0]&&(r[0]=t[0]),r[1]<t[0]&&(r[1]=t[0]),r},e.prototype.getValueState=function(t){var r=this.option.range,i=this.getExtent();return(r[0]<=i[0]||r[0]<=t)&&(r[1]>=i[1]||t<=r[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[];return this.eachTargetSeries(function(i){var n=[],o=i.getData();o.each(this.getDataDimensionIndex(o),function(s,l){t[0]<=s&&s<=t[1]&&n.push(l)},this),r.push({seriesId:i.id,dataIndex:n})},this),r},e.prototype.getVisualMeta=function(t){var r=Aa(this,"outOfRange",this.getExtent()),i=Aa(this,"inRange",this.option.range.slice()),n=[];function o(d,f){n.push({value:d,color:t(d,f)})}for(var s=0,l=0,u=i.length,v=r.length;l<v&&(!i.length||r[l]<=i[0]);l++)r[l]<i[s]&&o(r[l],"outOfRange");for(var h=1;s<u;s++,h=0)h&&n.length&&o(i[s],"outOfRange"),o(i[s],"inRange");for(var h=1;l<v;l++)(!i.length||i[i.length-1]<r[l])&&(h&&(n.length&&o(n[n.length-1].value,"outOfRange"),h=0),o(r[l],"outOfRange"));var c=n.length;return{stops:n,outerColors:[c?n[0].color:"transparent",c?n[c-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Jt(be.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(be);function Aa(a,e,t){if(t[0]===t[1])return t.slice();for(var r=200,i=(t[1]-t[0])/r,n=t[0],o=[],s=0;s<=r&&n<t[1];s++)o.push(n),n+=i;return o.push(t[1]),o}const Pv=Dv;var Rv=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r},e.prototype.render=function(t,r,i,n){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,r,i,n)},e.prototype.renderBackground=function(t){var r=this.visualMapModel,i=ti(r.get("padding")||0),n=t.getBoundingRect();t.add(new ct({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,r,i){i=i||{};var n=i.forceState,o=this.visualMapModel,s={};if(r==="color"){var l=o.get("contentColor");s.color=l}function u(d){return s[d]}function v(d,f){s[d]=f}var h=o.controllerVisuals[n||o.getValueState(t)],c=K.prepareVisualTypes(h);return T(c,function(d){var f=h[d];i.convertOpacityToAlpha&&d==="opacity"&&(d="colorAlpha",f=h.__alphaForOpacity),K.dependsOn(d,r)&&f&&f.applyVisual(t,u,v)}),s[r]},e.prototype.positionGroup=function(t){var r=this.visualMapModel,i=this.api;vi(t,r.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},e.prototype.doRender=function(t,r,i,n){},e.type="visualMap",e}(ft);const zi=Rv;var Ta=[["left","right","width"],["top","bottom","height"]];function Oi(a,e,t){var r=a.option,i=r.align;if(i!=null&&i!=="auto")return i;for(var n={width:e.getWidth(),height:e.getHeight()},o=r.orient==="horizontal"?1:0,s=Ta[o],l=[0,null,10],u={},v=0;v<3;v++)u[Ta[1-o][v]]=l[v],u[s[v]]=v===2?t[0]:r[s[v]];var h=[["x","width",3],["y","height",0]][o],c=Ot(u,n,r.padding);return s[(c.margin[h[2]]||0)+c[h[0]]+c[h[1]]*.5<n[h[1]]*.5?0:1]}function ue(a,e){return T(a||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),a}var ot=Q,Vv=T,wa=Math.min,$e=Math.max,Ev=12,kv=6,zv=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.doRender=function(t,r,i,n){this._api=i,(!n||n.type!=="selectDataRange"||n.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,r=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(r);var i=t.get("text");this._renderEndsText(r,i,0),this._renderEndsText(r,i,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},e.prototype._renderEndsText=function(t,r,i){if(!!r){var n=r[1-i];n=n!=null?n+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,v=this._applyTransform([l[0]/2,i===0?-s:l[1]+s],u),h=this._applyTransform(i===0?"bottom":"top",u),c=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new U({style:j(d,{x:v[0],y:v[1],verticalAlign:c==="horizontal"?"middle":h,align:c==="horizontal"?h:"center",text:n})}))}},e.prototype._renderBar=function(t){var r=this.visualMapModel,i=this._shapes,n=r.itemSize,o=this._orient,s=this._useHandle,l=Oi(r,this.api,n),u=i.mainGroup=this._createBarGroup(l),v=new rt;u.add(v),v.add(i.outOfRange=Ia()),v.add(i.inRange=Ia(null,s?La(this._orient):null,R(this._dragHandle,this,"all",!1),R(this._dragHandle,this,"all",!0))),v.setClipPath(new ct({shape:{x:0,y:0,width:n[0],height:n[1],r:3}}));var h=r.textStyleModel.getTextRect("\u56FD"),c=$e(h.width,h.height);s&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(r,u,0,n,c,o),this._createHandle(r,u,1,n,c,o)),this._createIndicator(r,u,n,c,o),t.add(u)},e.prototype._createHandle=function(t,r,i,n,o,s){var l=R(this._dragHandle,this,i,!1),u=R(this._dragHandle,this,i,!0),v=Ke(t.get("handleSize"),n[0]),h=It(t.get("handleIcon"),-v/2,-v/2,v,v,null,!0),c=La(this._orient);h.attr({cursor:c,draggable:!0,drift:l,ondragend:u,onmousemove:function(y){qt(y.event)}}),h.x=n[0]/2,h.useStyle(t.getModel("handleStyle").getItemStyle()),h.setStyle({strokeNoScale:!0,strokeFirst:!0}),h.style.lineWidth*=2,h.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),So(h,!0),r.add(h);var d=this.visualMapModel.textStyleModel,f=new U({cursor:c,draggable:!0,drift:l,onmousemove:function(y){qt(y.event)},ondragend:u,style:j(d,{x:0,y:0,text:""})});f.ensureState("blur").style={opacity:.1},f.stateTransition={duration:200},this.group.add(f);var p=[v,0],g=this._shapes;g.handleThumbs[i]=h,g.handleLabelPoints[i]=p,g.handleLabels[i]=f},e.prototype._createIndicator=function(t,r,i,n,o){var s=Ke(t.get("indicatorSize"),i[0]),l=It(t.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(l instanceof or){var v=l.style;l.useStyle(Y({image:v.image,x:v.x,y:v.y,width:v.width,height:v.height},u))}else l.useStyle(u);r.add(l);var h=this.visualMapModel.textStyleModel,c=new U({silent:!0,invisible:!0,style:j(h,{x:0,y:0,text:""})});this.group.add(c);var d=[(o==="horizontal"?n/2:kv)+i[0]/2,0],f=this._shapes;f.indicator=l,f.indicatorLabel=c,f.indicatorLabelPoint=d,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,r,i,n){if(!!this._useHandle){if(this._dragging=!r,!r){var o=this._applyTransform([i,n],this._shapes.mainGroup,!0);this._updateInterval(t,o[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():Ca(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,r=this._dataInterval=t.getSelected(),i=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[ot(r[0],i,n,!0),ot(r[1],i,n,!0)]},e.prototype._updateInterval=function(t,r){r=r||0;var i=this.visualMapModel,n=this._handleEnds,o=[0,i.itemSize[1]];Ie(r,n,o,t,0);var s=i.getExtent();this._dataInterval=[ot(n[0],o,s,!0),ot(n[1],o,s,!0)]},e.prototype._updateView=function(t){var r=this.visualMapModel,i=r.getExtent(),n=this._shapes,o=[0,r.itemSize[1]],s=t?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,s,"inRange"),u=this._createBarVisual(i,i,o,"outOfRange");n.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),n.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},e.prototype._createBarVisual=function(t,r,i,n){var o={forceState:n,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,o),l=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],u=this._createBarPoints(i,l);return{barColor:new Qa(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},e.prototype._makeColorGradient=function(t,r){var i=100,n=[],o=(t[1]-t[0])/i;n.push({color:this.getControllerVisual(t[0],"color",r),offset:0});for(var s=1;s<i;s++){var l=t[0]+o*s;if(l>t[1])break;n.push({color:this.getControllerVisual(l,"color",r),offset:s/i})}return n.push({color:this.getControllerVisual(t[1],"color",r),offset:1}),n},e.prototype._createBarPoints=function(t,r){var i=this.visualMapModel.itemSize;return[[i[0]-r[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-r[1],t[1]]]},e.prototype._createBarGroup=function(t){var r=this._orient,i=this.visualMapModel.get("inverse");return new rt(r==="horizontal"&&!i?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&i?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!i?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,r){if(!!this._useHandle){var i=this._shapes,n=this.visualMapModel,o=i.handleThumbs,s=i.handleLabels,l=n.itemSize,u=n.getExtent();Vv([0,1],function(v){var h=o[v];h.setStyle("fill",r.handlesColor[v]),h.y=t[v];var c=ot(t[v],[0,l[1]],u,!0),d=this.getControllerVisual(c,"symbolSize");h.scaleX=h.scaleY=d/l[0],h.x=l[0]-d/2;var f=wt(i.handleLabelPoints[v],Ft(h,this.group));s[v].setStyle({x:f[0],y:f[1],text:n.formatValueText(this._dataInterval[v]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,r,i,n){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],v=this._shapes,h=v.indicator;if(!!h){h.attr("invisible",!1);var c={convertOpacityToAlpha:!0},d=this.getControllerVisual(t,"color",c),f=this.getControllerVisual(t,"symbolSize"),p=ot(t,s,u,!0),g=l[0]-f/2,y={x:h.x,y:h.y};h.y=p,h.x=g;var b=wt(v.indicatorLabelPoint,Ft(h,this.group)),m=v.indicatorLabel;m.attr("invisible",!1);var M=this._applyTransform("left",v.mainGroup),x=this._orient,S=x==="horizontal";m.setStyle({text:(i||"")+o.formatValueText(r),verticalAlign:S?M:"middle",align:S?"center":M});var _={x:g,y:p,style:{fill:d}},w={style:{x:b[0],y:b[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var A={duration:100,easing:"cubicInOut",additive:!0};h.x=y.x,h.y=y.y,h.animateTo(_,A),m.animateTo(w,A)}else h.attr(_),m.attr(w);this._firstShowIndicator=!1;var I=this._shapes.handleLabels;if(I)for(var C=0;C<I.length;C++)this._api.enterBlur(I[C])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(r){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,n=t._applyTransform([r.offsetX,r.offsetY],t._shapes.mainGroup,!0,!0);n[1]=wa($e(0,n[1]),i[1]),t._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,r){var i=this.visualMapModel,n=i.itemSize;if(!!i.option.hoverLink){var o=[0,n[1]],s=i.getExtent();t=wa($e(o[0],t),o[1]);var l=Ov(i,s,o),u=[t-l,t+l],v=ot(t,o,s,!0),h=[ot(u[0],o,s,!0),ot(u[1],o,s,!0)];u[0]<o[0]&&(h[0]=-1/0),u[1]>o[1]&&(h[1]=1/0),r&&(h[0]===-1/0?this._showIndicator(v,h[1],"< ",l):h[1]===1/0?this._showIndicator(v,h[0],"> ",l):this._showIndicator(v,v,"\u2248 ",l));var c=this._hoverLinkDataIndices,d=[];(r||Ca(i))&&(d=this._hoverLinkDataIndices=i.findTargetDataIndices(h));var f=bo(c,d);this._dispatchHighDown("downplay",ue(f[0],i)),this._dispatchHighDown("highlight",ue(f[1],i))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var r;if(Mo(t.target,function(l){var u=et(l);if(u.dataIndex!=null)return r=u,!0},!0),!!r){var i=this.ecModel.getSeriesByIndex(r.seriesIndex),n=this.visualMapModel;if(!!n.isTargetSeries(i)){var o=i.getData(r.dataType),s=o.getStore().get(n.getDataDimensionIndex(o),r.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var i=0;i<r.length;i++)this._api.leaveBlur(r[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",ue(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,r,i,n){var o=Ft(r,n?null:this.group);return V(t)?wt(t,o,i):pi(t,o,i)},e.prototype._dispatchHighDown=function(t,r){r&&r.length&&this.api.dispatchAction({type:t,batch:r})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(zi);function Ia(a,e,t,r){return new kt({shape:{points:a},draggable:!!t,cursor:e,drift:t,onmousemove:function(i){qt(i.event)},ondragend:r})}function Ov(a,e,t){var r=Ev/2,i=a.get("hoverLinkDataSize");return i&&(r=ot(i,e,t,!0)/2),r}function Ca(a){var e=a.get("hoverLinkOnHandle");return!!(e==null?a.get("realtime"):e)}function La(a){return a==="vertical"?"ns-resize":"ew-resize"}const Bv=zv;var Gv={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Nv=function(a,e){e.eachComponent({mainType:"visualMap",query:a},function(t){t.setSelected(a.selected)})},Hv=[{createOnAllSeries:!0,reset:function(a,e){var t=[];return e.eachComponent("visualMap",function(r){var i=a.pipelineContext;!r.isTargetSeries(a)||i&&i.large||t.push(lu(r.stateList,r.targetVisuals,R(r.getValueState,r),r.getDataDimensionIndex(a.getData())))}),t}},{createOnAllSeries:!0,reset:function(a,e){var t=a.getData(),r=[];e.eachComponent("visualMap",function(i){if(i.isTargetSeries(a)){var n=i.getVisualMeta(R($v,null,a,i))||{stops:[],outerColors:[]},o=i.getDataDimensionIndex(t);o>=0&&(n.dimension=o,r.push(n))}}),a.getData().setVisual("visualMeta",r)}}];function $v(a,e,t,r){for(var i=e.targetVisuals[r],n=K.prepareVisualTypes(i),o={color:cr(a.getData(),"color")},s=0,l=n.length;s<l;s++){var u=n[s],v=i[u==="opacity"?"__alphaForOpacity":u];v&&v.applyVisual(t,h,c)}return o.color;function h(d){return o[d]}function c(d,f){o[d]=f}}var Da=T;function Wv(a){var e=a&&a.visualMap;V(e)||(e=e?[e]:[]),Da(e,function(t){if(!!t){Dt(t,"splitList")&&!Dt(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var r=t.pieces;r&&V(r)&&Da(r,function(i){Lt(i)&&(Dt(i,"start")&&!Dt(i,"min")&&(i.min=i.start),Dt(i,"end")&&!Dt(i,"max")&&(i.max=i.end))})}})}function Dt(a,e){return a&&a.hasOwnProperty&&a.hasOwnProperty(e)}var Pa=!1;function Bi(a){Pa||(Pa=!0,a.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),a.registerAction(Gv,Nv),T(Hv,function(e){a.registerVisual(a.PRIORITY.VISUAL.COMPONENT,e)}),a.registerPreprocessor(Wv))}function Gi(a){a.registerComponentModel(Pv),a.registerComponentView(Bv),Bi(a)}var Fv=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,r){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],Zv[this._mode].call(this,this._pieceList),this._resetSelected(t,r);var n=this.option.categories;this.resetVisual(function(o,s){i==="categories"?(o.mappingMethod="category",o.categories=Z(n)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=O(this._pieceList,function(l){return l=Z(l),s!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,r={},i=K.listVisualTypes(),n=this.isCategory();T(t.pieces,function(s){T(i,function(l){s.hasOwnProperty(l)&&(r[l]=1)})}),T(r,function(s,l){var u=!1;T(this.stateList,function(v){u=u||o(t,v,l)||o(t.target,v,l)},this),!u&&T(this.stateList,function(v){(t[v]||(t[v]={}))[l]=ki.get(l,v==="inRange"?"active":"inactive",n)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}a.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,r){var i=this.option,n=this._pieceList,o=(r?i:t).selected||{};if(i.selected=o,T(n,function(l,u){var v=this.getSelectedMapKey(l);o.hasOwnProperty(v)||(o[v]=!0)},this),i.selectedMode==="single"){var s=!1;T(n,function(l,u){var v=this.getSelectedMapKey(l);o[v]&&(s?o[v]=!1:s=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=Z(t)},e.prototype.getValueState=function(t){var r=K.findPieceIndex(t,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[],i=this._pieceList;return this.eachTargetSeries(function(n){var o=[],s=n.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var v=K.findPieceIndex(l,i);v===t&&o.push(u)},this),r.push({seriesId:n.id,dataIndex:o})},this),r},e.prototype.getRepresentValue=function(t){var r;if(this.isCategory())r=t.value;else if(t.value!=null)r=t.value;else{var i=t.interval||[];r=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return r},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var r=[],i=["",""],n=this;function o(v,h){var c=n.getRepresentValue({interval:v});h||(h=n.getValueState(c));var d=t(c,h);v[0]===-1/0?i[0]=d:v[1]===1/0?i[1]=d:r.push({value:v[0],color:d},{value:v[1],color:d})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return T(s,function(v){var h=v.interval;h&&(h[0]>u&&o([u,h[0]],"outOfRange"),o(h.slice()),u=h[1])},this),{stops:r,outerColors:i}},e.type="visualMap.piecewise",e.defaultOption=Jt(be.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(be),Zv={splitNumber:function(a){var e=this.option,t=Math.min(e.precision,20),r=this.getExtent(),i=e.splitNumber;i=Math.max(parseInt(i,10),1),e.splitNumber=i;for(var n=(r[1]-r[0])/i;+n.toFixed(t)!==n&&t<5;)t++;e.precision=t,n=+n.toFixed(t),e.minOpen&&a.push({interval:[-1/0,r[0]],close:[0,0]});for(var o=0,s=r[0];o<i;s+=n,o++){var l=o===i-1?r[1]:s+n;a.push({interval:[s,l],close:[1,1]})}e.maxOpen&&a.push({interval:[r[1],1/0],close:[0,0]}),Ue(a),T(a,function(u,v){u.index=v,u.text=this.formatValueText(u.interval)},this)},categories:function(a){var e=this.option;T(e.categories,function(t){a.push({text:this.formatValueText(t,!0),value:t})},this),Ra(e,a)},pieces:function(a){var e=this.option;T(e.pieces,function(t,r){Lt(t)||(t={value:t});var i={text:"",index:r};if(t.label!=null&&(i.text=t.label),t.hasOwnProperty("value")){var n=i.value=t.value;i.interval=[n,n],i.close=[1,1]}else{for(var o=i.interval=[],s=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],v=[],h=0;h<2;h++){for(var c=[["gte","gt","min"],["lte","lt","max"]][h],d=0;d<3&&o[h]==null;d++)o[h]=t[c[d]],s[h]=l[d],v[h]=d===2;o[h]==null&&(o[h]=u[h])}v[0]&&o[1]===1/0&&(s[0]=0),v[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(i.value=o[0])}i.visual=K.retrieveVisuals(t),a.push(i)},this),Ra(e,a),Ue(a),T(a,function(t){var r=t.close,i=[["<","\u2264"][r[1]],[">","\u2265"][r[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,i)},this)}};function Ra(a,e){var t=a.inverse;(a.orient==="vertical"?!t:t)&&e.reverse()}const Uv=Fv;var Yv=function(a){L(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var r=this.visualMapModel,i=r.get("textGap"),n=r.textStyleModel,o=n.getFont(),s=n.getTextColor(),l=this._getItemAlign(),u=r.itemSize,v=this._getViewData(),h=v.endsText,c=Tt(r.get("showLabel",!0),!h);h&&this._renderEndsText(t,h[0],u,c,l),T(v.viewPieceList,function(d){var f=d.piece,p=new rt;p.onclick=R(this._onItemClick,this,f),this._enableHoverLink(p,d.indexInModelPieceList);var g=r.getRepresentValue(f);if(this._createItemSymbol(p,g,[0,0,u[0],u[1]]),c){var y=this.visualMapModel.getValueState(g);p.add(new U({style:{x:l==="right"?-i:u[0]+i,y:u[1]/2,text:f.text,verticalAlign:"middle",align:l,font:o,fill:s,opacity:y==="outOfRange"?.5:1}}))}t.add(p)},this),h&&this._renderEndsText(t,h[1],u,c,l),_o(r.get("orient"),t,r.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,r){var i=this;t.on("mouseover",function(){return n("highlight")}).on("mouseout",function(){return n("downplay")});var n=function(o){var s=i.visualMapModel;s.option.hoverLink&&i.api.dispatchAction({type:o,batch:ue(s.findTargetDataIndices(r),s)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,r=t.option;if(r.orient==="vertical")return Oi(t,this.api,t.itemSize);var i=r.align;return(!i||i==="auto")&&(i="left"),i},e.prototype._renderEndsText=function(t,r,i,n,o){if(!!r){var s=new rt,l=this.visualMapModel.textStyleModel;s.add(new U({style:j(l,{x:n?o==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:n?o:"center",text:r})})),t.add(s)}},e.prototype._getViewData=function(){var t=this.visualMapModel,r=O(t.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),i=t.get("text"),n=t.get("orient"),o=t.get("inverse");return(n==="horizontal"?o:!o)?r.reverse():i&&(i=i.slice().reverse()),{viewPieceList:r,endsText:i}},e.prototype._createItemSymbol=function(t,r,i){t.add(It(this.getControllerVisual(r,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(r,"color")))},e.prototype._onItemClick=function(t){var r=this.visualMapModel,i=r.option,n=i.selectedMode;if(!!n){var o=Z(i.selected),s=r.getSelectedMapKey(t);n==="single"||n===!0?(o[s]=!0,T(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},e.type="visualMap.piecewise",e}(zi);const Xv=Yv;function Ni(a){a.registerComponentModel(Uv),a.registerComponentView(Xv),Bi(a)}function Kv(a){P(Gi),P(Ni)}var qv={label:{enabled:!0},decal:{show:!1}},Va=it(),jv={};function Jv(a,e){var t=a.getModel("aria");if(!t.get("enabled"))return;var r=Z(qv);vt(r.label,a.getLocaleModel().get("aria"),!1),vt(t.option,r,!1),i(),n();function i(){var u=t.getModel("decal"),v=u.get("show");if(v){var h=dt();a.eachSeries(function(c){if(!c.isColorBySeries()){var d=h.get(c.type);d||(d={},h.set(c.type,d)),Va(c).scope=d}}),a.eachRawSeries(function(c){if(a.isSeriesFiltered(c))return;if(St(c.enableAriaDecal)){c.enableAriaDecal();return}var d=c.getData();if(c.isColorBySeries()){var b=Br(c.ecModel,c.name,jv,a.getSeriesCount()),m=d.getVisual("decal");d.setVisual("decal",M(m,b))}else{var f=c.getRawData(),p={},g=Va(c).scope;d.each(function(x){var S=d.getRawIndex(x);p[S]=x});var y=f.count();f.each(function(x){var S=p[x],_=f.getName(x)||x+"",w=Br(c.ecModel,_,g,y),A=d.getItemVisual(S,"decal");d.setItemVisual(S,"decal",M(A,w))})}function M(x,S){var _=x?Y(Y({},S),x):S;return _.dirty=!0,_}})}}function n(){var u=a.getLocaleModel().get("aria"),v=t.getModel("label");if(v.option=H(v.option,u),!!v.get("enabled")){var h=e.getZr().dom;if(v.get("description")){h.setAttribute("aria-label",v.get("description"));return}var c=a.getSeriesCount(),d=v.get(["data","maxCount"])||10,f=v.get(["series","maxCount"])||10,p=Math.min(c,f),g;if(!(c<1)){var y=s();if(y){var b=v.get(["general","withTitle"]);g=o(b,{title:y})}else g=v.get(["general","withoutTitle"]);var m=[],M=c>1?v.get(["series","multiple","prefix"]):v.get(["series","single","prefix"]);g+=o(M,{seriesCount:c}),a.eachSeries(function(w,A){if(A<p){var I=void 0,C=w.get("name"),k=C?"withName":"withoutName";I=c>1?v.get(["series","multiple",k]):v.get(["series","single",k]),I=o(I,{seriesId:w.seriesIndex,seriesName:w.get("name"),seriesType:l(w.subType)});var D=w.getData();if(D.count()>d){var z=v.get(["data","partialData"]);I+=o(z,{displayCnt:d})}else I+=v.get(["data","allData"]);for(var B=v.get(["data","separator","middle"]),E=v.get(["data","separator","end"]),N=[],G=0;G<D.count();G++)if(G<d){var F=D.getName(G),X=D.getValues(G),at=v.get(["data",F?"withName":"withoutName"]);N.push(o(at,{name:F,value:X.join(B)}))}I+=N.join(B)+E,m.push(I)}});var x=v.getModel(["series","multiple","separator"]),S=x.get("middle"),_=x.get("end");g+=m.join(S)+_,h.setAttribute("aria-label",g)}}}function o(u,v){if(!J(u))return u;var h=u;return T(v,function(c,d){h=h.replace(new RegExp("\\{\\s*"+d+"\\s*\\}","g"),c)}),h}function s(){var u=a.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){return a.getLocaleModel().get(["series","typeNames"])[u]||"\u81EA\u5B9A\u4E49\u56FE"}}function Qv(a){if(!(!a||!a.aria)){var e=a.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},T(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function th(a){a.registerPreprocessor(Qv),a.registerVisual(a.PRIORITY.VISUAL.ARIA,Jv)}var Ea={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},eh=function(){function a(e){var t=this._condVal=J(e)?new RegExp(e):wo(e)?e:null;if(t==null){var r="";$(r)}}return a.prototype.evaluate=function(e){var t=typeof e;return J(t)?this._condVal.test(e):fi(t)?this._condVal.test(e+""):!1},a}(),rh=function(){function a(){}return a.prototype.evaluate=function(){return this.value},a}(),ah=function(){function a(){}return a.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},a}(),ih=function(){function a(){}return a.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},a}(),nh=function(){function a(){}return a.prototype.evaluate=function(){return!this.child.evaluate()},a}(),oh=function(){function a(){}return a.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,r=t(this.valueGetterParam),i=e?this.valueParser(r):null,n=0;n<this.subCondList.length;n++)if(!this.subCondList[n].evaluate(e?i:r))return!1;return!0},a}();function Sr(a,e){if(a===!0||a===!1){var t=new rh;return t.value=a,t}var r="";return Hi(a)||$(r),a.and?ka("and",a,e):a.or?ka("or",a,e):a.not?sh(a,e):lh(a,e)}function ka(a,e,t){var r=e[a],i="";V(r)||$(i),r.length||$(i);var n=a==="and"?new ah:new ih;return n.children=O(r,function(o){return Sr(o,t)}),n.children.length||$(i),n}function sh(a,e){var t=a.not,r="";Hi(t)||$(r);var i=new nh;return i.child=Sr(t,e),i.child||$(r),i}function lh(a,e){for(var t="",r=e.prepareGetValue(a),i=[],n=lr(a),o=a.parser,s=o?gi(o):null,l=0;l<n.length;l++){var u=n[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var v=Kt(Ea,u)?Ea[u]:u,h=a[u],c=s?s(h):h,d=Ao(v,c)||v==="reg"&&new eh(c);d||$(t),i.push(d)}}i.length||$(t);var f=new oh;return f.valueGetterParam=r,f.valueParser=s,f.getValue=e.getValue,f.subCondList=i,f}function Hi(a){return Lt(a)&&!To(a)}var uh=function(){function a(e,t){this._cond=Sr(e,t)}return a.prototype.evaluate=function(){return this._cond.evaluate()},a}();function vh(a,e){return new uh(a,e)}var hh={type:"echarts:filter",transform:function(a){for(var e=a.upstream,t,r=vh(a.config,{valueGetterAttrMap:dt({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;Kt(s,"dimension")||$(l);var v=e.getDimensionInfo(u);return v||$(l),{dimIdx:v.index}},getValue:function(s){return e.retrieveValueFromItem(t,s.dimIdx)}}),i=[],n=0,o=e.count();n<o;n++)t=e.getRawDataItem(n),r.evaluate()&&i.push(t);return{data:i}}},ch={type:"echarts:sort",transform:function(a){var e=a.upstream,t=a.config,r="",i=mt(t);i.length||$(r);var n=[];T(i,function(v){var h=v.dimension,c=v.order,d=v.parser,f=v.incomparable;if(h==null&&$(r),c!=="asc"&&c!=="desc"&&$(r),f&&f!=="min"&&f!=="max"){var p="";$(p)}if(c!=="asc"&&c!=="desc"){var g="";$(g)}var y=e.getDimensionInfo(h);y||$(r);var b=d?gi(d):null;d&&!b&&$(r),n.push({dimIdx:y.index,parser:b,comparator:new Io(c,f)})});var o=e.sourceFormat;o!==Co&&o!==Lo&&$(r);for(var s=[],l=0,u=e.count();l<u;l++)s.push(e.getRawDataItem(l));return s.sort(function(v,h){for(var c=0;c<n.length;c++){var d=n[c],f=e.retrieveValueFromItem(v,d.dimIdx),p=e.retrieveValueFromItem(h,d.dimIdx);d.parser&&(f=d.parser(f),p=d.parser(p));var g=d.comparator.evaluate(f,p);if(g!==0)return g}return 0}),{data:s}}};function dh(a){a.registerTransform(hh),a.registerTransform(ch)}var nt=Do.CMD;function Vt(a,e){return Math.abs(a-e)<1e-5}function tr(a){var e=a.data,t=a.len(),r=[],i,n=0,o=0,s=0,l=0;function u(D,z){i&&i.length>2&&r.push(i),i=[D,z]}function v(D,z,B,E){Vt(D,B)&&Vt(z,E)||i.push(D,z,B,E,B,E)}function h(D,z,B,E,N,G){var F=Math.abs(z-D),X=Math.tan(F/4)*4/3,at=z<D?-1:1,Mr=Math.cos(D),_r=Math.sin(D),Ar=Math.cos(z),Tr=Math.sin(z),Xi=Mr*N+B,Ki=_r*G+E,wr=Ar*N+B,Ir=Tr*G+E,Cr=N*X*at,Lr=G*X*at;i.push(Xi-Cr*_r,Ki+Lr*Mr,wr+Cr*Tr,Ir-Lr*Ar,wr,Ir)}for(var c,d,f,p,g=0;g<t;){var y=e[g++],b=g===1;switch(b&&(n=e[g],o=e[g+1],s=n,l=o,(y===nt.L||y===nt.C||y===nt.Q)&&(i=[s,l])),y){case nt.M:n=s=e[g++],o=l=e[g++],u(s,l);break;case nt.L:c=e[g++],d=e[g++],v(n,o,c,d),n=c,o=d;break;case nt.C:i.push(e[g++],e[g++],e[g++],e[g++],n=e[g++],o=e[g++]);break;case nt.Q:c=e[g++],d=e[g++],f=e[g++],p=e[g++],i.push(n+2/3*(c-n),o+2/3*(d-o),f+2/3*(c-f),p+2/3*(d-p),f,p),n=f,o=p;break;case nt.A:var m=e[g++],M=e[g++],x=e[g++],S=e[g++],_=e[g++],w=e[g++]+_;g+=1;var A=!e[g++];c=Math.cos(_)*x+m,d=Math.sin(_)*S+M,b?(s=c,l=d,u(s,l)):v(n,o,c,d),n=Math.cos(w)*x+m,o=Math.sin(w)*S+M;for(var I=(A?-1:1)*Math.PI/2,C=_;A?C>w:C<w;C+=I){var k=A?Math.max(C+I,w):Math.min(C+I,w);h(C,k,m,M,x,S)}break;case nt.R:s=n=e[g++],l=o=e[g++],c=s+e[g++],d=l+e[g++],u(c,l),v(c,l,c,d),v(c,d,s,d),v(s,d,s,l),v(s,l,c,l);break;case nt.Z:i&&v(n,o,s,l),n=s,o=l;break}}return i&&i.length>2&&r.push(i),r}function er(a,e,t,r,i,n,o,s,l,u){if(Vt(a,t)&&Vt(e,r)&&Vt(i,o)&&Vt(n,s)){l.push(o,s);return}var v=2/u,h=v*v,c=o-a,d=s-e,f=Math.sqrt(c*c+d*d);c/=f,d/=f;var p=t-a,g=r-e,y=i-o,b=n-s,m=p*p+g*g,M=y*y+b*b;if(m<h&&M<h){l.push(o,s);return}var x=c*p+d*g,S=-c*y-d*b,_=m-x*x,w=M-S*S;if(_<h&&x>=0&&w<h&&S>=0){l.push(o,s);return}var A=[],I=[];fe(a,t,i,o,.5,A),fe(e,r,n,s,.5,I),er(A[0],I[0],A[1],I[1],A[2],I[2],A[3],I[3],l,u),er(A[4],I[4],A[5],I[5],A[6],I[6],A[7],I[7],l,u)}function fh(a,e){var t=tr(a),r=[];e=e||1;for(var i=0;i<t.length;i++){var n=t[i],o=[],s=n[0],l=n[1];o.push(s,l);for(var u=2;u<n.length;){var v=n[u++],h=n[u++],c=n[u++],d=n[u++],f=n[u++],p=n[u++];er(s,l,v,h,c,d,f,p,o,e),s=f,l=p}r.push(o)}return r}function $i(a,e,t){var r=a[e],i=a[1-e],n=Math.abs(r/i),o=Math.ceil(Math.sqrt(n*t)),s=Math.floor(t/o);s===0&&(s=1,o=t);for(var l=[],u=0;u<o;u++)l.push(s);var v=o*s,h=t-v;if(h>0)for(var u=0;u<h;u++)l[u%o]+=1;return l}function za(a,e,t){for(var r=a.r0,i=a.r,n=a.startAngle,o=a.endAngle,s=Math.abs(o-n),l=s*i,u=i-r,v=l>Math.abs(u),h=$i([l,u],v?0:1,e),c=(v?s:u)/h.length,d=0;d<h.length;d++)for(var f=(v?u:s)/h[d],p=0;p<h[d];p++){var g={};v?(g.startAngle=n+c*d,g.endAngle=n+c*(d+1),g.r0=r+f*p,g.r=r+f*(p+1)):(g.startAngle=n+f*p,g.endAngle=n+f*(p+1),g.r0=r+c*d,g.r=r+c*(d+1)),g.clockwise=a.clockwise,g.cx=a.cx,g.cy=a.cy,t.push(g)}}function ph(a,e,t){for(var r=a.width,i=a.height,n=r>i,o=$i([r,i],n?0:1,e),s=n?"width":"height",l=n?"height":"width",u=n?"x":"y",v=n?"y":"x",h=a[s]/o.length,c=0;c<o.length;c++)for(var d=a[l]/o[c],f=0;f<o[c];f++){var p={};p[u]=c*h,p[v]=f*d,p[s]=h,p[l]=d,p.x+=a.x,p.y+=a.y,t.push(p)}}function Oa(a,e,t,r){return a*r-t*e}function gh(a,e,t,r,i,n,o,s){var l=t-a,u=r-e,v=o-i,h=s-n,c=Oa(v,h,l,u);if(Math.abs(c)<1e-6)return null;var d=a-i,f=e-n,p=Oa(d,f,v,h)/c;return p<0||p>1?null:new yt(p*l+a,p*u+e)}function yh(a,e,t){var r=new yt;yt.sub(r,t,e),r.normalize();var i=new yt;yt.sub(i,a,e);var n=i.dot(r);return n}function Pt(a,e){var t=a[a.length-1];t&&t[0]===e[0]&&t[1]===e[1]||a.push(e)}function mh(a,e,t){for(var r=a.length,i=[],n=0;n<r;n++){var o=a[n],s=a[(n+1)%r],l=gh(o[0],o[1],s[0],s[1],e.x,e.y,t.x,t.y);l&&i.push({projPt:yh(l,e,t),pt:l,idx:n})}if(i.length<2)return[{points:a},{points:a}];i.sort(function(g,y){return g.projPt-y.projPt});var u=i[0],v=i[i.length-1];if(v.idx<u.idx){var h=u;u=v,v=h}for(var c=[u.pt.x,u.pt.y],d=[v.pt.x,v.pt.y],f=[c],p=[d],n=u.idx+1;n<=v.idx;n++)Pt(f,a[n].slice());Pt(f,d),Pt(f,c);for(var n=v.idx+1;n<=u.idx+r;n++)Pt(p,a[n%r].slice());return Pt(p,c),Pt(p,d),[{points:f},{points:p}]}function Ba(a){var e=a.points,t=[],r=[];yi(e,t,r);var i=new Ct(t[0],t[1],r[0]-t[0],r[1]-t[1]),n=i.width,o=i.height,s=i.x,l=i.y,u=new yt,v=new yt;return n>o?(u.x=v.x=s+n/2,u.y=l,v.y=l+o):(u.y=v.y=l+o/2,u.x=s,v.x=s+n),mh(e,u,v)}function Me(a,e,t,r){if(t===1)r.push(e);else{var i=Math.floor(t/2),n=a(e);Me(a,n[0],i,r),Me(a,n[1],t-i,r)}return r}function xh(a,e){for(var t=[],r=0;r<e;r++)t.push(dr(a));return t}function Sh(a,e){e.setStyle(a.style),e.z=a.z,e.z2=a.z2,e.zlevel=a.zlevel}function bh(a){for(var e=[],t=0;t<a.length;)e.push([a[t++],a[t++]]);return e}function Mh(a,e){var t=[],r=a.shape,i;switch(a.type){case"rect":ph(r,e,t),i=ct;break;case"sector":za(r,e,t),i=Yt;break;case"circle":za({r0:0,r:r.r,startAngle:0,endAngle:Math.PI*2,cx:r.cx,cy:r.cy},e,t),i=Yt;break;default:var n=a.getComputedTransform(),o=n?Math.sqrt(Math.max(n[0]*n[0]+n[1]*n[1],n[2]*n[2]+n[3]*n[3])):1,s=O(fh(a.getUpdatedPathProxy(),o),function(y){return bh(y)}),l=s.length;if(l===0)Me(Ba,{points:s[0]},e,t);else if(l===e)for(var u=0;u<l;u++)t.push({points:s[u]});else{var v=0,h=O(s,function(y){var b=[],m=[];yi(y,b,m);var M=(m[1]-b[1])*(m[0]-b[0]);return v+=M,{poly:y,area:M}});h.sort(function(y,b){return b.area-y.area});for(var c=e,u=0;u<l;u++){var d=h[u];if(c<=0)break;var f=u===l-1?c:Math.ceil(d.area/v*e);f<0||(Me(Ba,{points:d.poly},f,t),c-=f)}}i=kt;break}if(!i)return xh(a,e);for(var p=[],u=0;u<t.length;u++){var g=new i;g.setShape(t[u]),Sh(a,g),p.push(g)}return p}function _h(a,e){var t=a.length,r=e.length;if(t===r)return[a,e];for(var i=[],n=[],o=t<r?a:e,s=Math.min(t,r),l=Math.abs(r-t)/6,u=(s-2)/6,v=Math.ceil(l/u)+1,h=[o[0],o[1]],c=l,d=2;d<s;){var f=o[d-2],p=o[d-1],g=o[d++],y=o[d++],b=o[d++],m=o[d++],M=o[d++],x=o[d++];if(c<=0){h.push(g,y,b,m,M,x);continue}for(var S=Math.min(c,v-1)+1,_=1;_<=S;_++){var w=_/S;fe(f,g,b,M,w,i),fe(p,y,m,x,w,n),f=i[3],p=n[3],h.push(i[1],n[1],i[2],n[2],f,p),g=i[5],y=n[5],b=i[6],m=n[6]}c-=S-1}return o===a?[h,e]:[a,h]}function Ga(a,e){for(var t=a.length,r=a[t-2],i=a[t-1],n=[],o=0;o<e.length;)n[o++]=r,n[o++]=i;return n}function Ah(a,e){for(var t,r,i,n=[],o=[],s=0;s<Math.max(a.length,e.length);s++){var l=a[s],u=e[s],v=void 0,h=void 0;l?u?(t=_h(l,u),v=t[0],h=t[1],r=v,i=h):(h=Ga(i||l,l),v=l):(v=Ga(r||u,u),h=u),n.push(v),o.push(h)}return[n,o]}function Na(a){for(var e=0,t=0,r=0,i=a.length,n=0,o=i-2;n<i;o=n,n+=2){var s=a[o],l=a[o+1],u=a[n],v=a[n+1],h=s*v-u*l;e+=h,t+=(s+u)*h,r+=(l+v)*h}return e===0?[a[0]||0,a[1]||0]:[t/e/3,r/e/3,e]}function Th(a,e,t,r){for(var i=(a.length-2)/6,n=1/0,o=0,s=a.length,l=s-2,u=0;u<i;u++){for(var v=u*6,h=0,c=0;c<s;c+=2){var d=c===0?v:(v+c-2)%l+2,f=a[d]-t[0],p=a[d+1]-t[1],g=e[c]-r[0],y=e[c+1]-r[1],b=g-f,m=y-p;h+=b*b+m*m}h<n&&(n=h,o=u)}return o}function wh(a){for(var e=[],t=a.length,r=0;r<t;r+=2)e[r]=a[t-r-2],e[r+1]=a[t-r-1];return e}function Ih(a,e,t,r){for(var i=[],n,o=0;o<a.length;o++){var s=a[o],l=e[o],u=Na(s),v=Na(l);n==null&&(n=u[2]<0!=v[2]<0);var h=[],c=[],d=0,f=1/0,p=[],g=s.length;n&&(s=wh(s));for(var y=Th(s,l,u,v)*6,b=g-2,m=0;m<b;m+=2){var M=(y+m)%b+2;h[m+2]=s[M]-u[0],h[m+3]=s[M+1]-u[1]}if(h[0]=s[y]-u[0],h[1]=s[y+1]-u[1],t>0)for(var x=r/t,S=-r/2;S<=r/2;S+=x){for(var _=Math.sin(S),w=Math.cos(S),A=0,m=0;m<s.length;m+=2){var I=h[m],C=h[m+1],k=l[m]-v[0],D=l[m+1]-v[1],z=k*w-D*_,B=k*_+D*w;p[m]=z,p[m+1]=B;var E=z-I,N=B-C;A+=E*E+N*N}if(A<f){f=A,d=S;for(var G=0;G<p.length;G++)c[G]=p[G]}}else for(var F=0;F<g;F+=2)c[F]=l[F]-v[0],c[F+1]=l[F+1]-v[1];i.push({from:h,to:c,fromCp:u,toCp:v,rotation:-d})}return i}function _e(a){return a.__isCombineMorphing}var Wi="__mOriginal_";function Ae(a,e,t){var r=Wi+e,i=a[r]||a[e];a[r]||(a[r]=a[e]);var n=t.replace,o=t.after,s=t.before;a[e]=function(){var l=arguments,u;return s&&s.apply(this,l),n?u=n.apply(this,l):u=i.apply(this,l),o&&o.apply(this,l),u}}function Zt(a,e){var t=Wi+e;a[t]&&(a[e]=a[t],a[t]=null)}function Ha(a,e){for(var t=0;t<a.length;t++)for(var r=a[t],i=0;i<r.length;){var n=r[i],o=r[i+1];r[i++]=e[0]*n+e[2]*o+e[4],r[i++]=e[1]*n+e[3]*o+e[5]}}function Fi(a,e){var t=a.getUpdatedPathProxy(),r=e.getUpdatedPathProxy(),i=Ah(tr(t),tr(r)),n=i[0],o=i[1],s=a.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}s&&Ha(n,s),l&&Ha(o,l),Ae(e,"updateTransform",{replace:u}),e.transform=null;var v=Ih(n,o,10,Math.PI),h=[];Ae(e,"buildPath",{replace:function(c){for(var d=e.__morphT,f=1-d,p=[],g=0;g<v.length;g++){var y=v[g],b=y.from,m=y.to,M=y.rotation*d,x=y.fromCp,S=y.toCp,_=Math.sin(M),w=Math.cos(M);Po(p,x,S,d);for(var A=0;A<b.length;A+=2){var I=b[A],C=b[A+1],k=m[A],D=m[A+1],z=I*f+k*d,B=C*f+D*d;h[A]=z*w-B*_+p[0],h[A+1]=z*_+B*w+p[1]}var E=h[0],N=h[1];c.moveTo(E,N);for(var A=2;A<b.length;){var k=h[A++],D=h[A++],G=h[A++],F=h[A++],X=h[A++],at=h[A++];E===k&&N===D&&G===X&&F===at?c.lineTo(X,at):c.bezierCurveTo(k,D,G,F,X,at),E=X,N=at}}}})}function br(a,e,t){if(!a||!e)return e;var r=t.done,i=t.during;Fi(a,e),e.__morphT=0;function n(){Zt(e,"buildPath"),Zt(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},H({during:function(o){e.dirtyShape(),i&&i(o)},done:function(){n(),r&&r()}},t)),e}function Ch(a,e,t,r,i,n){var o=16;a=i===t?0:Math.round(32767*(a-t)/(i-t)),e=n===r?0:Math.round(32767*(e-r)/(n-r));for(var s=0,l,u=(1<<o)/2;u>0;u/=2){var v=0,h=0;(a&u)>0&&(v=1),(e&u)>0&&(h=1),s+=u*u*(3*v^h),h===0&&(v===1&&(a=u-1-a,e=u-1-e),l=a,a=e,e=l)}return s}function Te(a){var e=1/0,t=1/0,r=-1/0,i=-1/0,n=O(a,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),v=l.x+l.width/2+(u?u[4]:0),h=l.y+l.height/2+(u?u[5]:0);return e=Math.min(v,e),t=Math.min(h,t),r=Math.max(v,r),i=Math.max(h,i),[v,h]}),o=O(n,function(s,l){return{cp:s,z:Ch(s[0],s[1],e,t,r,i),path:a[l]}});return o.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function Zi(a){return Mh(a.path,a.count)}function rr(){return{fromIndividuals:[],toIndividuals:[],count:0}}function Lh(a,e,t){var r=[];function i(x){for(var S=0;S<x.length;S++){var _=x[S];_e(_)?i(_.childrenRef()):_ instanceof Qt&&r.push(_)}}i(a);var n=r.length;if(!n)return rr();var o=t.dividePath||Zi,s=o({path:e,count:n});if(s.length!==n)return console.error("Invalid morphing: unmatched splitted path"),rr();r=Te(r),s=Te(s);for(var l=t.done,u=t.during,v=t.individualDelay,h=new ei,c=0;c<n;c++){var d=r[c],f=s[c];f.parent=e,f.copyTransform(h),v||Fi(d,f)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function p(x){for(var S=0;S<s.length;S++)s[S].addSelfToZr(x)}Ae(e,"addSelfToZr",{after:function(x){p(x)}}),Ae(e,"removeSelfFromZr",{after:function(x){for(var S=0;S<s.length;S++)s[S].removeSelfFromZr(x)}});function g(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,Zt(e,"addSelfToZr"),Zt(e,"removeSelfFromZr")}var y=s.length;if(v)for(var b=y,m=function(){b--,b===0&&(g(),l&&l())},c=0;c<y;c++){var M=v?H({delay:(t.delay||0)+v(c,y,r[c],s[c]),done:m},t):t;br(r[c],s[c],M)}else e.__morphT=0,e.animateTo({__morphT:1},H({during:function(x){for(var S=0;S<y;S++){var _=s[S];_.__morphT=e.__morphT,_.dirtyShape()}u&&u(x)},done:function(){g();for(var x=0;x<a.length;x++)Zt(a[x],"updateTransform");l&&l()}},t));return e.__zr&&p(e.__zr),{fromIndividuals:r,toIndividuals:s,count:y}}function Dh(a,e,t){var r=e.length,i=[],n=t.dividePath||Zi;function o(d){for(var f=0;f<d.length;f++){var p=d[f];_e(p)?o(p.childrenRef()):p instanceof Qt&&i.push(p)}}if(_e(a)){o(a.childrenRef());var s=i.length;if(s<r)for(var l=0,u=s;u<r;u++)i.push(dr(i[l++%s]));i.length=r}else{i=n({path:a,count:r});for(var v=a.getComputedTransform(),u=0;u<i.length;u++)i[u].setLocalTransform(v);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),rr()}i=Te(i),e=Te(e);for(var h=t.individualDelay,u=0;u<r;u++){var c=h?H({delay:(t.delay||0)+h(u,r,i[u],e[u])},t):t;br(i[u],e[u],c)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}function $a(a){return V(a[0])}function Wa(a,e){for(var t=[],r=a.length,i=0;i<r;i++)t.push({one:a[i],many:[]});for(var i=0;i<e.length;i++){var n=e[i].length,o=void 0;for(o=0;o<n;o++)t[o%r].many.push(e[i][o])}for(var s=0,i=r-1;i>=0;i--)if(!t[i].many.length){var l=t[s].many;if(l.length<=1)if(s)s=0;else return t;var n=l.length,u=Math.ceil(n/2);t[i].many=l.slice(u,n),t[s].many=l.slice(0,u),s++}return t}var Ph={clone:function(a){for(var e=[],t=1-Math.pow(1-a.path.style.opacity,1/a.count),r=0;r<a.count;r++){var i=dr(a.path);i.setStyle("opacity",t),e.push(i)}return e},split:null};function We(a,e,t,r,i,n){if(!a.length||!e.length)return;var o=fr("update",r,i);if(!(o&&o.duration>0))return;var s=r.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o),u,v;$a(a)&&(u=a,v=e),$a(e)&&(u=e,v=a);function h(y,b,m,M,x){var S=y.many,_=y.one;if(S.length===1&&!x){var w=b?S[0]:_,A=b?_:S[0];if(_e(w))h({many:[w],one:A},!0,m,M,!0);else{var I=s?H({delay:s(m,M)},l):l;br(w,A,I),n(w,A,w,A,I)}}else for(var C=H({dividePath:Ph[t],individualDelay:s&&function(N,G,F,X){return s(N+m,M)}},l),k=b?Lh(S,_,C):Dh(_,S,C),D=k.fromIndividuals,z=k.toIndividuals,B=D.length,E=0;E<B;E++){var I=s?H({delay:s(E,B)},l):l;n(D[E],z[E],b?S[E]:y.one,b?y.one:S[E],I)}}for(var c=u?u===a:a.length>e.length,d=u?Wa(v,u):Wa(c?e:a,[c?a:e]),f=0,p=0;p<d.length;p++)f+=d[p].many.length;for(var g=0,p=0;p<d.length;p++)h(d[p],c,g,f),g+=d[p].many.length}function Mt(a){if(!a)return[];if(V(a)){for(var e=[],t=0;t<a.length;t++)e.push(Mt(a[t]));return e}var r=[];return a.traverse(function(i){i instanceof Qt&&!i.disableMorphing&&!i.invisible&&!i.ignore&&r.push(i)}),r}var Ui=1e4,Rh=it();function Vh(a){for(var e=a.dimensions,t=0;t<e.length;t++){var r=a.getDimensionInfo(e[t]);if(r&&r.otherDims.itemGroupId===0)return e[t]}}function Fa(a){var e=[];return T(a,function(t){var r=t.data;if(!(r.count()>Ui))for(var i=r.getIndices(),n=Vh(r),o=0;o<i.length;o++)e.push({dataGroupId:t.dataGroupId,data:r,dim:t.dim||n,divide:t.divide,dataIndex:o})}),e}function Fe(a,e,t){a.traverse(function(r){r instanceof Qt&&ce(r,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function Ze(a){if(a.parent){var e=a.getComputedTransform();a.setLocalTransform(e),a.parent.remove(a)}}function Rt(a){a.stopAnimation(),a.isGroup&&a.traverse(function(e){e.stopAnimation()})}function Eh(a,e,t){var r=fr("update",t,e);r&&a.traverse(function(i){if(i instanceof hi){var n=Ro(i);n&&i.animateFrom({style:n},r)}})}function kh(a,e){var t=a.length;if(t!==e.length)return!1;for(var r=0;r<t;r++){var i=a[r],n=e[r];if(i.data.getId(i.dataIndex)!==n.data.getId(n.dataIndex))return!1}return!0}function Yi(a,e,t){var r=Fa(a),i=Fa(e);function n(y,b,m,M,x){(m||y)&&b.animateFrom({style:m&&m!==y?Y(Y({},m.style),y.style):y.style},x)}function o(y){for(var b=0;b<y.length;b++)if(y[b].dim)return y[b].dim}var s=o(r),l=o(i),u=!1;function v(y,b){return function(m){var M=m.data,x=m.dataIndex;if(b)return M.getId(x);var S=m.dataGroupId,_=y?s||l:l||s,w=_&&M.getDimensionInfo(_),A=w&&w.ordinalMeta;if(w){var I=M.get(w.name,x);return A&&A.categories[I]||I+""}var C=M.getRawDataItem(x);return C&&C.groupId?C.groupId+"":S||M.getId(x)}}var h=kh(r,i),c={};if(!h)for(var d=0;d<i.length;d++){var f=i[d],p=f.data.getItemGraphicEl(f.dataIndex);p&&(c[p.id]=!0)}function g(y,b){var m=r[b],M=i[y],x=M.data.hostModel,S=m.data.getItemGraphicEl(m.dataIndex),_=M.data.getItemGraphicEl(M.dataIndex);if(S===_){_&&Eh(_,M.dataIndex,x);return}S&&c[S.id]||_&&(Rt(_),S?(Rt(S),Ze(S),u=!0,We(Mt(S),Mt(_),M.divide,x,y,n)):Fe(_,x,y))}new Gr(r,i,v(!0,h),v(!1,h),null,"multiple").update(g).updateManyToOne(function(y,b){var m=i[y],M=m.data,x=M.hostModel,S=M.getItemGraphicEl(m.dataIndex),_=ut(O(b,function(w){return r[w].data.getItemGraphicEl(r[w].dataIndex)}),function(w){return w&&w!==S&&!c[w.id]});S&&(Rt(S),_.length?(T(_,function(w){Rt(w),Ze(w)}),u=!0,We(Mt(_),Mt(S),m.divide,x,y,n)):Fe(S,x,m.dataIndex))}).updateOneToMany(function(y,b){var m=r[b],M=m.data.getItemGraphicEl(m.dataIndex);if(!(M&&c[M.id])){var x=ut(O(y,function(_){return i[_].data.getItemGraphicEl(i[_].dataIndex)}),function(_){return _&&_!==M}),S=i[y[0]].data.hostModel;x.length&&(T(x,function(_){return Rt(_)}),M?(Rt(M),Ze(M),u=!0,We(Mt(M),Mt(x),m.divide,S,y[0],n)):T(x,function(_){return Fe(_,S,y[0])}))}}).updateManyToMany(function(y,b){new Gr(b,y,function(m){return r[m].data.getId(r[m].dataIndex)},function(m){return i[m].data.getId(i[m].dataIndex)}).update(function(m,M){g(y[m],b[M])}).execute()}).execute(),u&&T(e,function(y){var b=y.data,m=b.hostModel,M=m&&t.getViewOfSeriesModel(m),x=fr("update",m,0);M&&m.isAnimationEnabled()&&x&&x.duration>0&&M.group.traverse(function(S){S instanceof Qt&&!S.animators.length&&S.animateFrom({style:{opacity:0}},x)})})}function Za(a){var e=a.getModel("universalTransition").get("seriesKey");return e||a.id}function Ua(a){return V(a)?a.sort().join(","):a}function pt(a){if(a.hostModel)return a.hostModel.getModel("universalTransition").get("divideShape")}function zh(a,e){var t=dt(),r=dt(),i=dt();return T(a.oldSeries,function(n,o){var s=a.oldDataGroupIds[o],l=a.oldData[o],u=Za(n),v=Ua(u);r.set(v,{dataGroupId:s,data:l}),V(u)&&T(u,function(h){i.set(h,{key:v,dataGroupId:s,data:l})})}),T(e.updatedSeries,function(n){if(n.isUniversalTransitionEnabled()&&n.isAnimationEnabled()){var o=n.get("dataGroupId"),s=n.getData(),l=Za(n),u=Ua(l),v=r.get(u);if(v)t.set(u,{oldSeries:[{dataGroupId:v.dataGroupId,divide:pt(v.data),data:v.data}],newSeries:[{dataGroupId:o,divide:pt(s),data:s}]});else if(V(l)){var h=[];T(l,function(f){var p=r.get(f);p.data&&h.push({dataGroupId:p.dataGroupId,divide:pt(p.data),data:p.data})}),h.length&&t.set(u,{oldSeries:h,newSeries:[{dataGroupId:o,data:s,divide:pt(s)}]})}else{var c=i.get(l);if(c){var d=t.get(c.key);d||(d={oldSeries:[{dataGroupId:c.dataGroupId,data:c.data,divide:pt(c.data)}],newSeries:[]},t.set(c.key,d)),d.newSeries.push({dataGroupId:o,data:s,divide:pt(s)})}}}}),t}function Ya(a,e){for(var t=0;t<a.length;t++){var r=e.seriesIndex!=null&&e.seriesIndex===a[t].seriesIndex||e.seriesId!=null&&e.seriesId===a[t].id;if(r)return t}}function Oh(a,e,t,r){var i=[],n=[];T(mt(a.from),function(o){var s=Ya(e.oldSeries,o);s>=0&&i.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:pt(e.oldData[s]),dim:o.dimension})}),T(mt(a.to),function(o){var s=Ya(t.updatedSeries,o);if(s>=0){var l=t.updatedSeries[s].getData();n.push({dataGroupId:e.oldDataGroupIds[s],data:l,divide:pt(l),dim:o.dimension})}}),i.length>0&&n.length>0&&Yi(i,n,r)}function Bh(a){a.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){T(mt(r.seriesTransition),function(i){T(mt(i.to),function(n){for(var o=r.updatedSeries,s=0;s<o.length;s++)(n.seriesIndex!=null&&n.seriesIndex===o[s].seriesIndex||n.seriesId!=null&&n.seriesId===o[s].id)&&(o[s][Le]=!0)})})}),a.registerUpdateLifecycle("series:transition",function(e,t,r){var i=Rh(t);if(i.oldSeries&&r.updatedSeries&&r.optionChanged){var n=r.seriesTransition;if(n)T(mt(n),function(d){Oh(d,i,r,t)});else{var o=zh(i,r);T(o.keys(),function(d){var f=o.get(d);Yi(f.oldSeries,f.newSeries,t)})}T(r.updatedSeries,function(d){d[Le]&&(d[Le]=!1)})}for(var s=e.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],v=i.oldData=[],h=0;h<s.length;h++){var c=s[h].getData();c.count()<Ui&&(l.push(s[h]),u.push(s[h].get("dataGroupId")),v.push(c))}})}P([Vo]);P([Eo]);P([Wo,Fo,es,rs,as,is,ns,os,ss,ls,us,vs,hs,cs,ds,fs,ps,gs,ys,ms,xs,Ss]);P(ko);P(Al);P(bs);P(Hl);P(Ms);P(Xl);P(au);P(Ps);P(zo);P(vr);P(_u);P(Oo);P(Bu);P(Rs);P(Uu);P(tv);P(Bo);P(Mv);P(Vi);P(Ei);P(Kv);P(Gi);P(Ni);P(th);P(dh);P(Go);P(Bh);P(Fs);export{ic as Axis,nc as ChartView,oc as ComponentModel,sc as ComponentView,Kc as List,lc as Model,uc as PRIORITY,vc as SeriesModel,hc as color,cc as connect,dc as dataTool,fc as dependencies,pc as disConnect,gc as disconnect,yc as dispose,mc as env,ec as extendChartView,Jh as extendComponentModel,Qh as extendComponentView,tc as extendSeriesModel,qh as format,xc as getCoordinateSystemDimensions,Sc as getInstanceByDom,bc as getInstanceById,Mc as getMap,Kh as graphic,Uh as helper,_c as init,Ac as innerDrawElementOnCanvas,Tc as matrix,Yh as number,jc as parseGeoJSON,Jc as parseGeoJson,wc as registerAction,Ic as registerCoordinateSystem,Cc as registerLayout,Lc as registerLoading,Dc as registerLocale,Pc as registerMap,Rc as registerPostInit,Vc as registerPostUpdate,Ec as registerPreprocessor,kc as registerProcessor,zc as registerTheme,Oc as registerTransform,Bc as registerUpdateLifecycle,Gc as registerVisual,Nc as setCanvasCreator,Hc as setPlatformAPI,$c as throttle,Xh as time,Wc as use,jh as util,Fc as vector,Zc as version,Uc as zrUtil,Yc as zrender};
//# sourceMappingURL=index.ae66cb2a.js.map
