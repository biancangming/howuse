{"version":3,"file":"index.da4c2be9.js","sources":["../../../src/vueComponent/dragDrop/context.ts","../../../src/vueComponent/dragDrop/dragDrop.vue","../../src/views/vueComponents/dragDrop/demo/index.md","../../src/views/vueComponents/dragDrop/demo2/index.md","../../src/views/vueComponents/dragDrop/demo3/index.vue","../../src/views/vueComponents/dragDrop/demo3/index.md","../../src/views/vueComponents/dragDrop/api.md"],"sourcesContent":["// 用户拖拽之间拖拽的与目标对象之间数据传递\r\nconst __EL__DATA = { el: undefined }\r\nexport function useTransferContext() {\r\n  let data = new Proxy(__EL__DATA, {\r\n    get(obj, prop) {\r\n      const target = obj[prop]\r\n      Reflect.deleteProperty(obj, prop)\r\n      return target\r\n    }\r\n  })\r\n\r\n  function setData(_data = {}) {\r\n    Object.assign(data, _data)\r\n  }\r\n\r\n  function getData(key: string) {\r\n    return data[key]\r\n  }\r\n\r\n  function getDatas() {\r\n    const d = {}\r\n    for (const key in data) {\r\n      d[key] = data[key]\r\n    }\r\n    return d\r\n  }\r\n\r\n  return {\r\n    setData,\r\n    getData,\r\n    getDatas\r\n  }\r\n}","<template>\r\n  <span :class=\"prefixCls\" ref=\"dragEl\" :draggable=\"draggable\" @drag=\"drag\" @dragleave=\"dragleave\"\r\n    @dragstart=\"dragstart\" @dragover=\"dragover\" @dragend=\"dragend\" @dragenter=\"dragenter\" @drop=\"drop\"\r\n    dropeffect=\"move\">\r\n    <slot :dropData=\"dropData\"></slot>\r\n  </span>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { usePrefixCls } from '../../less/useDesign';\r\nimport { useTransferContext } from './context';\r\nimport { PropType } from 'vue';\r\nconst props = defineProps({\r\n  dragDom: {\r\n    type: Boolean,\r\n    default: true\r\n  },\r\n  draggable: {\r\n    type: Boolean,\r\n    default: true\r\n  },\r\n  data: {\r\n    type: Object as PropType<any>\r\n  },\r\n})\r\nconst prefixCls = usePrefixCls(\"drag-drop\")\r\nconst dragEl = ref()\r\nconst { setData, getData } = useTransferContext()\r\nconst dropData = shallowRef({})\r\n\r\n\r\n\r\nconst emit = defineEmits<{\r\n  (e: \"dragstart\", ev: DragEventInit): void;\r\n  (e: \"drag\", ev: DragEventInit): void;\r\n  (e: \"dragleave\", ev: DragEventInit): void;\r\n  (e: \"dragenter\", ev: DragEventInit): void;\r\n  (e: \"dragover\", ev: DragEventInit): void;\r\n  (e: \"dragend\", ev: DragEventInit): void;\r\n  (e: \"drop\", ev: DragEventInit, { }): void;\r\n}>()\r\n\r\n// 拖动元素或选择文本时触发此事件。\r\nfunction drag(ev) {\r\n  emit(\"drag\", ev);\r\n}\r\n\r\n// dragstart 拖拽行为开始\r\nfunction dragstart(ev: DragEventInit) {\r\n  setData({\r\n    el: props.dragDom ?\r\n      unref(dragEl).children[0] :\r\n      undefined\r\n    , data: props.data\r\n  })\r\n  emit(\"dragstart\", ev);\r\n}\r\n\r\n// dragleave 拖拽元素离开拖拽对象\r\nfunction dragleave(ev) {\r\n  emit(\"dragleave\", ev);\r\n}\r\n\r\n// dragenter 拖拽元素放置到目标元素上方\r\nfunction dragenter(ev) {\r\n  emit(\"dragenter\", ev);\r\n}\r\n\r\n// dragover 拖拽到达目标元素上方\r\nfunction dragover(ev) {\r\n  ev.preventDefault();\r\n  emit(\"dragover\", ev);\r\n}\r\n\r\n// drop 放置元素触发\r\nfunction drop(ev) {\r\n  ev.preventDefault();\r\n  const el = getData(\"el\")\r\n  dropData.value = getData(\"data\")\r\n  // 如果需要移动整个dom\r\n  if (el) ev.target.appendChild(el);\r\n  emit(\"drop\", ev, { el, dropData: unref(dropData) });\r\n}\r\n\r\n// drop 放置元素触发\r\nfunction dragend(ev) {\r\n  emit(\"dragend\", ev);\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@prefixCls: ~\"@{namespace}-drag-drop\";\r\n\r\n.@{prefixCls} {\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>","\n<script setup lang=\"ts\">\nconst excerpt = undefined\n  defineExpose({ frontmatter: {}, excerpt: undefined })\n</script>\n<script lang=\"ts\">\n/** frontmatter meta-data for MD page **/\nexport interface Frontmatter {\n  title?: string\n  description?: string\n  subject?: string\n  category?: string\n  name?: string\n  excerpt?: string\n  image?: string\n  layout?: string\n  requiredAuth?: boolean\n  meta?: Record<string, any>[]\n  [key: string]: unknown\n}\nexport const frontmatter: Frontmatter = {}\nexport const excerpt: string | undefined = \"\"\n\n</script>\n<template>\n<div class=\"markdown-body\"><pre class=\"language-vue\"><code class=\"language-vue\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>drag-wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>data-wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token comment\">&lt;!-- how-drag-drop 默认宽高都是继承父元素100%，\r\n        拖放会将容器内部元素拖走，建议只有一个根元素，否则会有点问题 \r\n      --></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>how-drag-drop</span><span class=\"token punctuation\">></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>drag<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>HOWUSE<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>how-drag-drop</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>data-wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>how-drag-drop</span> <span class=\"token attr-name\">dom</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>how-drag-drop</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ts<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">setup</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> HowDragDrop <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"howuse/vueComponent\"</span><span class=\"token punctuation\">;</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>less<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">scoped</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\r\n<span class=\"token selector\">.drag-wrapper</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\r\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 300px<span class=\"token punctuation\">;</span>\r\n  <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> space-around<span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token selector\">.data-wrapper</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px dashed <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.608<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\r\n    <span class=\"token selector\">.drag</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> green<span class=\"token punctuation\">;</span>\r\n      <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></code></pre>\n</div>\n</template>\n","\n<script setup lang=\"ts\">\nconst excerpt = undefined\n  defineExpose({ frontmatter: {}, excerpt: undefined })\n</script>\n<script lang=\"ts\">\n/** frontmatter meta-data for MD page **/\nexport interface Frontmatter {\n  title?: string\n  description?: string\n  subject?: string\n  category?: string\n  name?: string\n  excerpt?: string\n  image?: string\n  layout?: string\n  requiredAuth?: boolean\n  meta?: Record<string, any>[]\n  [key: string]: unknown\n}\nexport const frontmatter: Frontmatter = {}\nexport const excerpt: string | undefined = \"\"\n\n</script>\n<template>\n<div class=\"markdown-body\"><pre class=\"language-vue\"><code class=\"language-vue\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>drag-wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>data-wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token comment\">&lt;!-- how-drag-drop 默认宽高都是继承父元素100%， \r\n        拖放会将容器内部元素拖走，建议只有一个根元素，否则会有点问题 \r\n      --></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>how-drag-drop</span> <span class=\"token attr-name\">:dragDom</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:data</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{ name: '张三', age: 18 }<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>drag<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>HOWUSE<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>how-drag-drop</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>data-wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token comment\">&lt;!-- 单向拖动，该元素draggable设置为false --></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>how-drag-drop</span> <span class=\"token attr-name\">:draggable</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">v-slot</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{ dropData }<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n        &#123&#123 dropData &#125&#125\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>how-drag-drop</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>data-wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token comment\">&lt;!-- 单向拖动，该元素draggable设置为false --></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>how-drag-drop</span> <span class=\"token attr-name\">:draggable</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">v-slot</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{ dropData }<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n        &#123&#123 dropData &#125&#125\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>how-drag-drop</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ts<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">setup</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> HowDragDrop <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"howuse/vueComponent\"</span><span class=\"token punctuation\">;</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>less<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">scoped</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\r\n<span class=\"token selector\">.drag-wrapper</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\r\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 500px<span class=\"token punctuation\">;</span>\r\n  <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> space-around<span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token selector\">.data-wrapper</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px dashed <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.608<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token selector\">.drag</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> green<span class=\"token punctuation\">;</span>\r\n      <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></code></pre>\n</div>\n</template>\n","<template>\r\n  <div class=\"drag-wrapper\">\r\n    <div class=\"data-wrapper\">\r\n      <!-- how-drag-drop 默认宽高都是继承父元素100%， \r\n        拖放会将容器内部元素拖走，建议只有一个根元素，否则会有点问题 \r\n      -->\r\n      <how-drag-drop :dragDom=\"false\" :data=\"{ name: '张三', age: 18 }\">\r\n        <div class=\"drag\">HOWUSE</div>\r\n      </how-drag-drop>\r\n    </div>\r\n    <div class=\"target-data-wrapper\" ref=\"boundary\">\r\n      <!-- 单向拖动，该元素draggable设置为false -->\r\n      <how-drag-drop :draggable=\"false\" @drop=\"drop\" style=\"position: relative\">\r\n        <template v-for=\"(postion, index) in postions\">\r\n          <UseDraggable :boundary=\"boundary\" :position=\"[postion.x, postion.y]\"\r\n            @update-data=\"(data) => updataData(index, data)\">\r\n            <div class=\"drag\">HOWUSE</div>\r\n          </UseDraggable>\r\n        </template>\r\n      </how-drag-drop>\r\n    </div>\r\n    <div class=\"target-data-wrapper\">\r\n      {{ postions }}\r\n    </div>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { HowDragDrop } from \"howuse/vueComponent\";\r\nimport { useDraggable } from \"@vueuse/core\";\r\n\r\nconst boundary = ref()\r\nconst postions = ref<{ x: number, y: number, data: [] }[]>([])\r\n\r\nfunction drop(ev, data) {\r\n  postions.value.push({ x: ev.offsetX, y: ev.offsetY, data: data.dropData })\r\n}\r\n\r\nfunction updataData(index, data) {\r\n  postions.value[index] = { ...postions.value[index], x: data.x, y: data.y}\r\n}\r\n\r\n// 可拖拽组件容器\r\nconst UseDraggable = defineComponent<{ boundary: any; position: [number, number] }>({\r\n  name: 'UseDraggable',\r\n  props: [\r\n    'position',\r\n    'boundary', // 边界元素\r\n  ] as unknown as undefined,\r\n  setup(props, { slots, emit }) {\r\n    const target = ref() // 当前拖动的位置\r\n    const handle = computed(() => target.value)  // 整体元素\r\n\r\n    const data = useDraggable(target, {\r\n      handle,\r\n      initialValue: computed(() => props.position ? { x: props.position[0], y: props.position[1] } : { x: 0, y: 0 }),\r\n      containerElement: computed(() => props.boundary),\r\n    })\r\n\r\n    watchEffect(() => emit(\"update-data\", data))\r\n\r\n    return () => {\r\n      if (slots.default)\r\n        return h('div', { ref: target, style: `touch-action:none;position: absolute;${unref(data.style)}` }, slots.default(reactive(data)))\r\n    }\r\n  },\r\n})\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.drag-wrapper {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  gap: 20px;\r\n\r\n  .data-wrapper {\r\n    border: 1px dashed rgba(0, 0, 0, 0.608);\r\n    height: 100px;\r\n    width: 100px;\r\n    padding: 10px;\r\n\r\n    .drag {\r\n      background-color: green;\r\n      height: 100%;\r\n    }\r\n  }\r\n\r\n  .target-data-wrapper {\r\n    border: 1px dashed rgba(0, 0, 0, 0.608);\r\n    height: 500px;\r\n    width: 500px;\r\n    position: relative;\r\n\r\n    .drag {\r\n      background-color: green;\r\n      height: 100px;\r\n      width: 100px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","\n<script setup lang=\"ts\">\nconst excerpt = undefined\n  defineExpose({ frontmatter: {}, excerpt: undefined })\n</script>\n<script lang=\"ts\">\n/** frontmatter meta-data for MD page **/\nexport interface Frontmatter {\n  title?: string\n  description?: string\n  subject?: string\n  category?: string\n  name?: string\n  excerpt?: string\n  image?: string\n  layout?: string\n  requiredAuth?: boolean\n  meta?: Record<string, any>[]\n  [key: string]: unknown\n}\nexport const frontmatter: Frontmatter = {}\nexport const excerpt: string | undefined = \"\"\n\n</script>\n<template>\n<div class=\"markdown-body\"><pre class=\"language-vue\"><code class=\"language-vue\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>drag-wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>data-wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token comment\">&lt;!-- how-drag-drop 默认宽高都是继承父元素100%， \r\n        拖放会将容器内部元素拖走，建议只有一个根元素，否则会有点问题 \r\n      --></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>how-drag-drop</span> <span class=\"token attr-name\">:dragDom</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:data</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{ name: '张三', age: 18 }<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>drag<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>HOWUSE<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>how-drag-drop</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>target-data-wrapper<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>boundary<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token comment\">&lt;!-- 单向拖动，该元素draggable设置为false --></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>how-drag-drop</span> <span class=\"token attr-name\">:draggable</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">@drop</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>drop<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>(postion, index) in postions<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>UseDraggable</span> <span class=\"token attr-name\">:boundary</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>boundary<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:position</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[postion.x, postion.y]<span class=\"token punctuation\">\"</span></span>\r\n            <span class=\"token attr-name\">@update-data</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>(data) => updataData(index, data)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>drag<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>HOWUSE<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>UseDraggable</span><span class=\"token punctuation\">></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>how-drag-drop</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>target-data-wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n      &#123&#123 postions &#125&#125\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ts<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">setup</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> HowDragDrop <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"howuse/vueComponent\"</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useDraggable <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@vueuse/core\"</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> boundary <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">const</span> postions <span class=\"token operator\">=</span> ref<span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> number<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> number<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">drop</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ev<span class=\"token punctuation\">,</span> data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  postions<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> ev<span class=\"token punctuation\">.</span>offsetX<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> ev<span class=\"token punctuation\">.</span>offsetY<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> data<span class=\"token punctuation\">.</span>dropData <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">updataData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">index<span class=\"token punctuation\">,</span> data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  postions<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>postions<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> data<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> data<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token comment\">// 可拖拽组件容器</span>\r\n<span class=\"token keyword\">const</span> UseDraggable <span class=\"token operator\">=</span> defineComponent<span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">boundary</span><span class=\"token operator\">:</span> any<span class=\"token punctuation\">;</span> position<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>number<span class=\"token punctuation\">,</span> number<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'UseDraggable'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">props</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n    <span class=\"token string\">'position'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token string\">'boundary'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 边界元素</span>\r\n  <span class=\"token punctuation\">]</span> <span class=\"token keyword\">as</span> unknown <span class=\"token keyword\">as</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> slots<span class=\"token punctuation\">,</span> emit <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> target <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 当前拖动的位置</span>\r\n    <span class=\"token keyword\">const</span> handle <span class=\"token operator\">=</span> <span class=\"token function\">computed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span>  <span class=\"token comment\">// 整体元素</span>\r\n\r\n    <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">useDraggable</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n      handle<span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">initialValue</span><span class=\"token operator\">:</span> <span class=\"token function\">computed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> props<span class=\"token punctuation\">.</span>position <span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> props<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> props<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">containerElement</span><span class=\"token operator\">:</span> <span class=\"token function\">computed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> props<span class=\"token punctuation\">.</span>boundary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token function\">watchEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"update-data\"</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>slots<span class=\"token punctuation\">.</span>default<span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token function\">h</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">ref</span><span class=\"token operator\">:</span> target<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">style</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">touch-action:none;position: absolute;</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">unref</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> slots<span class=\"token punctuation\">.</span><span class=\"token function\">default</span><span class=\"token punctuation\">(</span><span class=\"token function\">reactive</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>less<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">scoped</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\r\n<span class=\"token selector\">.drag-wrapper</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\r\n  <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> space-around<span class=\"token punctuation\">;</span>\r\n  <span class=\"token property\">gap</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token selector\">.data-wrapper</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px dashed <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.608<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token selector\">.drag</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> green<span class=\"token punctuation\">;</span>\r\n      <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token selector\">.target-data-wrapper</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px dashed <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.608<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 500px<span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 500px<span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token selector\">.drag</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> green<span class=\"token punctuation\">;</span>\r\n      <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\r\n      <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></code></pre>\n</div>\n</template>\n","\n<script setup lang=\"ts\">\nconst excerpt = undefined\n  defineExpose({ frontmatter: {}, excerpt: undefined })\n</script>\n<script lang=\"ts\">\n/** frontmatter meta-data for MD page **/\nexport interface Frontmatter {\n  title?: string\n  description?: string\n  subject?: string\n  category?: string\n  name?: string\n  excerpt?: string\n  image?: string\n  layout?: string\n  requiredAuth?: boolean\n  meta?: Record<string, any>[]\n  [key: string]: unknown\n}\nexport const frontmatter: Frontmatter = {}\nexport const excerpt: string | undefined = \"\"\n\n</script>\n<template>\n<div class=\"markdown-body\"><h1>API 说明</h1>\n<p>默认支持全套的拖放事件，和原生保持一致。可参考学习：<a href=\"https://juejin.cn/post/7158748498668552229\">https://juejin.cn/post/7158748498668552229</a></p>\n<h2>props &amp; event</h2>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>说明</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>draggable</td>\n<td>是否是一个可拖放的元素，默认<code>true</code></td>\n<td>true/false</td>\n</tr>\n<tr>\n<td>data</td>\n<td>拖放元素绑定的数据</td>\n<td>any</td>\n</tr>\n<tr>\n<td>dragDom</td>\n<td>是否拖动内部HTML元素到目标位置，默认<code>true</code></td>\n<td>boolean</td>\n</tr>\n<tr>\n<td>dragstart</td>\n<td>拖拽元素起始会调用</td>\n<td>(ev: DragEventInit)=&gt;void</td>\n</tr>\n<tr>\n<td>drag</td>\n<td>元素发生拖拽，只要拖拽元素离开原本位置会一直调用</td>\n<td>(ev: DragEventInit)=&gt;void</td>\n</tr>\n<tr>\n<td>dragleave</td>\n<td>元素完全离开原来的位置开始调用</td>\n<td>(ev: DragEventInit)=&gt;void</td>\n</tr>\n<tr>\n<td>dragenter</td>\n<td>元素开始进入目标区域</td>\n<td>(ev: DragEventInit)=&gt;void</td>\n</tr>\n<tr>\n<td>dragover</td>\n<td>元素被拖拽到目标区域上方</td>\n<td>(ev: DragEventInit)=&gt;void</td>\n</tr>\n<tr>\n<td>drop</td>\n<td>元素落在目标元素上方时调用，el是拖放的dom元素，data是拖放元素绑定的数据</td>\n<td>(ev: DragEventInit, {el, dropData})=&gt;void</td>\n</tr>\n<tr>\n<td>dragend</td>\n<td>元素还未到达目标区域，就点击Esc案件或者鼠标释放调用</td>\n<td>(ev: DragEventInit)=&gt;void</td>\n</tr>\n</tbody>\n</table>\n<h2>slot</h2>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>default</td>\n<td>数据 <code>dropData</code> ,这个数据实际上是dragData 是拖放元素传入的数据</td>\n</tr>\n</tbody>\n</table>\n</div>\n</template>\n"],"names":["__EL__DATA","useTransferContext","data","obj","prop","target","setData","_data","getData","key","getDatas","d","prefixCls","usePrefixCls","dragEl","ref","dropData","shallowRef","drag","ev","emit","dragstart","props","unref","dragleave","dragenter","dragover","drop","el","dragend","expose","boundary","postions","updataData","index","UseDraggable","defineComponent","slots","handle","computed","useDraggable","watchEffect","h","reactive"],"mappings":"2TACA,MAAMA,EAAa,CAAE,GAAI,QAClB,SAASC,GAAqB,CAC/B,IAAAC,EAAO,IAAI,MAAMF,EAAY,CAC/B,IAAIG,EAAKC,EAAM,CACb,MAAMC,EAASF,EAAIC,GACX,eAAA,eAAeD,EAAKC,CAAI,EACzBC,CACT,CAAA,CACD,EAEQ,SAAAC,EAAQC,EAAQ,GAAI,CACpB,OAAA,OAAOL,EAAMK,CAAK,CAC3B,CAEA,SAASC,EAAQC,EAAa,CAC5B,OAAOP,EAAKO,EACd,CAEA,SAASC,GAAW,CAClB,MAAMC,EAAI,CAAA,EACV,UAAWF,KAAOP,EAChBS,EAAEF,GAAOP,EAAKO,GAET,OAAAE,CACT,CAEO,MAAA,CACL,QAAAL,EACA,QAAAE,EACA,SAAAE,CAAA,CAEJ,wOCRAE,EAAAC,EAAA,WAAA,EACAC,EAAAC,IACA,CAAA,QAAAT,EAAA,QAAAE,CAAA,EAAAP,EAAA,EACAe,EAAAC,EAAA,CAAA,CAAA,EAeA,SAAAC,EAAAC,EAAA,CACEC,EAAA,OAAAD,CAAA,CAAe,CAIjB,SAAAE,EAAAF,EAAA,CACEb,EAAA,CAAQ,GAAAgB,EAAA,QAAAC,EAAAT,CAAA,EAAA,SAAA,GAAA,OAGJ,KAAAQ,EAAA,IACY,CAAA,EAEhBF,EAAA,YAAAD,CAAA,CAAoB,CAItB,SAAAK,EAAAL,EAAA,CACEC,EAAA,YAAAD,CAAA,CAAoB,CAItB,SAAAM,EAAAN,EAAA,CACEC,EAAA,YAAAD,CAAA,CAAoB,CAItB,SAAAO,EAAAP,EAAA,CACEA,EAAA,eAAA,EACAC,EAAA,WAAAD,CAAA,CAAmB,CAIrB,SAAAQ,EAAAR,EAAA,CACEA,EAAA,eAAA,EACA,MAAAS,EAAApB,EAAA,IAAA,EACAQ,EAAA,MAAAR,EAAA,MAAA,EAEAoB,GAAQT,EAAA,OAAA,YAAAS,CAAA,EACRR,EAAA,OAAAD,EAAA,CAAA,GAAAS,EAAA,SAAAL,EAAAP,CAAA,CAAA,CAAA,CAAkD,CAIpD,SAAAa,EAAAV,EAAA,CACEC,EAAA,UAAAD,CAAA,CAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4NClFlB,OAAAW,EAAa,CAAE,YAAa,CAAA,EAAI,QAAS,OAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4NCApD,OAAAA,EAAa,CAAE,YAAa,CAAA,EAAI,QAAS,OAAW,yQC2BtD,MAAAC,EAAAhB,IACAiB,EAAAjB,EAAA,CAAA,CAAA,EAEA,SAAAY,EAAAR,EAAAjB,EAAA,CACE8B,EAAA,MAAA,KAAA,CAAA,EAAAb,EAAA,QAAA,EAAAA,EAAA,QAAA,KAAAjB,EAAA,QAAA,CAAA,CAAyE,CAG3E,SAAA+B,EAAAC,EAAAhC,EAAA,CACE8B,EAAA,MAAAE,GAAA,CAAA,GAAAF,EAAA,MAAAE,GAAA,EAAAhC,EAAA,EAAA,EAAAA,EAAA,CAAA,CAAwE,CAI1E,MAAAiC,EAAAC,EAAA,CAAoF,KAAA,eAC5E,MAAA,CACC,WACL,UACA,EACF,MAAAd,EAAA,CAAA,MAAAe,EAAA,KAAAjB,CAAA,EAAA,CAEE,MAAAf,EAAAU,IACAuB,EAAAC,EAAA,IAAAlC,EAAA,KAAA,EAEAH,EAAAsC,EAAAnC,EAAA,CAAkC,OAAAiC,EAChC,aAAAC,EAAA,IAAAjB,EAAA,SAAA,CAAA,EAAAA,EAAA,SAAA,GAAA,EAAAA,EAAA,SAAA,EAAA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAC6G,iBAAAiB,EAAA,IAAAjB,EAAA,QAAA,CAC9D,CAAA,EAGjDmB,OAAAA,EAAA,IAAArB,EAAA,cAAAlB,CAAA,CAAA,EAEA,IAAA,CACE,GAAAmC,EAAA,QACE,OAAAK,EAAA,MAAA,CAAA,IAAArC,EAAA,MAAA,wCAAAkB,EAAArB,EAAA,KAAA,GAAA,EAAAmC,EAAA,QAAAM,EAAAzC,CAAA,CAAA,CAAA,CAAkI,CACtI,CACF,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4NC7DA,OAAA4B,EAAa,CAAE,YAAa,CAAA,EAAI,QAAS,OAAW,m9ECApD,OAAAA,EAAa,CAAE,YAAa,CAAA,EAAI,QAAS,OAAW"}