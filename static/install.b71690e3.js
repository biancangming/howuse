import{c as it,e as N,a8 as ir,d as Z,F as z,a9 as kt,aa as nr,ab as kr,ac as xr,ad as de,ae as Br,af as Gr,ag as Ft,I as ht,t as dt,ah as Fr,k as zr,ai as Vr,x as H,aj as Ur,b as et,H as _t,ak as Wr,q as yt,al as re,am as sr,an as Hr,ao as Xr,ap as $r,aq as Zr,ar as ye,B as Dt,as as Yr,at as jr,au as Kr,S as It,j as J,av as qr,aw as Jr,ax as Qr,ay as ta,A as ea,az as ra,_ as V,aA as tt,m as _e,aB as aa,aC as ia,aD as na,aE as bt,aF as sa,L as oa,aG as ua,aH as la,aI as De,aJ as Yt,o as ha,p as va,aK as $,aL as or,aM as Q,aN as xt,aO as fa,aP as ca,aQ as ae,aR as Rt,a1 as rt,aS as be,aT as ga,aU as ur,aV as ie,V as Nt,aW as lt,aX as pa,aY as Se,aZ as Bt,a_ as Ae,a$ as Ct,b0 as ne,b1 as Ie,b2 as jt,b3 as Ce,b4 as Mt,b5 as we,Z as ma,b6 as da,b7 as lr,b8 as ya,b9 as Oe,ba as _a,bb as Da,bc as ba,bd as Pe,be as Te,bf as Sa,bg as Aa,bh as Ia,bi as Ca}from"./index.767c3463.js";function ct(a){return a==null?0:a.length||1}function Le(a){return a}var wa=function(){function a(t,e,r,i,n,s){this._old=t,this._new=e,this._oldKeyGetter=r||Le,this._newKeyGetter=i||Le,this.context=n,this._diffModeMultiple=s==="multiple"}return a.prototype.add=function(t){return this._add=t,this},a.prototype.update=function(t){return this._update=t,this},a.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},a.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},a.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},a.prototype.remove=function(t){return this._remove=t,this},a.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},a.prototype._executeOneToOne=function(){var t=this._old,e=this._new,r={},i=new Array(t.length),n=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,r,n,"_newKeyGetter");for(var s=0;s<t.length;s++){var o=i[s],u=r[o],l=ct(u);if(l>1){var h=u.shift();u.length===1&&(r[o]=u[0]),this._update&&this._update(h,s)}else l===1?(r[o]=null,this._update&&this._update(u,s)):this._remove&&this._remove(s)}this._performRestAdd(n,r)},a.prototype._executeMultiple=function(){var t=this._old,e=this._new,r={},i={},n=[],s=[];this._initIndexMap(t,r,n,"_oldKeyGetter"),this._initIndexMap(e,i,s,"_newKeyGetter");for(var o=0;o<n.length;o++){var u=n[o],l=r[u],h=i[u],v=ct(l),c=ct(h);if(v>1&&c===1)this._updateManyToOne&&this._updateManyToOne(h,l),i[u]=null;else if(v===1&&c>1)this._updateOneToMany&&this._updateOneToMany(h,l),i[u]=null;else if(v===1&&c===1)this._update&&this._update(h,l),i[u]=null;else if(v>1&&c>1)this._updateManyToMany&&this._updateManyToMany(h,l),i[u]=null;else if(v>1)for(var f=0;f<v;f++)this._remove&&this._remove(l[f]);else this._remove&&this._remove(l)}this._performRestAdd(s,i)},a.prototype._performRestAdd=function(t,e){for(var r=0;r<t.length;r++){var i=t[r],n=e[i],s=ct(n);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(n[o]);else s===1&&this._add&&this._add(n);e[i]=null}},a.prototype._initIndexMap=function(t,e,r,i){for(var n=this._diffModeMultiple,s=0;s<t.length;s++){var o="_ec_"+this[i](t[s],s);if(n||(r[s]=o),!!e){var u=e[o],l=ct(u);l===0?(e[o]=s,n&&r.push(o)):l===1?e[o]=[u,s]:u.push(s)}}},a}();const hr=wa;var Oa=function(){function a(t,e){this._encode=t,this._schema=e}return a.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},a.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},a}();function Pa(a,t){var e={},r=e.encode={},i=it(),n=[],s=[],o={};N(a.dimensions,function(c){var f=a.getDimensionInfo(c),g=f.coordDim;if(g){var p=f.coordDimIndex;zt(r,g)[p]=c,f.isExtraCoord||(i.set(g,1),La(f.type)&&(n[0]=c),zt(o,g)[p]=a.getDimensionIndex(f.name)),f.defaultTooltip&&s.push(c)}ir.each(function(y,m){var d=zt(r,m),_=f.otherDims[m];_!=null&&_!==!1&&(d[_]=f.name)})});var u=[],l={};i.each(function(c,f){var g=r[f];l[f]=g[0],u=u.concat(g)}),e.dataDimsOnCoord=u,e.dataDimIndicesOnCoord=Z(u,function(c){return a.getDimensionInfo(c).storeDimIndex}),e.encodeFirstDimNotExtra=l;var h=r.label;h&&h.length&&(n=h.slice());var v=r.tooltip;return v&&v.length?s=v.slice():s.length||(s=n.slice()),r.defaultedLabel=n,r.defaultedTooltip=s,e.userOutput=new Oa(o,t),e}function zt(a,t){return a.hasOwnProperty(t)||(a[t]=[]),a[t]}function Ta(a){return a==="category"?"ordinal":a==="time"?"time":"float"}function La(a){return!(a==="ordinal"||a==="time")}var Ma=function(){function a(t){this.otherDims={},t!=null&&z(this,t)}return a}();const Et=Ma;var gt=_t,Y=Z,Ea=typeof Int32Array>"u"?Array:Int32Array,Ra="e\0\0",Me=-1,Na=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],ka=["_approximateExtent"],Ee,wt,pt,mt,Vt,Ot,Ut,xa=function(){function a(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,i=!1;Wr(t)?(r=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,r=t),r=r||["x","y"];for(var n={},s=[],o={},u=!1,l={},h=0;h<r.length;h++){var v=r[h],c=yt(v)?new Et({name:v}):v instanceof Et?v:new Et(v),f=c.name;c.type=c.type||"float",c.coordDim||(c.coordDim=f,c.coordDimIndex=0);var g=c.otherDims=c.otherDims||{};s.push(f),n[f]=c,l[f]!=null&&(u=!0),c.createInvertedIndices&&(o[f]=[]),g.itemName===0&&(this._nameDimIdx=h),g.itemId===0&&(this._idDimIdx=h),i&&(c.storeDimIndex=h)}if(this.dimensions=s,this._dimInfos=n,this._initGetDimensionInfo(u),this.hostModel=e,this._invertedIndicesMap=o,this._dimOmitted){var p=this._dimIdxToName=it();N(s,function(y){p.set(n[y].storeDimIndex,y)})}}return a.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(e==null)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var r=this._dimIdxToName.get(e);if(r!=null)return r;var i=this._schema.getSourceDimension(e);if(i)return i.name},a.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(e!=null)return e;if(t==null)return-1;var r=this._getDimInfo(t);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},a.prototype._recognizeDimIndex=function(t){if(kt(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},a.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},a.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},a.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(r){return e.hasOwnProperty(r)?e[r]:void 0}:function(r){return e[r]}},a.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},a.prototype.mapDimension=function(t,e){var r=this._dimSummary;if(e==null)return r.encodeFirstDimNotExtra[t];var i=r.encode[t];return i?i[e]:null},a.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,r=e.encode[t];return(r||[]).slice()},a.prototype.getStore=function(){return this._store},a.prototype.initData=function(t,e,r){var i=this,n;if(t instanceof de&&(n=t),!n){var s=this.dimensions,o=nr(t)||kr(t)?new xr(t,s.length):t;n=new de;var u=Y(s,function(l){return{type:i._dimInfos[l].type,property:l}});n.initData(o,u,r)}this._store=n,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,n.count()),this._dimSummary=Pa(this,this._schema),this.userOutput=this._dimSummary.userOutput},a.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},a.prototype.appendValues=function(t,e){var r=this._store.appendValues(t,e.length),i=r.start,n=r.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var o=i;o<n;o++){var u=o-i;this._nameList[o]=e[u],s&&Ut(this,o)}},a.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,r=0;r<e.length;r++){var i=this._dimInfos[e[r]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},a.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==Br&&!t.fillStorage},a.prototype._doInit=function(t,e){if(!(t>=e)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var n=this._nameList,s=this._idList,o=i.getSource().sourceFormat,u=o===re;if(u&&!i.pure)for(var l=[],h=t;h<e;h++){var v=i.getItem(h,l);if(!this.hasItemOption&&Gr(v)&&(this.hasItemOption=!0),v){var c=v.name;n[h]==null&&c!=null&&(n[h]=Ft(c,null));var f=v.id;s[h]==null&&f!=null&&(s[h]=Ft(f,null))}}if(this._shouldMakeIdFromName())for(var h=t;h<e;h++)Ut(this,h);Ee(this)}},a.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},a.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},a.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},a.prototype.setCalculationInfo=function(t,e){gt(t)?z(this._calculationInfo,t):this._calculationInfo[t]=e},a.prototype.getName=function(t){var e=this.getRawIndex(t),r=this._nameList[e];return r==null&&this._nameDimIdx!=null&&(r=pt(this,this._nameDimIdx,e)),r==null&&(r=""),r},a.prototype._getCategory=function(t,e){var r=this._store.get(t,e),i=this._store.getOrdinalMeta(t);return i?i.categories[r]:r},a.prototype.getId=function(t){return wt(this,this.getRawIndex(t))},a.prototype.count=function(){return this._store.count()},a.prototype.get=function(t,e){var r=this._store,i=this._dimInfos[t];if(i)return r.get(i.storeDimIndex,e)},a.prototype.getByRawIndex=function(t,e){var r=this._store,i=this._dimInfos[t];if(i)return r.getByRawIndex(i.storeDimIndex,e)},a.prototype.getIndices=function(){return this._store.getIndices()},a.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},a.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},a.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},a.prototype.getValues=function(t,e){var r=this,i=this._store;return ht(t)?i.getValues(Y(t,function(n){return r._getStoreDimIndex(n)}),e):i.getValues(t)},a.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,r=0,i=e.length;r<i;r++)if(isNaN(this._store.get(e[r],t)))return!1;return!0},a.prototype.indexOfName=function(t){for(var e=0,r=this._store.count();e<r;e++)if(this.getName(e)===t)return e;return-1},a.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},a.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},a.prototype.rawIndexOf=function(t,e){var r=t&&this._invertedIndicesMap[t],i=r[e];return i==null||isNaN(i)?Me:i},a.prototype.indicesOfNearest=function(t,e,r){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,r)},a.prototype.each=function(t,e,r){H(t)&&(r=e,e=t,t=[]);var i=r||this,n=Y(mt(t),this._getStoreDimIndex,this);this._store.each(n,i?dt(e,i):e)},a.prototype.filterSelf=function(t,e,r){H(t)&&(r=e,e=t,t=[]);var i=r||this,n=Y(mt(t),this._getStoreDimIndex,this);return this._store=this._store.filter(n,i?dt(e,i):e),this},a.prototype.selectRange=function(t){var e=this,r={},i=Fr(t);return N(i,function(n){var s=e._getStoreDimIndex(n);r[s]=t[n]}),this._store=this._store.selectRange(r),this},a.prototype.mapArray=function(t,e,r){H(t)&&(r=e,e=t,t=[]),r=r||this;var i=[];return this.each(t,function(){i.push(e&&e.apply(this,arguments))},r),i},a.prototype.map=function(t,e,r,i){var n=r||i||this,s=Y(mt(t),this._getStoreDimIndex,this),o=Ot(this);return o._store=this._store.map(s,n?dt(e,n):e),o},a.prototype.modify=function(t,e,r,i){var n=r||i||this,s=Y(mt(t),this._getStoreDimIndex,this);this._store.modify(s,n?dt(e,n):e)},a.prototype.downSample=function(t,e,r,i){var n=Ot(this);return n._store=this._store.downSample(this._getStoreDimIndex(t),e,r,i),n},a.prototype.lttbDownSample=function(t,e){var r=Ot(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),r},a.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},a.prototype.getItemModel=function(t){var e=this.hostModel,r=this.getRawDataItem(t);return new zr(r,e,e&&e.ecModel)},a.prototype.diff=function(t){var e=this;return new hr(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(r){return wt(t,r)},function(r){return wt(e,r)})},a.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},a.prototype.setVisual=function(t,e){this._visual=this._visual||{},gt(t)?z(this._visual,t):this._visual[t]=e},a.prototype.getItemVisual=function(t,e){var r=this._itemVisuals[t],i=r&&r[e];return i==null?this.getVisual(e):i},a.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},a.prototype.ensureUniqueItemVisual=function(t,e){var r=this._itemVisuals,i=r[t];i||(i=r[t]={});var n=i[e];return n==null&&(n=this.getVisual(e),ht(n)?n=n.slice():gt(n)&&(n=z({},n)),i[e]=n),n},a.prototype.setItemVisual=function(t,e,r){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,gt(e)?z(i,e):i[e]=r},a.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},a.prototype.setLayout=function(t,e){gt(t)?z(this._layout,t):this._layout[t]=e},a.prototype.getLayout=function(t){return this._layout[t]},a.prototype.getItemLayout=function(t){return this._itemLayouts[t]},a.prototype.setItemLayout=function(t,e,r){this._itemLayouts[t]=r?z(this._itemLayouts[t]||{},e):e},a.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},a.prototype.setItemGraphicEl=function(t,e){var r=this.hostModel&&this.hostModel.seriesIndex;Vr(r,this.dataType,t,e),this._graphicEls[t]=e},a.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},a.prototype.eachItemGraphicEl=function(t,e){N(this._graphicEls,function(r,i){r&&t&&t.call(e,r,i)})},a.prototype.cloneShallow=function(t){return t||(t=new a(this._schema?this._schema:Y(this.dimensions,this._getDimInfo,this),this.hostModel)),Vt(t,this),t._store=this._store,t},a.prototype.wrapMethod=function(t,e){var r=this[t];!H(r)||(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=r.apply(this,arguments);return e.apply(this,[i].concat(Ur(arguments)))})},a.internalField=function(){Ee=function(t){var e=t._invertedIndicesMap;N(e,function(r,i){var n=t._dimInfos[i],s=n.ordinalMeta,o=t._store;if(s){r=e[i]=new Ea(s.categories.length);for(var u=0;u<r.length;u++)r[u]=Me;for(var u=0;u<o.count();u++)r[o.get(n.storeDimIndex,u)]=u}})},pt=function(t,e,r){return Ft(t._getCategory(e,r),null)},wt=function(t,e){var r=t._idList[e];return r==null&&t._idDimIdx!=null&&(r=pt(t,t._idDimIdx,e)),r==null&&(r=Ra+e),r},mt=function(t){return ht(t)||(t=t!=null?[t]:[]),t},Ot=function(t){var e=new a(t._schema?t._schema:Y(t.dimensions,t._getDimInfo,t),t.hostModel);return Vt(e,t),e},Vt=function(t,e){N(Na.concat(e.__wrappedMethods||[]),function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t.__wrappedMethods=e.__wrappedMethods,N(ka,function(r){t[r]=et(e[r])}),t._calculationInfo=z({},e._calculationInfo)},Ut=function(t,e){var r=t._nameList,i=t._idList,n=t._nameDimIdx,s=t._idDimIdx,o=r[e],u=i[e];if(o==null&&n!=null&&(r[e]=o=pt(t,n,e)),u==null&&s!=null&&(i[e]=u=pt(t,s,e)),u==null&&o!=null){var l=t._nameRepeatCount,h=l[o]=(l[o]||0)+1;u=o,h>1&&(u+="__ec__"+h),i[e]=u}}}(),a}();const Ba=xa;function sn(a,t){return vr(a,t).dimensions}function vr(a,t){nr(a)||(a=sr(a)),t=t||{};var e=t.coordDimensions||[],r=t.dimensionsDefine||a.dimensionsDefine||[],i=it(),n=[],s=Fa(a,e,r,t.dimensionsCount),o=t.canOmitUnusedDimensions&&Hr(s),u=r===a.dimensionsDefine,l=u?Xr(a):$r(r),h=t.encodeDefine;!h&&t.encodeDefaulter&&(h=t.encodeDefaulter(a,s));for(var v=it(h),c=new Zr(s),f=0;f<c.length;f++)c[f]=-1;function g(w){var P=c[w];if(P<0){var D=r[w],I=_t(D)?D:{name:D},S=new Et,E=I.name;E!=null&&l.get(E)!=null&&(S.name=S.displayName=E),I.type!=null&&(S.type=I.type),I.displayName!=null&&(S.displayName=I.displayName);var L=n.length;return c[w]=L,S.storeDimIndex=w,n.push(S),S}return n[P]}if(!o)for(var f=0;f<s;f++)g(f);v.each(function(w,P){var D=ye(w).slice();if(D.length===1&&!yt(D[0])&&D[0]<0){v.set(P,!1);return}var I=v.set(P,[]);N(D,function(S,E){var L=yt(S)?l.get(S):S;L!=null&&L<s&&(I[E]=L,y(g(L),P,E))})});var p=0;N(e,function(w){var P,D,I,S;if(yt(w))P=w,S={};else{S=w,P=S.name;var E=S.ordinalMeta;S.ordinalMeta=null,S=z({},S),S.ordinalMeta=E,D=S.dimsDef,I=S.otherDims,S.name=S.coordDim=S.coordDimIndex=S.dimsDef=S.otherDims=null}var L=v.get(P);if(L!==!1){if(L=ye(L),!L.length)for(var k=0;k<(D&&D.length||1);k++){for(;p<s&&g(p).coordDim!=null;)p++;p<s&&L.push(p++)}N(L,function(G,M){var R=g(G);if(u&&S.type!=null&&(R.type=S.type),y(Dt(R,S),P,M),R.name==null&&D){var x=D[M];!_t(x)&&(x={name:x}),R.name=R.displayName=x.name,R.defaultTooltip=x.defaultTooltip}I&&Dt(R.otherDims,I)})}});function y(w,P,D){ir.get(P)!=null?w.otherDims[P]=D:(w.coordDim=P,w.coordDimIndex=D,i.set(P,!0))}var m=t.generateCoord,d=t.generateCoordCount,_=d!=null;d=m?d||1:0;var C=m||"value";function O(w){w.name==null&&(w.name=w.coordDim)}if(o)N(n,function(w){O(w)}),n.sort(function(w,P){return w.storeDimIndex-P.storeDimIndex});else for(var b=0;b<s;b++){var A=g(b),T=A.coordDim;T==null&&(A.coordDim=za(C,i,_),A.coordDimIndex=0,(!m||d<=0)&&(A.isExtraCoord=!0),d--),O(A),A.type==null&&(Yr(a,b)===jr.Must||A.isExtraCoord&&(A.otherDims.itemName!=null||A.otherDims.seriesName!=null))&&(A.type="ordinal")}return Ga(n),new Kr({source:a,dimensions:n,fullDimensionCount:s,dimensionOmitted:o})}function Ga(a){for(var t=it(),e=0;e<a.length;e++){var r=a[e],i=r.name,n=t.get(i)||0;n>0&&(r.name=i+(n-1)),n++,t.set(i,n)}}function Fa(a,t,e,r){var i=Math.max(a.dimensionsDetectedCount||1,t.length,e.length,r||0);return N(t,function(n){var s;_t(n)&&(s=n.dimsDef)&&(i=Math.max(i,s.length))}),i}function za(a,t,e){if(e||t.hasKey(a)){for(var r=0;t.hasKey(a+r);)r++;a+=r}return t.set(a,!0),a}var Va=function(){function a(t){this.coordSysDims=[],this.axisMap=it(),this.categoryAxisMap=it(),this.coordSysName=t}return a}();function Ua(a){var t=a.get("coordinateSystem"),e=new Va(t),r=Wa[t];if(r)return r(a,e,e.axisMap,e.categoryAxisMap),e}var Wa={cartesian2d:function(a,t,e,r){var i=a.getReferringComponents("xAxis",It).models[0],n=a.getReferringComponents("yAxis",It).models[0];t.coordSysDims=["x","y"],e.set("x",i),e.set("y",n),ot(i)&&(r.set("x",i),t.firstCategoryDimIndex=0),ot(n)&&(r.set("y",n),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(a,t,e,r){var i=a.getReferringComponents("singleAxis",It).models[0];t.coordSysDims=["single"],e.set("single",i),ot(i)&&(r.set("single",i),t.firstCategoryDimIndex=0)},polar:function(a,t,e,r){var i=a.getReferringComponents("polar",It).models[0],n=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",n),e.set("angle",s),ot(n)&&(r.set("radius",n),t.firstCategoryDimIndex=0),ot(s)&&(r.set("angle",s),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(a,t,e,r){t.coordSysDims=["lng","lat"]},parallel:function(a,t,e,r){var i=a.ecModel,n=i.getComponent("parallel",a.get("parallelIndex")),s=t.coordSysDims=n.dimensions.slice();N(n.parallelAxisIndex,function(o,u){var l=i.getComponent("parallelAxis",o),h=s[u];e.set(h,l),ot(l)&&(r.set(h,l),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=u))})}};function ot(a){return a.get("type")==="category"}function Ha(a,t){var e=a.get("coordinateSystem"),r=ta.get(e),i;return t&&t.coordSysDims&&(i=Z(t.coordSysDims,function(n){var s={name:n},o=t.axisMap.get(n);if(o){var u=o.get("type");s.type=Ta(u)}return s})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function Xa(a,t,e){var r,i;return e&&N(a,function(n,s){var o=n.coordDim,u=e.categoryAxisMap.get(o);u&&(r==null&&(r=s),n.ordinalMeta=u.getOrdinalMeta(),t&&(n.createInvertedIndices=!0)),n.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(a[r].otherDims.itemName=0),r}function se(a,t,e){e=e||{};var r=t.getSourceManager(),i,n=!1;a?(n=!0,i=sr(a)):(i=r.getSource(),n=i.sourceFormat===re);var s=Ua(t),o=Ha(t,s),u=e.useEncodeDefaulter,l=H(u)?u:u?J(qr,o,t):null,h={coordDimensions:o,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!n},v=vr(i,h),c=Xa(v.dimensions,e.createInvertedIndices,s),f=n?null:r.getSharedDataStore(v),g=Jr(t,{schema:v,store:f}),p=new Ba(v,t);p.setCalculationInfo(g);var y=c!=null&&$a(i)?function(m,d,_,C){return C===c?_:this.defaultDimValueGetter(m,d,_,C)}:null;return p.hasItemOption=!1,p.initData(n?i:f,null,y),p}function $a(a){if(a.sourceFormat===re){var t=Za(a.data||[]);return!ht(Qr(t))}}function Za(a){for(var t=0;t<a.length&&a[t]==null;)t++;return a[t]}var Re="\0_ec_interaction_mutex";function Ya(a,t,e){var r=oe(a);r[t]=e}function ja(a,t,e){var r=oe(a),i=r[t];i===e&&(r[t]=null)}function on(a,t){return!!oe(a)[t]}function oe(a){return a[Re]||(a[Re]={})}ea({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},ra);var Ka={axisPointer:1,tooltip:1,brush:1};function qa(a,t,e){var r=t.getComponentByElement(a.topTarget),i=r&&r.coordinateSystem;return r&&r!==e&&!Ka.hasOwnProperty(r.mainType)&&i&&i.model!==e}function un(a,t,e,r,i,n){a=a||0;var s=e[1]-e[0];if(i!=null&&(i=ut(i,[0,s])),n!=null&&(n=Math.max(n,i!=null?i:0)),r==="all"){var o=Math.abs(t[1]-t[0]);o=ut(o,[0,s]),i=n=ut(o,[i,n]),r=0}t[0]=ut(t[0],e),t[1]=ut(t[1],e);var u=Wt(t,r);t[r]+=a;var l=i||0,h=e.slice();u.sign<0?h[0]+=l:h[1]-=l,t[r]=ut(t[r],h);var v;return v=Wt(t,r),i!=null&&(v.sign!==u.sign||v.span<i)&&(t[1-r]=t[r]+u.sign*i),v=Wt(t,r),n!=null&&v.span>n&&(t[1-r]=t[r]+v.sign*n),t}function Wt(a,t){var e=a[t]-a[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function ut(a,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,a))}var nt=!0,St=Math.min,vt=Math.max,Ja=Math.pow,Qa=1e4,ti=6,ei=6,Ne="globalPan",ri={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},ai={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},ke={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},ii=0,ni=function(a){V(t,a);function t(e){var r=a.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=e,r.group=new tt,r._uid="brushController_"+ii++,N(fi,function(i,n){this._handlers[n]=dt(i,this)},r),r}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var r=this._zr;this._enableGlobalPan||Ya(r,Ne,this._uid),N(this._handlers,function(i,n){r.on(n,i)}),this._brushType=e.brushType,this._brushOption=_e(et(ke),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;ja(e,Ne,this._uid),N(this._handlers,function(r,i){e.off(i,r)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var r=this._panels={};N(e,function(i){r[i.panelId]=et(i)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=r.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=Z(e,function(c){return _e(et(ke),c,!0)});var r="\0-brush-index-",i=this._covers,n=this._covers=[],s=this,o=this._creatingCover;return new hr(i,e,l,u).add(h).update(h).remove(v).execute(),this;function u(c,f){return(c.id!=null?c.id:r+f)+"-"+c.brushType}function l(c,f){return u(c.__brushOption,f)}function h(c,f){var g=e[c];if(f!=null&&i[f]===o)n[c]=i[f];else{var p=n[c]=f!=null?(i[f].__brushOption=g,i[f]):cr(s,fr(s,g));ue(s,p)}}function v(c){i[c]!==o&&s.group.remove(i[c])}},t.prototype.unmount=function(){return this.enableBrush(!1),Kt(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(aa);function fr(a,t){var e=Gt[t.brushType].createCover(a,t);return e.__brushOption=t,pr(e,t),a.group.add(e),e}function cr(a,t){var e=le(t);return e.endCreating&&(e.endCreating(a,t),pr(t,t.__brushOption)),t}function gr(a,t){var e=t.__brushOption;le(t).updateCoverShape(a,t,e.range,e)}function pr(a,t){var e=t.z;e==null&&(e=Qa),a.traverse(function(r){r.z=e,r.z2=e})}function ue(a,t){le(t).updateCommon(a,t),gr(a,t)}function le(a){return Gt[a.__brushOption.brushType]}function he(a,t,e){var r=a._panels;if(!r)return nt;var i,n=a._transform;return N(r,function(s){s.isTargetByCursor(t,e,n)&&(i=s)}),i}function mr(a,t){var e=a._panels;if(!e)return nt;var r=t.__brushOption.panelId;return r!=null?e[r]:nt}function Kt(a){var t=a._covers,e=t.length;return N(t,function(r){a.group.remove(r)},a),t.length=0,!!e}function st(a,t){var e=Z(a._covers,function(r){var i=r.__brushOption,n=et(i.range);return{brushType:i.brushType,panelId:i.panelId,range:n}});a.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function si(a){var t=a._track;if(!t.length)return!1;var e=t[t.length-1],r=t[0],i=e[0]-r[0],n=e[1]-r[1],s=Ja(i*i+n*n,.5);return s>ti}function dr(a){var t=a.length-1;return t<0&&(t=0),[a[0],a[t]]}function yr(a,t,e,r){var i=new tt;return i.add(new bt({name:"main",style:ve(e),silent:!0,draggable:!0,cursor:"move",drift:J(xe,a,t,i,["n","s","w","e"]),ondragend:J(st,t,{isEnd:!0})})),N(r,function(n){i.add(new bt({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:J(xe,a,t,i,n),ondragend:J(st,t,{isEnd:!0})}))}),i}function _r(a,t,e,r){var i=r.brushStyle.lineWidth||0,n=vt(i,ei),s=e[0][0],o=e[1][0],u=s-i/2,l=o-i/2,h=e[0][1],v=e[1][1],c=h-n+i/2,f=v-n+i/2,g=h-s,p=v-o,y=g+i,m=p+i;X(a,t,"main",s,o,g,p),r.transformable&&(X(a,t,"w",u,l,n,m),X(a,t,"e",c,l,n,m),X(a,t,"n",u,l,y,n),X(a,t,"s",u,f,y,n),X(a,t,"nw",u,l,n,n),X(a,t,"ne",c,l,n,n),X(a,t,"sw",u,f,n,n),X(a,t,"se",c,f,n,n))}function qt(a,t){var e=t.__brushOption,r=e.transformable,i=t.childAt(0);i.useStyle(ve(e)),i.attr({silent:!r,cursor:r?"move":"default"}),N([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(n){var s=t.childOfName(n.join("")),o=n.length===1?Jt(a,n[0]):ui(a,n);s&&s.attr({silent:!r,invisible:!r,cursor:r?ai[o]+"-resize":null})})}function X(a,t,e,r,i,n,s){var o=t.childOfName(e);o&&o.setShape(hi(fe(a,t,[[r,i],[r+n,i+s]])))}function ve(a){return Dt({strokeNoScale:!0},a.brushStyle)}function Dr(a,t,e,r){var i=[St(a,e),St(t,r)],n=[vt(a,e),vt(t,r)];return[[i[0],n[0]],[i[1],n[1]]]}function oi(a){return oa(a.group)}function Jt(a,t){var e={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},i=sa(e[t],oi(a));return r[i]}function ui(a,t){var e=[Jt(a,t[0]),Jt(a,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function xe(a,t,e,r,i,n){var s=e.__brushOption,o=a.toRectRange(s.range),u=br(t,i,n);N(r,function(l){var h=ri[l];o[h[0]][h[1]]+=u[h[0]]}),s.range=a.fromRectRange(Dr(o[0][0],o[1][0],o[0][1],o[1][1])),ue(t,e),st(t,{isEnd:!1})}function li(a,t,e,r){var i=t.__brushOption.range,n=br(a,e,r);N(i,function(s){s[0]+=n[0],s[1]+=n[1]}),ue(a,t),st(a,{isEnd:!1})}function br(a,t,e){var r=a.group,i=r.transformCoordToLocal(t,e),n=r.transformCoordToLocal(0,0);return[i[0]-n[0],i[1]-n[1]]}function fe(a,t,e){var r=mr(a,t);return r&&r!==nt?r.clipPath(e,a._transform):et(e)}function hi(a){var t=St(a[0][0],a[1][0]),e=St(a[0][1],a[1][1]),r=vt(a[0][0],a[1][0]),i=vt(a[0][1],a[1][1]);return{x:t,y:e,width:r-t,height:i-e}}function vi(a,t,e){if(!(!a._brushType||ci(a,t.offsetX,t.offsetY))){var r=a._zr,i=a._covers,n=he(a,t,e);if(!a._dragging)for(var s=0;s<i.length;s++){var o=i[s].__brushOption;if(n&&(n===nt||o.panelId===n.panelId)&&Gt[o.brushType].contain(i[s],e[0],e[1]))return}n&&r.setCursorStyle("crosshair")}}function Qt(a){var t=a.event;t.preventDefault&&t.preventDefault()}function te(a,t,e){return a.childOfName("main").contain(t,e)}function Sr(a,t,e,r){var i=a._creatingCover,n=a._creatingPanel,s=a._brushOption,o;if(a._track.push(e.slice()),si(a)||i){if(n&&!i){s.brushMode==="single"&&Kt(a);var u=et(s);u.brushType=Be(u.brushType,n),u.panelId=n===nt?null:n.panelId,i=a._creatingCover=fr(a,u),a._covers.push(i)}if(i){var l=Gt[Be(a._brushType,n)],h=i.__brushOption;h.range=l.getCreatingRange(fe(a,i,a._track)),r&&(cr(a,i),l.updateCommon(a,i)),gr(a,i),o={isEnd:r}}}else r&&s.brushMode==="single"&&s.removeOnClick&&he(a,t,e)&&Kt(a)&&(o={isEnd:r,removeOnClick:!0});return o}function Be(a,t){return a==="auto"?t.defaultBrushType:a}var fi={mousedown:function(a){if(this._dragging)Ge(this,a);else if(!a.target||!a.target.draggable){Qt(a);var t=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;var e=this._creatingPanel=he(this,a,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(a){var t=a.offsetX,e=a.offsetY,r=this.group.transformCoordToLocal(t,e);if(vi(this,a,r),this._dragging){Qt(a);var i=Sr(this,a,r,!1);i&&st(this,i)}},mouseup:function(a){Ge(this,a)}};function Ge(a,t){if(a._dragging){Qt(t);var e=t.offsetX,r=t.offsetY,i=a.group.transformCoordToLocal(e,r),n=Sr(a,t,i,!0);a._dragging=!1,a._track=[],a._creatingCover=null,n&&st(a,n)}}function ci(a,t,e){var r=a._zr;return t<0||t>r.getWidth()||e<0||e>r.getHeight()}var Gt={lineX:Fe(0),lineY:Fe(1),rect:{createCover:function(a,t){function e(r){return r}return yr({toRectRange:e,fromRectRange:e},a,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(a){var t=dr(a);return Dr(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(a,t,e,r){_r(a,t,e,r)},updateCommon:qt,contain:te},polygon:{createCover:function(a,t){var e=new tt;return e.add(new ia({name:"main",style:ve(t),silent:!0})),e},getCreatingRange:function(a){return a},endCreating:function(a,t){t.remove(t.childAt(0)),t.add(new na({name:"main",draggable:!0,drift:J(li,a,t),ondragend:J(st,a,{isEnd:!0})}))},updateCoverShape:function(a,t,e,r){t.childAt(0).setShape({points:fe(a,t,e)})},updateCommon:qt,contain:te}};function Fe(a){return{createCover:function(t,e){return yr({toRectRange:function(r){var i=[r,[0,100]];return a&&i.reverse(),i},fromRectRange:function(r){return r[a]}},t,e,[[["w"],["e"]],[["n"],["s"]]][a])},getCreatingRange:function(t){var e=dr(t),r=St(e[0][a],e[1][a]),i=vt(e[0][a],e[1][a]);return[r,i]},updateCoverShape:function(t,e,r,i){var n,s=mr(t,e);if(s!==nt&&s.getLinearBrushOtherExtent)n=s.getLinearBrushOtherExtent(a);else{var o=t._zr;n=[0,[o.getWidth(),o.getHeight()][1-a]]}var u=[r,n];a&&u.reverse(),_r(t,e,u,i)},updateCommon:qt,contain:te}}const ln=ni;function hn(a){return a=ce(a),function(t){return ua(t,a)}}function vn(a,t){return a=ce(a),function(e){var r=t!=null?t:e,i=r?a.width:a.height,n=r?a.x:a.y;return[n,n+(i||0)]}}function fn(a,t,e){var r=ce(a);return function(i,n){return r.contain(n[0],n[1])&&!qa(i,t,e)}}function ce(a){return la.create(a)}function ge(a,t){var e=a.mapDimensionsAll("defaultedLabel"),r=e.length;if(r===1){var i=De(a,t,e[0]);return i!=null?i+"":null}else if(r){for(var n=[],s=0;s<e.length;s++)n.push(De(a,t,e[s]));return n.join(" ")}}function Ar(a,t){var e=a.mapDimensionsAll("defaultedLabel");if(!ht(t))return t+"";for(var r=[],i=0;i<e.length;i++){var n=a.getDimensionIndex(e[i]);n>=0&&r.push(t[n])}return r.join(" ")}var gi=function(a){V(t,a);function t(e,r,i,n){var s=a.call(this)||this;return s.updateData(e,r,i,n),s}return t.prototype._createSymbol=function(e,r,i,n,s){this.removeAll();var o=Yt(e,-1,-1,2,2,null,s);o.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),o.drift=pi,this._symbolType=e,this.add(o)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){ha(this.childAt(0))},t.prototype.downplay=function(){va(this.childAt(0))},t.prototype.setZ=function(e,r){var i=this.childAt(0);i.zlevel=e,i.z=r},t.prototype.setDraggable=function(e,r){var i=this.childAt(0);i.draggable=e,i.cursor=!r&&e?"move":i.cursor},t.prototype.updateData=function(e,r,i,n){this.silent=!1;var s=e.getItemVisual(r,"symbol")||"circle",o=e.hostModel,u=t.getSymbolSize(e,r),l=s!==this._symbolType,h=n&&n.disableAnimation;if(l){var v=e.getItemVisual(r,"symbolKeepAspect");this._createSymbol(s,e,r,u,v)}else{var c=this.childAt(0);c.silent=!1;var f={scaleX:u[0]/2,scaleY:u[1]/2};h?c.attr(f):$(c,f,o,r),or(c)}if(this._updateCommon(e,r,u,i,n),l){var c=this.childAt(0);if(!h){var f={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:c.style.opacity}};c.scaleX=c.scaleY=0,c.style.opacity=0,Q(c,f,o,r)}}h&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,r,i,n,s){var o=this.childAt(0),u=e.hostModel,l,h,v,c,f,g,p,y,m;if(n&&(l=n.emphasisItemStyle,h=n.blurItemStyle,v=n.selectItemStyle,c=n.focus,f=n.blurScope,p=n.labelStatesModels,y=n.hoverScale,m=n.cursorStyle,g=n.emphasisDisabled),!n||e.hasItemOption){var d=n&&n.itemModel?n.itemModel:e.getItemModel(r),_=d.getModel("emphasis");l=_.getModel("itemStyle").getItemStyle(),v=d.getModel(["select","itemStyle"]).getItemStyle(),h=d.getModel(["blur","itemStyle"]).getItemStyle(),c=_.get("focus"),f=_.get("blurScope"),g=_.get("disabled"),p=xt(d),y=_.getShallow("scale"),m=d.getShallow("cursor")}var C=e.getItemVisual(r,"symbolRotate");o.attr("rotation",(C||0)*Math.PI/180||0);var O=fa(e.getItemVisual(r,"symbolOffset"),i);O&&(o.x=O[0],o.y=O[1]),m&&o.attr("cursor",m);var b=e.getItemVisual(r,"style"),A=b.fill;if(o instanceof ca){var T=o.style;o.useStyle(z({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},b))}else o.__isEmptyBrush?o.useStyle(z({},b)):o.useStyle(b),o.style.decal=null,o.setColor(A,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var w=e.getItemVisual(r,"liftZ"),P=this._z2;w!=null?P==null&&(this._z2=o.z2,o.z2+=w):P!=null&&(o.z2=P,this._z2=null);var D=s&&s.useNameLabel;ae(o,p,{labelFetcher:u,labelDataIndex:r,defaultText:I,inheritColor:A,defaultOpacity:b.opacity});function I(L){return D?e.getName(L):ge(e,L)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var S=o.ensureState("emphasis");S.style=l,o.ensureState("select").style=v,o.ensureState("blur").style=h;var E=y==null||y===!0?Math.max(1.1,3/this._sizeY):isFinite(y)&&y>0?+y:1;S.scaleX=this._sizeX*E,S.scaleY=this._sizeY*E,this.setSymbolScale(1),Rt(this,c,f,g)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,r,i){var n=this.childAt(0),s=rt(this).dataIndex,o=i&&i.animation;if(this.silent=n.silent=!0,i&&i.fadeLabel){var u=n.getTextContent();u&&be(u,{style:{opacity:0}},r,{dataIndex:s,removeOpt:o,cb:function(){n.removeTextContent()}})}else n.removeTextContent();be(n,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:s,cb:e,removeOpt:o})},t.getSymbolSize=function(e,r){return ga(e.getItemVisual(r,"symbolSize"))},t}(tt);function pi(a,t){this.parent.drift(a,t)}const pe=gi;function Ht(a,t,e,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(e))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&a.getItemVisual(e,"symbol")!=="none"}function ze(a){return a!=null&&!_t(a)&&(a={isIgnore:a}),a||{}}function Ve(a){var t=a.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:xt(t),cursorStyle:t.get("cursor")}}var mi=function(){function a(t){this.group=new tt,this._SymbolCtor=t||pe}return a.prototype.updateData=function(t,e){this._progressiveEls=null,e=ze(e);var r=this.group,i=t.hostModel,n=this._data,s=this._SymbolCtor,o=e.disableAnimation,u=Ve(t),l={disableAnimation:o},h=e.getSymbolPoint||function(v){return t.getItemLayout(v)};n||r.removeAll(),t.diff(n).add(function(v){var c=h(v);if(Ht(t,c,v,e)){var f=new s(t,v,u,l);f.setPosition(c),t.setItemGraphicEl(v,f),r.add(f)}}).update(function(v,c){var f=n.getItemGraphicEl(c),g=h(v);if(!Ht(t,g,v,e)){r.remove(f);return}var p=t.getItemVisual(v,"symbol")||"circle",y=f&&f.getSymbolType&&f.getSymbolType();if(!f||y&&y!==p)r.remove(f),f=new s(t,v,u,l),f.setPosition(g);else{f.updateData(t,v,u,l);var m={x:g[0],y:g[1]};o?f.attr(m):$(f,m,i)}r.add(f),t.setItemGraphicEl(v,f)}).remove(function(v){var c=n.getItemGraphicEl(v);c&&c.fadeOut(function(){r.remove(c)},i)}).execute(),this._getSymbolPoint=h,this._data=t},a.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(r,i){var n=t._getSymbolPoint(i);r.setPosition(n),r.markRedraw()})},a.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Ve(t),this._data=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(t,e,r){this._progressiveEls=[],r=ze(r);function i(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var n=t.start;n<t.end;n++){var s=e.getItemLayout(n);if(Ht(e,s,n,r)){var o=new this._SymbolCtor(e,n,this._seriesScope);o.traverse(i),o.setPosition(s),this.group.add(o),e.setItemGraphicEl(n,o),this._progressiveEls.push(o)}}},a.prototype.eachRendered=function(t){ur(this._progressiveEls||this.group,t)},a.prototype.remove=function(t){var e=this.group,r=this._data;r&&t?r.eachItemGraphicEl(function(i){i.fadeOut(function(){e.remove(i)},r.hostModel)}):e.removeAll()},a}();const di=mi;function me(a,t){return a.type===t}var yi=function(a){V(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return se(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var r=new tt,i=Yt("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);r.add(i),i.setStyle(e.lineStyle);var n=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),o=n==="none"?"circle":n,u=e.itemHeight*.8,l=Yt(o,(e.itemWidth-u)/2,(e.itemHeight-u)/2,u,u,e.itemStyle.fill);r.add(l),l.setStyle(e.itemStyle);var h=e.iconRotate==="inherit"?s:e.iconRotate||0;return l.rotation=h*Math.PI/180,l.setOrigin([e.itemWidth/2,e.itemHeight/2]),o.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),r},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(ie);const _i=yi;function Ir(a,t,e){var r=a.getBaseAxis(),i=a.getOtherAxis(r),n=Di(i,e),s=r.dim,o=i.dim,u=t.mapDimension(o),l=t.mapDimension(s),h=o==="x"||o==="radius"?1:0,v=Z(a.dimensions,function(g){return t.mapDimension(g)}),c=!1,f=t.getCalculationInfo("stackResultDimension");return Nt(t,v[0])&&(c=!0,v[0]=f),Nt(t,v[1])&&(c=!0,v[1]=f),{dataDimsForPoint:v,valueStart:n,valueAxisDim:o,baseAxisDim:s,stacked:!!c,valueDim:u,baseDim:l,baseDataOffset:h,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Di(a,t){var e=0,r=a.scale.getExtent();return t==="start"?e=r[0]:t==="end"?e=r[1]:kt(t)&&!isNaN(t)?e=t:r[0]>0?e=r[0]:r[1]<0&&(e=r[1]),e}function Cr(a,t,e,r){var i=NaN;a.stacked&&(i=e.get(e.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=a.valueStart);var n=a.baseDataOffset,s=[];return s[n]=e.get(a.baseDim,r),s[1-n]=i,t.dataToPoint(s)}function bi(a,t){var e=[];return t.diff(a).add(function(r){e.push({cmd:"+",idx:r})}).update(function(r,i){e.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){e.push({cmd:"-",idx:r})}).execute(),e}function Si(a,t,e,r,i,n,s,o){for(var u=bi(a,t),l=[],h=[],v=[],c=[],f=[],g=[],p=[],y=Ir(i,t,s),m=a.getLayout("points")||[],d=t.getLayout("points")||[],_=0;_<u.length;_++){var C=u[_],O=!0,b=void 0,A=void 0;switch(C.cmd){case"=":b=C.idx*2,A=C.idx1*2;var T=m[b],w=m[b+1],P=d[A],D=d[A+1];(isNaN(T)||isNaN(w))&&(T=P,w=D),l.push(T,w),h.push(P,D),v.push(e[b],e[b+1]),c.push(r[A],r[A+1]),p.push(t.getRawIndex(C.idx1));break;case"+":var I=C.idx,S=y.dataDimsForPoint,E=i.dataToPoint([t.get(S[0],I),t.get(S[1],I)]);A=I*2,l.push(E[0],E[1]),h.push(d[A],d[A+1]);var L=Cr(y,i,t,I);v.push(L[0],L[1]),c.push(r[A],r[A+1]),p.push(t.getRawIndex(I));break;case"-":O=!1}O&&(f.push(C),g.push(g.length))}g.sort(function(At,B){return p[At]-p[B]});for(var k=l.length,G=lt(k),M=lt(k),R=lt(k),x=lt(k),F=[],_=0;_<g.length;_++){var ft=g[_],U=_*2,W=ft*2;G[U]=l[W],G[U+1]=l[W+1],M[U]=h[W],M[U+1]=h[W+1],R[U]=v[W],R[U+1]=v[W+1],x[U]=c[W],x[U+1]=c[W+1],F[_]=f[ft]}return{current:G,next:M,stackedOnCurrent:R,stackedOnNext:x,status:F}}var j=Math.min,K=Math.max;function at(a,t){return isNaN(a)||isNaN(t)}function ee(a,t,e,r,i,n,s,o,u){for(var l,h,v,c,f,g,p=e,y=0;y<r;y++){var m=t[p*2],d=t[p*2+1];if(p>=i||p<0)break;if(at(m,d)){if(u){p+=n;continue}break}if(p===e)a[n>0?"moveTo":"lineTo"](m,d),v=m,c=d;else{var _=m-l,C=d-h;if(_*_+C*C<.5){p+=n;continue}if(s>0){for(var O=p+n,b=t[O*2],A=t[O*2+1];b===m&&A===d&&y<r;)y++,O+=n,p+=n,b=t[O*2],A=t[O*2+1],m=t[p*2],d=t[p*2+1],_=m-l,C=d-h;var T=y+1;if(u)for(;at(b,A)&&T<r;)T++,O+=n,b=t[O*2],A=t[O*2+1];var w=.5,P=0,D=0,I=void 0,S=void 0;if(T>=r||at(b,A))f=m,g=d;else{P=b-l,D=A-h;var E=m-l,L=b-m,k=d-h,G=A-d,M=void 0,R=void 0;if(o==="x"){M=Math.abs(E),R=Math.abs(L);var x=P>0?1:-1;f=m-x*M*s,g=d,I=m+x*R*s,S=d}else if(o==="y"){M=Math.abs(k),R=Math.abs(G);var F=D>0?1:-1;f=m,g=d-F*M*s,I=m,S=d+F*R*s}else M=Math.sqrt(E*E+k*k),R=Math.sqrt(L*L+G*G),w=R/(R+M),f=m-P*s*(1-w),g=d-D*s*(1-w),I=m+P*s*w,S=d+D*s*w,I=j(I,K(b,m)),S=j(S,K(A,d)),I=K(I,j(b,m)),S=K(S,j(A,d)),P=I-m,D=S-d,f=m-P*M/R,g=d-D*M/R,f=j(f,K(l,m)),g=j(g,K(h,d)),f=K(f,j(l,m)),g=K(g,j(h,d)),P=m-f,D=d-g,I=m+P*R/M,S=d+D*R/M}a.bezierCurveTo(v,c,f,g,m,d),v=I,c=S}else a.lineTo(m,d)}l=m,h=d,p+=n}return y}var wr=function(){function a(){this.smooth=0,this.smoothConstraint=!0}return a}(),Ai=function(a){V(t,a);function t(e){var r=a.call(this,e)||this;return r.type="ec-polyline",r}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new wr},t.prototype.buildPath=function(e,r){var i=r.points,n=0,s=i.length/2;if(r.connectNulls){for(;s>0&&at(i[s*2-2],i[s*2-1]);s--);for(;n<s&&at(i[n*2],i[n*2+1]);n++);}for(;n<s;)n+=ee(e,i,n,s,s,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},t.prototype.getPointOn=function(e,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,n=i.data,s=pa.CMD,o,u,l=r==="x",h=[],v=0;v<n.length;){var c=n[v++],f=void 0,g=void 0,p=void 0,y=void 0,m=void 0,d=void 0,_=void 0;switch(c){case s.M:o=n[v++],u=n[v++];break;case s.L:if(f=n[v++],g=n[v++],_=l?(e-o)/(f-o):(e-u)/(g-u),_<=1&&_>=0){var C=l?(g-u)*_+u:(f-o)*_+o;return l?[e,C]:[C,e]}o=f,u=g;break;case s.C:f=n[v++],g=n[v++],p=n[v++],y=n[v++],m=n[v++],d=n[v++];var O=l?Se(o,f,p,m,e,h):Se(u,g,y,d,e,h);if(O>0)for(var b=0;b<O;b++){var A=h[b];if(A<=1&&A>=0){var C=l?Ae(u,g,y,d,A):Ae(o,f,p,m,A);return l?[e,C]:[C,e]}}o=m,u=d;break}}},t}(Bt),Ii=function(a){V(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t}(wr),Ci=function(a){V(t,a);function t(e){var r=a.call(this,e)||this;return r.type="ec-polygon",r}return t.prototype.getDefaultShape=function(){return new Ii},t.prototype.buildPath=function(e,r){var i=r.points,n=r.stackedOnPoints,s=0,o=i.length/2,u=r.smoothMonotone;if(r.connectNulls){for(;o>0&&at(i[o*2-2],i[o*2-1]);o--);for(;s<o&&at(i[s*2],i[s*2+1]);s++);}for(;s<o;){var l=ee(e,i,s,o,o,1,r.smooth,u,r.connectNulls);ee(e,n,s+l-1,l,o,-1,r.stackedOnSmooth,u,r.connectNulls),s+=l+1,e.closePath()}},t}(Bt);function Or(a,t,e,r,i){var n=a.getArea(),s=n.x,o=n.y,u=n.width,l=n.height,h=e.get(["lineStyle","width"])||2;s-=h/2,o-=h/2,u+=h,l+=h,s=Math.floor(s),u=Math.round(u);var v=new bt({shape:{x:s,y:o,width:u,height:l}});if(t){var c=a.getBaseAxis(),f=c.isHorizontal(),g=c.inverse;f?(g&&(v.shape.x+=u),v.shape.width=0):(g||(v.shape.y+=l),v.shape.height=0);var p=H(i)?function(y){i(y,v)}:null;Q(v,{shape:{width:u,height:l,x:s,y:o}},e,null,r,p)}return v}function Pr(a,t,e){var r=a.getArea(),i=Ct(r.r0,1),n=Ct(r.r,1),s=new ne({shape:{cx:Ct(a.cx,1),cy:Ct(a.cy,1),r0:i,r:n,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(t){var o=a.getBaseAxis().dim==="angle";o?s.shape.endAngle=r.startAngle:s.shape.r=i,Q(s,{shape:{endAngle:r.endAngle,r:n}},e)}return s}function wi(a,t,e,r,i){if(a){if(a.type==="polar")return Pr(a,t,e);if(a.type==="cartesian2d")return Or(a,t,e,r,i)}else return null;return null}function Ue(a,t){if(a.length===t.length){for(var e=0;e<a.length;e++)if(a[e]!==t[e])return;return!0}}function We(a){for(var t=1/0,e=1/0,r=-1/0,i=-1/0,n=0;n<a.length;){var s=a[n++],o=a[n++];isNaN(s)||(t=Math.min(s,t),r=Math.max(s,r)),isNaN(o)||(e=Math.min(o,e),i=Math.max(o,i))}return[[t,e],[r,i]]}function He(a,t){var e=We(a),r=e[0],i=e[1],n=We(t),s=n[0],o=n[1];return Math.max(Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]),Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]))}function Xe(a){return kt(a)?a:a?.5:0}function Oi(a,t,e){if(!e.valueDim)return[];for(var r=t.count(),i=lt(r*2),n=0;n<r;n++){var s=Cr(e,a,t,n);i[n*2]=s[0],i[n*2+1]=s[1]}return i}function q(a,t,e,r){var i=t.getBaseAxis(),n=i.dim==="x"||i.dim==="radius"?0:1,s=[],o=0,u=[],l=[],h=[],v=[];if(r){for(o=0;o<a.length;o+=2)!isNaN(a[o])&&!isNaN(a[o+1])&&v.push(a[o],a[o+1]);a=v}for(o=0;o<a.length-2;o+=2)switch(h[0]=a[o+2],h[1]=a[o+3],l[0]=a[o],l[1]=a[o+1],s.push(l[0],l[1]),e){case"end":u[n]=h[n],u[1-n]=l[1-n],s.push(u[0],u[1]);break;case"middle":var c=(l[n]+h[n])/2,f=[];u[n]=f[n]=c,u[1-n]=l[1-n],f[1-n]=h[1-n],s.push(u[0],u[1]),s.push(f[0],f[1]);break;default:u[n]=l[n],u[1-n]=h[1-n],s.push(u[0],u[1])}return s.push(a[o++],a[o++]),s}function Pi(a,t){var e=[],r=a.length,i,n;function s(h,v,c){var f=h.coord,g=(c-f)/(v.coord-f),p=_a(g,[h.color,v.color]);return{coord:c,color:p}}for(var o=0;o<r;o++){var u=a[o],l=u.coord;if(l<0)i=u;else if(l>t){n?e.push(s(n,u,t)):i&&e.push(s(i,u,0),s(i,u,t));break}else i&&(e.push(s(i,u,0)),i=null),e.push(u),n=u}return e}function Ti(a,t,e){var r=a.getVisual("visualMeta");if(!(!r||!r.length||!a.count())&&t.type==="cartesian2d"){for(var i,n,s=r.length-1;s>=0;s--){var o=a.getDimensionInfo(r[s].dimension);if(i=o&&o.coordDim,i==="x"||i==="y"){n=r[s];break}}if(!!n){var u=t.getAxis(i),l=Z(n.stops,function(_){return{coord:u.toGlobalCoord(u.dataToCoord(_.value)),color:_.color}}),h=l.length,v=n.outerColors.slice();h&&l[0].coord>l[h-1].coord&&(l.reverse(),v.reverse());var c=Pi(l,i==="x"?e.getWidth():e.getHeight()),f=c.length;if(!f&&h)return l[0].coord<0?v[1]?v[1]:l[h-1].color:v[0]?v[0]:l[0].color;var g=10,p=c[0].coord-g,y=c[f-1].coord+g,m=y-p;if(m<.001)return"transparent";N(c,function(_){_.offset=(_.coord-p)/m}),c.push({offset:f?c[f-1].offset:.5,color:v[1]||"transparent"}),c.unshift({offset:f?c[0].offset:.5,color:v[0]||"transparent"});var d=new ya(0,0,0,0,c,!0);return d[i]=p,d[i+"2"]=y,d}}}function Li(a,t,e){var r=a.get("showAllSymbol"),i=r==="auto";if(!(r&&!i)){var n=e.getAxesByScale("ordinal")[0];if(!!n&&!(i&&Mi(n,t))){var s=t.mapDimension(n.dim),o={};return N(n.getViewLabels(),function(u){var l=n.scale.getRawOrdinalNumber(u.tickValue);o[l]=1}),function(u){return!o.hasOwnProperty(t.get(s,u))}}}}function Mi(a,t){var e=a.getExtent(),r=Math.abs(e[1]-e[0])/a.scale.count();isNaN(r)&&(r=0);for(var i=t.count(),n=Math.max(1,Math.round(i/5)),s=0;s<i;s+=n)if(pe.getSymbolSize(t,s)[a.isHorizontal()?1:0]*1.5>r)return!1;return!0}function Ei(a,t){return isNaN(a)||isNaN(t)}function Ri(a){for(var t=a.length/2;t>0&&Ei(a[t*2-2],a[t*2-1]);t--);return t-1}function $e(a,t){return[a[t*2],a[t*2+1]]}function Ni(a,t,e){for(var r=a.length/2,i=e==="x"?0:1,n,s,o=0,u=-1,l=0;l<r;l++)if(s=a[l*2+i],!(isNaN(s)||isNaN(a[l*2+1-i]))){if(l===0){n=s;continue}if(n<=t&&s>=t||n>=t&&s<=t){u=l;break}o=l,n=s}return{range:[o,u],t:(t-n)/(s-n)}}function Tr(a){if(a.get(["endLabel","show"]))return!0;for(var t=0;t<Oe.length;t++)if(a.get([Oe[t],"endLabel","show"]))return!0;return!1}function Xt(a,t,e,r){if(me(t,"cartesian2d")){var i=r.getModel("endLabel"),n=i.get("valueAnimation"),s=r.getData(),o={lastFrameIndex:0},u=Tr(r)?function(f,g){a._endLabelOnDuring(f,g,s,o,n,i,t)}:null,l=t.getBaseAxis().isHorizontal(),h=Or(t,e,r,function(){var f=a._endLabel;f&&e&&o.originalX!=null&&f.attr({x:o.originalX,y:o.originalY})},u);if(!r.get("clip",!0)){var v=h.shape,c=Math.max(v.width,v.height);l?(v.y-=c,v.height+=c*2):(v.x-=c,v.width+=c*2)}return u&&u(1,h),h}else return Pr(t,e,r)}function ki(a,t){var e=t.getBaseAxis(),r=e.isHorizontal(),i=e.inverse,n=r?i?"right":"left":"center",s=r?"middle":i?"top":"bottom";return{normal:{align:a.get("align")||n,verticalAlign:a.get("verticalAlign")||s}}}var xi=function(a){V(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.init=function(){var e=new tt,r=new di;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=e},t.prototype.render=function(e,r,i){var n=this,s=e.coordinateSystem,o=this.group,u=e.getData(),l=e.getModel("lineStyle"),h=e.getModel("areaStyle"),v=u.getLayout("points")||[],c=s.type==="polar",f=this._coordSys,g=this._symbolDraw,p=this._polyline,y=this._polygon,m=this._lineGroup,d=e.get("animation"),_=!h.isEmpty(),C=h.get("origin"),O=Ir(s,u,C),b=_&&Oi(s,u,O),A=e.get("showSymbol"),T=e.get("connectNulls"),w=A&&!c&&Li(e,u,s),P=this._data;P&&P.eachItemGraphicEl(function(B,Nr){B.__temp&&(o.remove(B),P.setItemGraphicEl(Nr,null))}),A||g.remove(),o.add(m);var D=c?!1:e.get("step"),I;s&&s.getArea&&e.get("clip",!0)&&(I=s.getArea(),I.width!=null?(I.x-=.1,I.y-=.1,I.width+=.2,I.height+=.2):I.r0&&(I.r0-=.5,I.r+=.5)),this._clipShapeForSymbol=I;var S=Ti(u,s,i)||u.getVisual("style")[u.getVisual("drawType")];if(!(p&&f.type===s.type&&D===this._step))A&&g.updateData(u,{isIgnore:w,clipShape:I,disableAnimation:!0,getSymbolPoint:function(B){return[v[B*2],v[B*2+1]]}}),d&&this._initSymbolLabelAnimation(u,s,I),D&&(v=q(v,s,D,T),b&&(b=q(b,s,D,T))),p=this._newPolyline(v),_?y=this._newPolygon(v,b):y&&(m.remove(y),y=this._polygon=null),c||this._initOrUpdateEndLabel(e,s,Ie(S)),m.setClipPath(Xt(this,s,!0,e));else{_&&!y?y=this._newPolygon(v,b):y&&!_&&(m.remove(y),y=this._polygon=null),c||this._initOrUpdateEndLabel(e,s,Ie(S));var E=m.getClipPath();if(E){var L=Xt(this,s,!1,e);Q(E,{shape:L.shape},e)}else m.setClipPath(Xt(this,s,!0,e));A&&g.updateData(u,{isIgnore:w,clipShape:I,disableAnimation:!0,getSymbolPoint:function(B){return[v[B*2],v[B*2+1]]}}),(!Ue(this._stackedOnPoints,b)||!Ue(this._points,v))&&(d?this._doUpdateAnimation(u,b,s,i,D,C,T):(D&&(v=q(v,s,D,T),b&&(b=q(b,s,D,T))),p.setShape({points:v}),y&&y.setShape({points:v,stackedOnPoints:b})))}var k=e.getModel("emphasis"),G=k.get("focus"),M=k.get("blurScope"),R=k.get("disabled");if(p.useStyle(Dt(l.getLineStyle(),{fill:"none",stroke:S,lineJoin:"bevel"})),jt(p,e,"lineStyle"),p.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var x=p.getState("emphasis").style;x.lineWidth=+p.style.lineWidth+1}rt(p).seriesIndex=e.seriesIndex,Rt(p,G,M,R);var F=Xe(e.get("smooth")),ft=e.get("smoothMonotone");if(p.setShape({smooth:F,smoothMonotone:ft,connectNulls:T}),y){var U=u.getCalculationInfo("stackedOnSeries"),W=0;y.useStyle(Dt(h.getAreaStyle(),{fill:S,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),U&&(W=Xe(U.get("smooth"))),y.setShape({smooth:F,stackedOnSmooth:W,smoothMonotone:ft,connectNulls:T}),jt(y,e,"areaStyle"),rt(y).seriesIndex=e.seriesIndex,Rt(y,G,M,R)}var At=function(B){n._changePolyState(B)};u.eachItemGraphicEl(function(B){B&&(B.onHoverStateChange=At)}),this._polyline.onHoverStateChange=At,this._data=u,this._coordSys=s,this._stackedOnPoints=b,this._points=v,this._step=D,this._valueOrigin=C,e.get("triggerLineEvent")&&(this.packEventData(e,p),y&&this.packEventData(e,y))},t.prototype.packEventData=function(e,r){rt(r).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,r,i,n){var s=e.getData(),o=Ce(s,n);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var u=s.getLayout("points"),l=s.getItemGraphicEl(o);if(!l){var h=u[o*2],v=u[o*2+1];if(isNaN(h)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,v))return;var c=e.get("zlevel")||0,f=e.get("z")||0;l=new pe(s,o),l.x=h,l.y=v,l.setZ(c,f);var g=l.getSymbolPath().getTextContent();g&&(g.zlevel=c,g.z=f,g.z2=this._polyline.z2+1),l.__temp=!0,s.setItemGraphicEl(o,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else Mt.prototype.highlight.call(this,e,r,i,n)},t.prototype.downplay=function(e,r,i,n){var s=e.getData(),o=Ce(s,n);if(this._changePolyState("normal"),o!=null&&o>=0){var u=s.getItemGraphicEl(o);u&&(u.__temp?(s.setItemGraphicEl(o,null),this.group.remove(u)):u.downplay())}else Mt.prototype.downplay.call(this,e,r,i,n)},t.prototype._changePolyState=function(e){var r=this._polygon;we(this._polyline,e),r&&we(r,e)},t.prototype._newPolyline=function(e){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new Ai({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},t.prototype._newPolygon=function(e,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Ci({shape:{points:e,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(e,r,i){var n,s,o=r.getBaseAxis(),u=o.inverse;r.type==="cartesian2d"?(n=o.isHorizontal(),s=!1):r.type==="polar"&&(n=o.dim==="angle",s=!0);var l=e.hostModel,h=l.get("animationDuration");H(h)&&(h=h(null));var v=l.get("animationDelay")||0,c=H(v)?v(null):v;e.eachItemGraphicEl(function(f,g){var p=f;if(p){var y=[f.x,f.y],m=void 0,d=void 0,_=void 0;if(i)if(s){var C=i,O=r.pointToCoord(y);n?(m=C.startAngle,d=C.endAngle,_=-O[1]/180*Math.PI):(m=C.r0,d=C.r,_=O[0])}else{var b=i;n?(m=b.x,d=b.x+b.width,_=f.x):(m=b.y+b.height,d=b.y,_=f.y)}var A=d===m?0:(_-m)/(d-m);u&&(A=1-A);var T=H(v)?v(g):h*A+c,w=p.getSymbolPath(),P=w.getTextContent();p.attr({scaleX:0,scaleY:0}),p.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:T}),P&&P.animateFrom({style:{opacity:0}},{duration:300,delay:T}),w.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,r,i){var n=e.getModel("endLabel");if(Tr(e)){var s=e.getData(),o=this._polyline,u=s.getLayout("points");if(!u){o.removeTextContent(),this._endLabel=null;return}var l=this._endLabel;l||(l=this._endLabel=new ma({z2:200}),l.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var h=Ri(u);h>=0&&(ae(o,xt(e,"endLabel"),{inheritColor:i,labelFetcher:e,labelDataIndex:h,defaultText:function(v,c,f){return f!=null?Ar(s,f):ge(s,v)},enableTextSetter:!0},ki(n,r)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,r,i,n,s,o,u){var l=this._endLabel,h=this._polyline;if(l){e<1&&n.originalX==null&&(n.originalX=l.x,n.originalY=l.y);var v=i.getLayout("points"),c=i.hostModel,f=c.get("connectNulls"),g=o.get("precision"),p=o.get("distance")||0,y=u.getBaseAxis(),m=y.isHorizontal(),d=y.inverse,_=r.shape,C=d?m?_.x:_.y+_.height:m?_.x+_.width:_.y,O=(m?p:0)*(d?-1:1),b=(m?0:-p)*(d?-1:1),A=m?"x":"y",T=Ni(v,C,A),w=T.range,P=w[1]-w[0],D=void 0;if(P>=1){if(P>1&&!f){var I=$e(v,w[0]);l.attr({x:I[0]+O,y:I[1]+b}),s&&(D=c.getRawValue(w[0]))}else{var I=h.getPointOn(C,A);I&&l.attr({x:I[0]+O,y:I[1]+b});var S=c.getRawValue(w[0]),E=c.getRawValue(w[1]);s&&(D=da(i,g,S,E,T.t))}n.lastFrameIndex=w[0]}else{var L=e===1||n.lastFrameIndex>0?w[0]:0,I=$e(v,L);s&&(D=c.getRawValue(L)),l.attr({x:I[0]+O,y:I[1]+b})}s&&lr(l).setLabelText(D)}},t.prototype._doUpdateAnimation=function(e,r,i,n,s,o,u){var l=this._polyline,h=this._polygon,v=e.hostModel,c=Si(this._data,e,this._stackedOnPoints,r,this._coordSys,i,this._valueOrigin),f=c.current,g=c.stackedOnCurrent,p=c.next,y=c.stackedOnNext;if(s&&(f=q(c.current,i,s,u),g=q(c.stackedOnCurrent,i,s,u),p=q(c.next,i,s,u),y=q(c.stackedOnNext,i,s,u)),He(f,p)>3e3||h&&He(g,y)>3e3){l.stopAnimation(),l.setShape({points:p}),h&&(h.stopAnimation(),h.setShape({points:p,stackedOnPoints:y}));return}l.shape.__points=c.current,l.shape.points=f;var m={shape:{points:p}};c.current!==f&&(m.shape.__points=c.next),l.stopAnimation(),$(l,m,v),h&&(h.setShape({points:f,stackedOnPoints:g}),h.stopAnimation(),$(h,{shape:{stackedOnPoints:y}},v),l.shape.points!==h.shape.points&&(h.shape.points=l.shape.points));for(var d=[],_=c.status,C=0;C<_.length;C++){var O=_[C].cmd;if(O==="="){var b=e.getItemGraphicEl(_[C].idx1);b&&d.push({el:b,ptIdx:C})}}l.animators&&l.animators.length&&l.animators[0].during(function(){h&&h.dirtyShape();for(var A=l.shape.__points,T=0;T<d.length;T++){var w=d[T].el,P=d[T].ptIdx*2;w.x=A[P],w.y=A[P+1],w.markRedraw()}})},t.prototype.remove=function(e){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(n,s){n.__temp&&(r.remove(n),i.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Mt);const Bi=xi;function Gi(a,t){return{seriesType:a,plan:Da(),reset:function(e){var r=e.getData(),i=e.coordinateSystem,n=e.pipelineContext,s=t||n.large;if(!!i){var o=Z(i.dimensions,function(f){return r.mapDimension(f)}).slice(0,2),u=o.length,l=r.getCalculationInfo("stackResultDimension");Nt(r,o[0])&&(o[0]=l),Nt(r,o[1])&&(o[1]=l);var h=r.getStore(),v=r.getDimensionIndex(o[0]),c=r.getDimensionIndex(o[1]);return u&&{progress:function(f,g){for(var p=f.end-f.start,y=s&&lt(p*u),m=[],d=[],_=f.start,C=0;_<f.end;_++){var O=void 0;if(u===1){var b=h.get(v,_);O=i.dataToPoint(b,null,d)}else m[0]=h.get(v,_),m[1]=h.get(c,_),O=i.dataToPoint(m,null,d);s?(y[C++]=O[0],y[C++]=O[1]):g.setItemLayout(_,O.slice())}s&&g.setLayout("points",y)}}}}}}var Fi={average:function(a){for(var t=0,e=0,r=0;r<a.length;r++)isNaN(a[r])||(t+=a[r],e++);return e===0?NaN:t/e},sum:function(a){for(var t=0,e=0;e<a.length;e++)t+=a[e]||0;return t},max:function(a){for(var t=-1/0,e=0;e<a.length;e++)a[e]>t&&(t=a[e]);return isFinite(t)?t:NaN},min:function(a){for(var t=1/0,e=0;e<a.length;e++)a[e]<t&&(t=a[e]);return isFinite(t)?t:NaN},nearest:function(a){return a[0]}},zi=function(a){return Math.round(a.length/2)};function Lr(a){return{seriesType:a,reset:function(t,e,r){var i=t.getData(),n=t.get("sampling"),s=t.coordinateSystem,o=i.count();if(o>10&&s.type==="cartesian2d"&&n){var u=s.getBaseAxis(),l=s.getOtherAxis(u),h=u.getExtent(),v=r.getDevicePixelRatio(),c=Math.abs(h[1]-h[0])*(v||1),f=Math.round(o/c);if(isFinite(f)&&f>1){n==="lttb"&&t.setData(i.lttbDownSample(i.mapDimension(l.dim),1/f));var g=void 0;yt(n)?g=Fi[n]:H(n)&&(g=n),g&&t.setData(i.downSample(i.mapDimension(l.dim),1/f,g,zi))}}}}}function cn(a){a.registerChartView(Bi),a.registerSeriesModel(_i),a.registerLayout(Gi("line",!0)),a.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),r=t.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",r)}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,Lr("line"))}var Mr=function(a){V(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,r){return se(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,r,i){var n=this.coordinateSystem;if(n&&n.clampData){var s=n.dataToPoint(n.clampData(e));if(i)N(n.getAxes(),function(v,c){if(v.type==="category"){var f=v.getTicksCoords(),g=n.clampData(e)[c];r&&(r[c]==="x1"||r[c]==="y1")&&(g+=1),g>f.length-1&&(g=f.length-1),g<0&&(g=0),f[g]&&(s[c]=v.toGlobalCoord(f[g].coord))}});else{var o=this.getData(),u=o.getLayout("offset"),l=o.getLayout("size"),h=n.getBaseAxis().isHorizontal()?0:1;s[h]+=u+l/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(ie);ie.registerClass(Mr);const Ze=Mr;var Vi=function(a){V(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return se(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>e&&(e=r),e},t.prototype.brushSelector=function(e,r,i){return i.rect(r.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=ba(Ze.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(Ze);const Ui=Vi;var Wi=function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a}(),Hi=function(a){V(t,a);function t(e){var r=a.call(this,e)||this;return r.type="sausage",r}return t.prototype.getDefaultShape=function(){return new Wi},t.prototype.buildPath=function(e,r){var i=r.cx,n=r.cy,s=Math.max(r.r0||0,0),o=Math.max(r.r,0),u=(o-s)*.5,l=s+u,h=r.startAngle,v=r.endAngle,c=r.clockwise,f=Math.PI*2,g=c?v-h<f:h-v<f;g||(h=v-(c?f:-f));var p=Math.cos(h),y=Math.sin(h),m=Math.cos(v),d=Math.sin(v);g?(e.moveTo(p*s+i,y*s+n),e.arc(p*l+i,y*l+n,u,-Math.PI+h,h,!c)):e.moveTo(p*o+i,y*o+n),e.arc(i,n,o,h,v,!c),e.arc(m*l+i,d*l+n,u,v-Math.PI*2,v-Math.PI,!c),s!==0&&e.arc(i,n,s,v,h,c)},t}(Bt);const Ye=Hi;function Xi(a,t){t=t||{};var e=t.isRoundCap;return function(r,i,n){var s=i.position;if(!s||s instanceof Array)return Pe(r,i,n);var o=a(s),u=i.distance!=null?i.distance:5,l=this.shape,h=l.cx,v=l.cy,c=l.r,f=l.r0,g=(c+f)/2,p=l.startAngle,y=l.endAngle,m=(p+y)/2,d=e?Math.abs(c-f)/2:0,_=Math.cos,C=Math.sin,O=h+c*_(p),b=v+c*C(p),A="left",T="top";switch(o){case"startArc":O=h+(f-u)*_(m),b=v+(f-u)*C(m),A="center",T="top";break;case"insideStartArc":O=h+(f+u)*_(m),b=v+(f+u)*C(m),A="center",T="bottom";break;case"startAngle":O=h+g*_(p)+Pt(p,u+d,!1),b=v+g*C(p)+Tt(p,u+d,!1),A="right",T="middle";break;case"insideStartAngle":O=h+g*_(p)+Pt(p,-u+d,!1),b=v+g*C(p)+Tt(p,-u+d,!1),A="left",T="middle";break;case"middle":O=h+g*_(m),b=v+g*C(m),A="center",T="middle";break;case"endArc":O=h+(c+u)*_(m),b=v+(c+u)*C(m),A="center",T="bottom";break;case"insideEndArc":O=h+(c-u)*_(m),b=v+(c-u)*C(m),A="center",T="top";break;case"endAngle":O=h+g*_(y)+Pt(y,u+d,!0),b=v+g*C(y)+Tt(y,u+d,!0),A="left",T="middle";break;case"insideEndAngle":O=h+g*_(y)+Pt(y,-u+d,!0),b=v+g*C(y)+Tt(y,-u+d,!0),A="right",T="middle";break;default:return Pe(r,i,n)}return r=r||{},r.x=O,r.y=b,r.align=A,r.verticalAlign=T,r}}function $i(a,t,e,r){if(kt(r)){a.setTextConfig({rotation:r});return}else if(ht(t)){a.setTextConfig({rotation:0});return}var i=a.shape,n=i.clockwise?i.startAngle:i.endAngle,s=i.clockwise?i.endAngle:i.startAngle,o=(n+s)/2,u,l=e(t);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=o;break;case"startAngle":case"insideStartAngle":u=n;break;case"endAngle":case"insideEndAngle":u=s;break;default:a.setTextConfig({rotation:0});return}var h=Math.PI*1.5-u;l==="middle"&&h>Math.PI/2&&h<Math.PI*1.5&&(h-=Math.PI),a.setTextConfig({rotation:h})}function Pt(a,t,e){return t*Math.sin(a)*(e?-1:1)}function Tt(a,t,e){return t*Math.cos(a)*(e?1:-1)}var $t=Math.max,Zt=Math.min;function Zi(a,t){var e=a.getArea&&a.getArea();if(me(a,"cartesian2d")){var r=a.getBaseAxis();if(r.type!=="category"||!r.onBand){var i=t.getLayout("bandWidth");r.isHorizontal()?(e.x-=i,e.width+=i*2):(e.y-=i,e.height+=i*2)}}return e}var Yi=function(a){V(t,a);function t(){var e=a.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,r,i,n){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var s=e.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,r,i):this._renderNormal(e,r,i,n))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,r){this._progressiveEls=[],this._incrementalRenderLarge(e,r)},t.prototype.eachRendered=function(e){ur(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(e,r,i,n){var s=this.group,o=e.getData(),u=this._data,l=e.coordinateSystem,h=l.getBaseAxis(),v;l.type==="cartesian2d"?v=h.isHorizontal():l.type==="polar"&&(v=h.dim==="angle");var c=e.isAnimationEnabled()?e:null,f=ji(e,l);f&&this._enableRealtimeSort(f,o,i);var g=e.get("clip",!0)||f,p=Zi(l,o);s.removeClipPath();var y=e.get("roundCap",!0),m=e.get("showBackground",!0),d=e.getModel("backgroundStyle"),_=d.get("borderRadius")||0,C=[],O=this._backgroundEls,b=n&&n.isInitSort,A=n&&n.type==="changeAxisOrder";function T(D){var I=Lt[l.type](o,D),S=rn(l,v,I);return S.useStyle(d.getItemStyle()),l.type==="cartesian2d"&&S.setShape("r",_),C[D]=S,S}o.diff(u).add(function(D){var I=o.getItemModel(D),S=Lt[l.type](o,D,I);if(m&&T(D),!(!o.hasValue(D)||!Qe[l.type](S))){var E=!1;g&&(E=je[l.type](p,S));var L=Ke[l.type](e,o,D,S,v,c,h.model,!1,y);f&&(L.forceLabelAnimation=!0),tr(L,o,D,I,S,e,v,l.type==="polar"),b?L.attr({shape:S}):f?qe(f,c,L,S,D,v,!1,!1):Q(L,{shape:S},e,D),o.setItemGraphicEl(D,L),s.add(L),L.ignore=E}}).update(function(D,I){var S=o.getItemModel(D),E=Lt[l.type](o,D,S);if(m){var L=void 0;O.length===0?L=T(I):(L=O[I],L.useStyle(d.getItemStyle()),l.type==="cartesian2d"&&L.setShape("r",_),C[D]=L);var k=Lt[l.type](o,D),G=Rr(v,k,l);$(L,{shape:G},c,D)}var M=u.getItemGraphicEl(I);if(!o.hasValue(D)||!Qe[l.type](E)){s.remove(M);return}var R=!1;if(g&&(R=je[l.type](p,E),R&&s.remove(M)),M?or(M):M=Ke[l.type](e,o,D,E,v,c,h.model,!!M,y),f&&(M.forceLabelAnimation=!0),A){var x=M.getTextContent();if(x){var F=lr(x);F.prevValue!=null&&(F.prevValue=F.value)}}else tr(M,o,D,S,E,e,v,l.type==="polar");b?M.attr({shape:E}):f?qe(f,c,M,E,D,v,!0,A):$(M,{shape:E},e,D,null),o.setItemGraphicEl(D,M),M.ignore=R,s.add(M)}).remove(function(D){var I=u.getItemGraphicEl(D);I&&Te(I,e,D)}).execute();var w=this._backgroundGroup||(this._backgroundGroup=new tt);w.removeAll();for(var P=0;P<C.length;++P)w.add(C[P]);s.add(w),this._backgroundEls=C,this._data=o},t.prototype._renderLarge=function(e,r,i){this._clear(),rr(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,r){this._removeBackground(),rr(r,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var r=e.get("clip",!0)&&wi(e.coordinateSystem,!1,e),i=this.group;r?i.setClipPath(r):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,r,i){var n=this;if(!!r.count()){var s=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,e,i),this._isFirstFrame=!1;else{var o=function(u){var l=r.getItemGraphicEl(u),h=l&&l.shape;return h&&Math.abs(s.isHorizontal()?h.height:h.width)||0};this._onRendered=function(){n._updateSortWithinSameData(r,o,s,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,r,i){var n=[];return e.each(e.mapDimension(r.dim),function(s,o){var u=i(o);u=u==null?NaN:u,n.push({dataIndex:o,mappedValue:u,ordinalNumber:s})}),n.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:Z(n,function(s){return s.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,r,i){for(var n=i.scale,s=e.mapDimension(i.dim),o=Number.MAX_VALUE,u=0,l=n.getOrdinalMeta().categories.length;u<l;++u){var h=e.rawIndexOf(s,n.getRawOrdinalNumber(u)),v=h<0?Number.MIN_VALUE:r(e.indexOfRawIndex(h));if(v>o)return!0;o=v}return!1},t.prototype._isOrderDifferentInView=function(e,r){for(var i=r.scale,n=i.getExtent(),s=Math.max(0,n[0]),o=Math.min(n[1],i.getOrdinalMeta().categories.length-1);s<=o;++s)if(e.ordinalNumbers[s]!==i.getRawOrdinalNumber(s))return!0},t.prototype._updateSortWithinSameData=function(e,r,i,n){if(!!this._isOrderChangedWithinSameData(e,r,i)){var s=this._dataSort(e,i,r);this._isOrderDifferentInView(s,i)&&(this._removeOnRenderedListener(n),n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:s}))}},t.prototype._dispatchInitSort=function(e,r,i){var n=r.baseAxis,s=this._dataSort(e,n,function(o){return e.get(e.mapDimension(r.otherAxis.dim),o)});i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",isInitSort:!0,axisId:n.index,sortInfo:s})},t.prototype.remove=function(e,r){this._clear(this._model),this._removeOnRenderedListener(r)},t.prototype.dispose=function(e,r){this._removeOnRenderedListener(r)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var r=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(n){Te(n,e,rt(n).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Mt),je={cartesian2d:function(a,t){var e=t.width<0?-1:1,r=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var i=a.x+a.width,n=a.y+a.height,s=$t(t.x,a.x),o=Zt(t.x+t.width,i),u=$t(t.y,a.y),l=Zt(t.y+t.height,n),h=o<s,v=l<u;return t.x=h&&s>i?o:s,t.y=v&&u>n?l:u,t.width=h?0:o-s,t.height=v?0:l-u,e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),h||v},polar:function(a,t){var e=t.r0<=t.r?1:-1;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}var i=Zt(t.r,a.r),n=$t(t.r0,a.r0);t.r=i,t.r0=n;var s=i-n<0;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}return s}},Ke={cartesian2d:function(a,t,e,r,i,n,s,o,u){var l=new bt({shape:z({},r),z2:1});if(l.__dataIndex=e,l.name="item",n){var h=l.shape,v=i?"height":"width";h[v]=0}return l},polar:function(a,t,e,r,i,n,s,o,u){var l=!i&&u?Ye:ne,h=new l({shape:r,z2:1});h.name="item";var v=Er(i);if(h.calculateTextPosition=Xi(v,{isRoundCap:l===Ye}),n){var c=h.shape,f=i?"r":"endAngle",g={};c[f]=i?0:r.startAngle,g[f]=r[f],(o?$:Q)(h,{shape:g},n)}return h}};function ji(a,t){var e=a.get("realtimeSort",!0),r=t.getBaseAxis();if(e&&r.type==="category"&&t.type==="cartesian2d")return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}function qe(a,t,e,r,i,n,s,o){var u,l;n?(l={x:r.x,width:r.width},u={y:r.y,height:r.height}):(l={y:r.y,height:r.height},u={x:r.x,width:r.width}),o||(s?$:Q)(e,{shape:u},t,i,null);var h=t?a.baseAxis.model:null;(s?$:Q)(e,{shape:l},h,i)}function Je(a,t){for(var e=0;e<t.length;e++)if(!isFinite(a[t[e]]))return!0;return!1}var Ki=["x","y","width","height"],qi=["cx","cy","r","startAngle","endAngle"],Qe={cartesian2d:function(a){return!Je(a,Ki)},polar:function(a){return!Je(a,qi)}},Lt={cartesian2d:function(a,t,e){var r=a.getItemLayout(t),i=e?Qi(e,r):0,n=r.width>0?1:-1,s=r.height>0?1:-1;return{x:r.x+n*i/2,y:r.y+s*i/2,width:r.width-n*i,height:r.height-s*i}},polar:function(a,t,e){var r=a.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function Ji(a){return a.startAngle!=null&&a.endAngle!=null&&a.startAngle===a.endAngle}function Er(a){return function(t){var e=t?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+e;default:return r}}}(a)}function tr(a,t,e,r,i,n,s,o){var u=t.getItemVisual(e,"style");o||a.setShape("r",r.get(["itemStyle","borderRadius"])||0),a.useStyle(u);var l=r.getShallow("cursor");l&&a.attr("cursor",l);var h=o?s?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":s?i.height>=0?"bottom":"top":i.width>=0?"right":"left",v=xt(r);ae(a,v,{labelFetcher:n,labelDataIndex:e,defaultText:ge(n.getData(),e),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:h});var c=a.getTextContent();if(o&&c){var f=r.get(["label","position"]);a.textConfig.inside=f==="middle"?!0:null,$i(a,f==="outside"?h:f,Er(s),r.get(["label","rotate"]))}Sa(c,v,n.getRawValue(e),function(p){return Ar(t,p)});var g=r.getModel(["emphasis"]);Rt(a,g.get("focus"),g.get("blurScope"),g.get("disabled")),jt(a,r),Ji(i)&&(a.style.fill="none",a.style.stroke="none",N(a.states,function(p){p.style&&(p.style.fill=p.style.stroke="none")}))}function Qi(a,t){var e=a.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var r=a.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),n=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,i,n)}var tn=function(){function a(){}return a}(),er=function(a){V(t,a);function t(e){var r=a.call(this,e)||this;return r.type="largeBar",r}return t.prototype.getDefaultShape=function(){return new tn},t.prototype.buildPath=function(e,r){for(var i=r.points,n=this.baseDimIdx,s=1-this.baseDimIdx,o=[],u=[],l=this.barWidth,h=0;h<i.length;h+=3)u[n]=l,u[s]=i[h+2],o[n]=i[h+n],o[s]=i[h+s],e.rect(o[0],o[1],u[0],u[1])},t}(Bt);function rr(a,t,e,r){var i=a.getData(),n=i.getLayout("valueAxisHorizontal")?1:0,s=i.getLayout("largeDataIndices"),o=i.getLayout("size"),u=a.getModel("backgroundStyle"),l=i.getLayout("largeBackgroundPoints");if(l){var h=new er({shape:{points:l},incremental:!!r,silent:!0,z2:0});h.baseDimIdx=n,h.largeDataIndices=s,h.barWidth=o,h.useStyle(u.getItemStyle()),t.add(h),e&&e.push(h)}var v=new er({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});v.baseDimIdx=n,v.largeDataIndices=s,v.barWidth=o,t.add(v),v.useStyle(i.getVisual("style")),rt(v).seriesIndex=a.seriesIndex,a.get("silent")||(v.on("mousedown",ar),v.on("mousemove",ar)),e&&e.push(v)}var ar=Aa(function(a){var t=this,e=en(t,a.offsetX,a.offsetY);rt(t).dataIndex=e>=0?e:null},30,!1);function en(a,t,e){for(var r=a.baseDimIdx,i=1-r,n=a.shape.points,s=a.largeDataIndices,o=[],u=[],l=a.barWidth,h=0,v=n.length/3;h<v;h++){var c=h*3;if(u[r]=l,u[i]=n[c+2],o[r]=n[c+r],o[i]=n[c+i],u[i]<0&&(o[i]+=u[i],u[i]=-u[i]),t>=o[0]&&t<=o[0]+u[0]&&e>=o[1]&&e<=o[1]+u[1])return s[h]}return-1}function Rr(a,t,e){if(me(e,"cartesian2d")){var r=t,i=e.getArea();return{x:a?r.x:i.x,y:a?i.y:r.y,width:a?r.width:i.width,height:a?i.height:r.height}}else{var i=e.getArea(),n=t;return{cx:i.cx,cy:i.cy,r0:a?i.r0:n.r0,r:a?i.r:n.r,startAngle:a?n.startAngle:0,endAngle:a?n.endAngle:Math.PI*2}}}function rn(a,t,e){var r=a.type==="polar"?ne:bt;return new r({shape:Rr(t,e,a),silent:!0,z2:0})}const an=Yi;function gn(a){a.registerChartView(an),a.registerSeriesModel(Ui),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,J(Ca,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Ia("bar")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,Lr("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var r=t.componentType||"series";e.eachComponent({mainType:r,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}export{ln as B,hr as D,Ci as E,di as S,fn as a,vn as b,Ba as c,cn as d,on as e,se as f,Gi as g,pe as h,gn as i,Ye as j,Ta as k,wi as l,hn as m,me as n,qa as o,vr as p,ge as q,Ze as r,un as s,sn as t};
//# sourceMappingURL=install.b71690e3.js.map
